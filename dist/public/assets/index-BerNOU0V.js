var bL=Object.defineProperty;var pb=t=>{throw TypeError(t)};var NL=(t,e,n)=>e in t?bL(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var H=(t,e,n)=>NL(t,typeof e!="symbol"?e+"":e,n),Lg=(t,e,n)=>e.has(t)||pb("Cannot "+n);var B=(t,e,n)=>(Lg(t,e,"read from private field"),n?n.call(t):e.get(t)),st=(t,e,n)=>e.has(t)?pb("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Ve=(t,e,n,r)=>(Lg(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),vt=(t,e,n)=>(Lg(t,e,"access private method"),n);var nm=(t,e,n,r)=>({set _(i){Ve(t,e,i,n)},get _(){return B(t,e,r)}});function SL(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function oE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var lE={exports:{}},Np={},cE={exports:{}},bt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ch=Symbol.for("react.element"),_L=Symbol.for("react.portal"),CL=Symbol.for("react.fragment"),TL=Symbol.for("react.strict_mode"),EL=Symbol.for("react.profiler"),PL=Symbol.for("react.provider"),kL=Symbol.for("react.context"),AL=Symbol.for("react.forward_ref"),IL=Symbol.for("react.suspense"),RL=Symbol.for("react.memo"),DL=Symbol.for("react.lazy"),gb=Symbol.iterator;function ML(t){return t===null||typeof t!="object"?null:(t=gb&&t[gb]||t["@@iterator"],typeof t=="function"?t:null)}var dE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},uE=Object.assign,hE={};function td(t,e,n){this.props=t,this.context=e,this.refs=hE,this.updater=n||dE}td.prototype.isReactComponent={};td.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};td.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function mE(){}mE.prototype=td.prototype;function Hv(t,e,n){this.props=t,this.context=e,this.refs=hE,this.updater=n||dE}var Wv=Hv.prototype=new mE;Wv.constructor=Hv;uE(Wv,td.prototype);Wv.isPureReactComponent=!0;var xb=Array.isArray,fE=Object.prototype.hasOwnProperty,Kv={current:null},pE={key:!0,ref:!0,__self:!0,__source:!0};function gE(t,e,n){var r,i={},a=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)fE.call(e,r)&&!pE.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:ch,type:t,key:a,ref:o,props:i,_owner:Kv.current}}function OL(t,e){return{$$typeof:ch,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Gv(t){return typeof t=="object"&&t!==null&&t.$$typeof===ch}function FL(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var yb=/\/+/g;function Ug(t,e){return typeof t=="object"&&t!==null&&t.key!=null?FL(""+t.key):e.toString(36)}function Dm(t,e,n,r,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ch:case _L:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Ug(o,0):r,xb(i)?(n="",t!=null&&(n=t.replace(yb,"$&/")+"/"),Dm(i,e,n,"",function(u){return u})):i!=null&&(Gv(i)&&(i=OL(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(yb,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",xb(t))for(var l=0;l<t.length;l++){a=t[l];var c=r+Ug(a,l);o+=Dm(a,e,n,c,i)}else if(c=ML(t),typeof c=="function")for(t=c.call(t),l=0;!(a=t.next()).done;)a=a.value,c=r+Ug(a,l++),o+=Dm(a,e,n,c,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function sm(t,e,n){if(t==null)return t;var r=[],i=0;return Dm(t,r,"","",function(a){return e.call(n,a,i++)}),r}function LL(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ws={current:null},Mm={transition:null},UL={ReactCurrentDispatcher:ws,ReactCurrentBatchConfig:Mm,ReactCurrentOwner:Kv};function xE(){throw Error("act(...) is not supported in production builds of React.")}bt.Children={map:sm,forEach:function(t,e,n){sm(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return sm(t,function(){e++}),e},toArray:function(t){return sm(t,function(e){return e})||[]},only:function(t){if(!Gv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};bt.Component=td;bt.Fragment=CL;bt.Profiler=EL;bt.PureComponent=Hv;bt.StrictMode=TL;bt.Suspense=IL;bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=UL;bt.act=xE;bt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=uE({},t.props),i=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=Kv.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)fE.call(e,c)&&!pE.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:ch,type:t.type,key:i,ref:a,props:r,_owner:o}};bt.createContext=function(t){return t={$$typeof:kL,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:PL,_context:t},t.Consumer=t};bt.createElement=gE;bt.createFactory=function(t){var e=gE.bind(null,t);return e.type=t,e};bt.createRef=function(){return{current:null}};bt.forwardRef=function(t){return{$$typeof:AL,render:t}};bt.isValidElement=Gv;bt.lazy=function(t){return{$$typeof:DL,_payload:{_status:-1,_result:t},_init:LL}};bt.memo=function(t,e){return{$$typeof:RL,type:t,compare:e===void 0?null:e}};bt.startTransition=function(t){var e=Mm.transition;Mm.transition={};try{t()}finally{Mm.transition=e}};bt.unstable_act=xE;bt.useCallback=function(t,e){return ws.current.useCallback(t,e)};bt.useContext=function(t){return ws.current.useContext(t)};bt.useDebugValue=function(){};bt.useDeferredValue=function(t){return ws.current.useDeferredValue(t)};bt.useEffect=function(t,e){return ws.current.useEffect(t,e)};bt.useId=function(){return ws.current.useId()};bt.useImperativeHandle=function(t,e,n){return ws.current.useImperativeHandle(t,e,n)};bt.useInsertionEffect=function(t,e){return ws.current.useInsertionEffect(t,e)};bt.useLayoutEffect=function(t,e){return ws.current.useLayoutEffect(t,e)};bt.useMemo=function(t,e){return ws.current.useMemo(t,e)};bt.useReducer=function(t,e,n){return ws.current.useReducer(t,e,n)};bt.useRef=function(t){return ws.current.useRef(t)};bt.useState=function(t){return ws.current.useState(t)};bt.useSyncExternalStore=function(t,e,n){return ws.current.useSyncExternalStore(t,e,n)};bt.useTransition=function(){return ws.current.useTransition()};bt.version="18.3.1";cE.exports=bt;var m=cE.exports;const pt=oE(m),yE=SL({__proto__:null,default:pt},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VL=m,$L=Symbol.for("react.element"),zL=Symbol.for("react.fragment"),BL=Object.prototype.hasOwnProperty,qL=VL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,HL={key:!0,ref:!0,__self:!0,__source:!0};function vE(t,e,n){var r,i={},a=null,o=null;n!==void 0&&(a=""+n),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)BL.call(e,r)&&!HL.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:$L,type:t,key:a,ref:o,props:i,_owner:qL.current}}Np.Fragment=zL;Np.jsx=vE;Np.jsxs=vE;lE.exports=Np;var s=lE.exports,jE={exports:{}},Js={},wE={exports:{}},bE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,z){var W=F.length;F.push(z);e:for(;0<W;){var se=W-1>>>1,Ce=F[se];if(0<i(Ce,z))F[se]=z,F[W]=Ce,W=se;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var z=F[0],W=F.pop();if(W!==z){F[0]=W;e:for(var se=0,Ce=F.length,Me=Ce>>>1;se<Me;){var q=2*(se+1)-1,ve=F[q],Ue=q+1,we=F[Ue];if(0>i(ve,W))Ue<Ce&&0>i(we,ve)?(F[se]=we,F[Ue]=W,se=Ue):(F[se]=ve,F[q]=W,se=q);else if(Ue<Ce&&0>i(we,W))F[se]=we,F[Ue]=W,se=Ue;else break e}}return z}function i(F,z){var W=F.sortIndex-z.sortIndex;return W!==0?W:F.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],h=1,p=null,f=3,v=!1,_=!1,j=!1,E=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(F){for(var z=n(u);z!==null;){if(z.callback===null)r(u);else if(z.startTime<=F)r(u),z.sortIndex=z.expirationTime,e(c,z);else break;z=n(u)}}function T(F){if(j=!1,w(F),!_)if(n(c)!==null)_=!0,de(O);else{var z=n(u);z!==null&&K(T,z.startTime-F)}}function O(F,z){_=!1,j&&(j=!1,N(S),S=-1),v=!0;var W=f;try{for(w(z),p=n(c);p!==null&&(!(p.expirationTime>z)||F&&!P());){var se=p.callback;if(typeof se=="function"){p.callback=null,f=p.priorityLevel;var Ce=se(p.expirationTime<=z);z=t.unstable_now(),typeof Ce=="function"?p.callback=Ce:p===n(c)&&r(c),w(z)}else r(c);p=n(c)}if(p!==null)var Me=!0;else{var q=n(u);q!==null&&K(T,q.startTime-z),Me=!1}return Me}finally{p=null,f=W,v=!1}}var U=!1,A=null,S=-1,g=5,k=-1;function P(){return!(t.unstable_now()-k<g)}function I(){if(A!==null){var F=t.unstable_now();k=F;var z=!0;try{z=A(!0,F)}finally{z?R():(U=!1,A=null)}}else U=!1}var R;if(typeof y=="function")R=function(){y(I)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,Ne=Q.port2;Q.port1.onmessage=I,R=function(){Ne.postMessage(null)}}else R=function(){E(I,0)};function de(F){A=F,U||(U=!0,R())}function K(F,z){S=E(function(){F(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){_||v||(_=!0,de(O))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):g=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(F){switch(f){case 1:case 2:case 3:var z=3;break;default:z=f}var W=f;f=z;try{return F()}finally{f=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,z){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var W=f;f=F;try{return z()}finally{f=W}},t.unstable_scheduleCallback=function(F,z,W){var se=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?se+W:se):W=se,F){case 1:var Ce=-1;break;case 2:Ce=250;break;case 5:Ce=1073741823;break;case 4:Ce=1e4;break;default:Ce=5e3}return Ce=W+Ce,F={id:h++,callback:z,priorityLevel:F,startTime:W,expirationTime:Ce,sortIndex:-1},W>se?(F.sortIndex=W,e(u,F),n(c)===null&&F===n(u)&&(j?(N(S),S=-1):j=!0,K(T,W-se))):(F.sortIndex=Ce,e(c,F),_||v||(_=!0,de(O))),F},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(F){var z=f;return function(){var W=f;f=z;try{return F.apply(this,arguments)}finally{f=W}}}})(bE);wE.exports=bE;var WL=wE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KL=m,Zs=WL;function _e(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var NE=new Set,ju={};function pl(t,e){Dc(t,e),Dc(t+"Capture",e)}function Dc(t,e){for(ju[t]=e,t=0;t<e.length;t++)NE.add(e[t])}var Ki=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xx=Object.prototype.hasOwnProperty,GL=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,vb={},jb={};function QL(t){return Xx.call(jb,t)?!0:Xx.call(vb,t)?!1:GL.test(t)?jb[t]=!0:(vb[t]=!0,!1)}function YL(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function XL(t,e,n,r){if(e===null||typeof e>"u"||YL(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function bs(t,e,n,r,i,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var Yn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Yn[t]=new bs(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Yn[e]=new bs(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Yn[t]=new bs(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Yn[t]=new bs(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Yn[t]=new bs(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Yn[t]=new bs(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Yn[t]=new bs(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Yn[t]=new bs(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Yn[t]=new bs(t,5,!1,t.toLowerCase(),null,!1,!1)});var Qv=/[\-:]([a-z])/g;function Yv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Qv,Yv);Yn[e]=new bs(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Qv,Yv);Yn[e]=new bs(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Qv,Yv);Yn[e]=new bs(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Yn[t]=new bs(t,1,!1,t.toLowerCase(),null,!1,!1)});Yn.xlinkHref=new bs("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Yn[t]=new bs(t,1,!1,t.toLowerCase(),null,!0,!0)});function Xv(t,e,n,r){var i=Yn.hasOwnProperty(e)?Yn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(XL(e,n,i,r)&&(n=null),r||i===null?QL(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var sa=KL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,rm=Symbol.for("react.element"),Ll=Symbol.for("react.portal"),Ul=Symbol.for("react.fragment"),Zv=Symbol.for("react.strict_mode"),Zx=Symbol.for("react.profiler"),SE=Symbol.for("react.provider"),_E=Symbol.for("react.context"),Jv=Symbol.for("react.forward_ref"),Jx=Symbol.for("react.suspense"),ey=Symbol.for("react.suspense_list"),ej=Symbol.for("react.memo"),ja=Symbol.for("react.lazy"),CE=Symbol.for("react.offscreen"),wb=Symbol.iterator;function Pd(t){return t===null||typeof t!="object"?null:(t=wb&&t[wb]||t["@@iterator"],typeof t=="function"?t:null)}var dn=Object.assign,Vg;function Bd(t){if(Vg===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Vg=e&&e[1]||""}return`
`+Vg+t}var $g=!1;function zg(t,e){if(!t||$g)return"";$g=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=r.stack.split(`
`),o=i.length-1,l=a.length-1;1<=o&&0<=l&&i[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==a[l]){var c=`
`+i[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{$g=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Bd(t):""}function ZL(t){switch(t.tag){case 5:return Bd(t.type);case 16:return Bd("Lazy");case 13:return Bd("Suspense");case 19:return Bd("SuspenseList");case 0:case 2:case 15:return t=zg(t.type,!1),t;case 11:return t=zg(t.type.render,!1),t;case 1:return t=zg(t.type,!0),t;default:return""}}function ty(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ul:return"Fragment";case Ll:return"Portal";case Zx:return"Profiler";case Zv:return"StrictMode";case Jx:return"Suspense";case ey:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case _E:return(t.displayName||"Context")+".Consumer";case SE:return(t._context.displayName||"Context")+".Provider";case Jv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ej:return e=t.displayName||null,e!==null?e:ty(t.type)||"Memo";case ja:e=t._payload,t=t._init;try{return ty(t(e))}catch{}}return null}function JL(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ty(e);case 8:return e===Zv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Za(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function TE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function e5(t){var e=TE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function im(t){t._valueTracker||(t._valueTracker=e5(t))}function EE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=TE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function cf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ny(t,e){var n=e.checked;return dn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function bb(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Za(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function PE(t,e){e=e.checked,e!=null&&Xv(t,"checked",e,!1)}function sy(t,e){PE(t,e);var n=Za(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ry(t,e.type,n):e.hasOwnProperty("defaultValue")&&ry(t,e.type,Za(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Nb(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function ry(t,e,n){(e!=="number"||cf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var qd=Array.isArray;function ec(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Za(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function iy(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(_e(91));return dn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Sb(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(_e(92));if(qd(n)){if(1<n.length)throw Error(_e(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Za(n)}}function kE(t,e){var n=Za(e.value),r=Za(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function _b(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function AE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ay(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?AE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var am,IE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(am=am||document.createElement("div"),am.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=am.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function wu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var tu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},t5=["Webkit","ms","Moz","O"];Object.keys(tu).forEach(function(t){t5.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),tu[e]=tu[t]})});function RE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||tu.hasOwnProperty(t)&&tu[t]?(""+e).trim():e+"px"}function DE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=RE(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var n5=dn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function oy(t,e){if(e){if(n5[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(_e(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(_e(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(_e(61))}if(e.style!=null&&typeof e.style!="object")throw Error(_e(62))}}function ly(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cy=null;function tj(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var dy=null,tc=null,nc=null;function Cb(t){if(t=hh(t)){if(typeof dy!="function")throw Error(_e(280));var e=t.stateNode;e&&(e=Ep(e),dy(t.stateNode,t.type,e))}}function ME(t){tc?nc?nc.push(t):nc=[t]:tc=t}function OE(){if(tc){var t=tc,e=nc;if(nc=tc=null,Cb(t),e)for(t=0;t<e.length;t++)Cb(e[t])}}function FE(t,e){return t(e)}function LE(){}var Bg=!1;function UE(t,e,n){if(Bg)return t(e,n);Bg=!0;try{return FE(t,e,n)}finally{Bg=!1,(tc!==null||nc!==null)&&(LE(),OE())}}function bu(t,e){var n=t.stateNode;if(n===null)return null;var r=Ep(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(_e(231,e,typeof n));return n}var uy=!1;if(Ki)try{var kd={};Object.defineProperty(kd,"passive",{get:function(){uy=!0}}),window.addEventListener("test",kd,kd),window.removeEventListener("test",kd,kd)}catch{uy=!1}function s5(t,e,n,r,i,a,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(h){this.onError(h)}}var nu=!1,df=null,uf=!1,hy=null,r5={onError:function(t){nu=!0,df=t}};function i5(t,e,n,r,i,a,o,l,c){nu=!1,df=null,s5.apply(r5,arguments)}function a5(t,e,n,r,i,a,o,l,c){if(i5.apply(this,arguments),nu){if(nu){var u=df;nu=!1,df=null}else throw Error(_e(198));uf||(uf=!0,hy=u)}}function gl(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function VE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Tb(t){if(gl(t)!==t)throw Error(_e(188))}function o5(t){var e=t.alternate;if(!e){if(e=gl(t),e===null)throw Error(_e(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Tb(i),t;if(a===r)return Tb(i),e;a=a.sibling}throw Error(_e(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o)throw Error(_e(189))}}if(n.alternate!==r)throw Error(_e(190))}if(n.tag!==3)throw Error(_e(188));return n.stateNode.current===n?t:e}function $E(t){return t=o5(t),t!==null?zE(t):null}function zE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=zE(t);if(e!==null)return e;t=t.sibling}return null}var BE=Zs.unstable_scheduleCallback,Eb=Zs.unstable_cancelCallback,l5=Zs.unstable_shouldYield,c5=Zs.unstable_requestPaint,bn=Zs.unstable_now,d5=Zs.unstable_getCurrentPriorityLevel,nj=Zs.unstable_ImmediatePriority,qE=Zs.unstable_UserBlockingPriority,hf=Zs.unstable_NormalPriority,u5=Zs.unstable_LowPriority,HE=Zs.unstable_IdlePriority,Sp=null,ci=null;function h5(t){if(ci&&typeof ci.onCommitFiberRoot=="function")try{ci.onCommitFiberRoot(Sp,t,void 0,(t.current.flags&128)===128)}catch{}}var Or=Math.clz32?Math.clz32:p5,m5=Math.log,f5=Math.LN2;function p5(t){return t>>>=0,t===0?32:31-(m5(t)/f5|0)|0}var om=64,lm=4194304;function Hd(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function mf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,a=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=Hd(l):(a&=o,a!==0&&(r=Hd(a)))}else o=n&~i,o!==0?r=Hd(o):a!==0&&(r=Hd(a));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Or(e),i=1<<n,r|=t[n],e&=~i;return r}function g5(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function x5(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var o=31-Or(a),l=1<<o,c=i[o];c===-1?(!(l&n)||l&r)&&(i[o]=g5(l,e)):c<=e&&(t.expiredLanes|=l),a&=~l}}function my(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function WE(){var t=om;return om<<=1,!(om&4194240)&&(om=64),t}function qg(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function dh(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Or(e),t[e]=n}function y5(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Or(n),a=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~a}}function sj(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Or(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ot=0;function KE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var GE,rj,QE,YE,XE,fy=!1,cm=[],Va=null,$a=null,za=null,Nu=new Map,Su=new Map,ba=[],v5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pb(t,e){switch(t){case"focusin":case"focusout":Va=null;break;case"dragenter":case"dragleave":$a=null;break;case"mouseover":case"mouseout":za=null;break;case"pointerover":case"pointerout":Nu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Su.delete(e.pointerId)}}function Ad(t,e,n,r,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},e!==null&&(e=hh(e),e!==null&&rj(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function j5(t,e,n,r,i){switch(e){case"focusin":return Va=Ad(Va,t,e,n,r,i),!0;case"dragenter":return $a=Ad($a,t,e,n,r,i),!0;case"mouseover":return za=Ad(za,t,e,n,r,i),!0;case"pointerover":var a=i.pointerId;return Nu.set(a,Ad(Nu.get(a)||null,t,e,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Su.set(a,Ad(Su.get(a)||null,t,e,n,r,i)),!0}return!1}function ZE(t){var e=ko(t.target);if(e!==null){var n=gl(e);if(n!==null){if(e=n.tag,e===13){if(e=VE(n),e!==null){t.blockedOn=e,XE(t.priority,function(){QE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Om(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=py(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);cy=r,n.target.dispatchEvent(r),cy=null}else return e=hh(n),e!==null&&rj(e),t.blockedOn=n,!1;e.shift()}return!0}function kb(t,e,n){Om(t)&&n.delete(e)}function w5(){fy=!1,Va!==null&&Om(Va)&&(Va=null),$a!==null&&Om($a)&&($a=null),za!==null&&Om(za)&&(za=null),Nu.forEach(kb),Su.forEach(kb)}function Id(t,e){t.blockedOn===e&&(t.blockedOn=null,fy||(fy=!0,Zs.unstable_scheduleCallback(Zs.unstable_NormalPriority,w5)))}function _u(t){function e(i){return Id(i,t)}if(0<cm.length){Id(cm[0],t);for(var n=1;n<cm.length;n++){var r=cm[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Va!==null&&Id(Va,t),$a!==null&&Id($a,t),za!==null&&Id(za,t),Nu.forEach(e),Su.forEach(e),n=0;n<ba.length;n++)r=ba[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ba.length&&(n=ba[0],n.blockedOn===null);)ZE(n),n.blockedOn===null&&ba.shift()}var sc=sa.ReactCurrentBatchConfig,ff=!0;function b5(t,e,n,r){var i=Ot,a=sc.transition;sc.transition=null;try{Ot=1,ij(t,e,n,r)}finally{Ot=i,sc.transition=a}}function N5(t,e,n,r){var i=Ot,a=sc.transition;sc.transition=null;try{Ot=4,ij(t,e,n,r)}finally{Ot=i,sc.transition=a}}function ij(t,e,n,r){if(ff){var i=py(t,e,n,r);if(i===null)ex(t,e,r,pf,n),Pb(t,r);else if(j5(i,t,e,n,r))r.stopPropagation();else if(Pb(t,r),e&4&&-1<v5.indexOf(t)){for(;i!==null;){var a=hh(i);if(a!==null&&GE(a),a=py(t,e,n,r),a===null&&ex(t,e,r,pf,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else ex(t,e,r,null,n)}}var pf=null;function py(t,e,n,r){if(pf=null,t=tj(r),t=ko(t),t!==null)if(e=gl(t),e===null)t=null;else if(n=e.tag,n===13){if(t=VE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return pf=t,null}function JE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(d5()){case nj:return 1;case qE:return 4;case hf:case u5:return 16;case HE:return 536870912;default:return 16}default:return 16}}var La=null,aj=null,Fm=null;function eP(){if(Fm)return Fm;var t,e=aj,n=e.length,r,i="value"in La?La.value:La.textContent,a=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[a-r];r++);return Fm=i.slice(t,1<r?1-r:void 0)}function Lm(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function dm(){return!0}function Ab(){return!1}function er(t){function e(n,r,i,a,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?dm:Ab,this.isPropagationStopped=Ab,this}return dn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=dm)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=dm)},persist:function(){},isPersistent:dm}),e}var nd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},oj=er(nd),uh=dn({},nd,{view:0,detail:0}),S5=er(uh),Hg,Wg,Rd,_p=dn({},uh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lj,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Rd&&(Rd&&t.type==="mousemove"?(Hg=t.screenX-Rd.screenX,Wg=t.screenY-Rd.screenY):Wg=Hg=0,Rd=t),Hg)},movementY:function(t){return"movementY"in t?t.movementY:Wg}}),Ib=er(_p),_5=dn({},_p,{dataTransfer:0}),C5=er(_5),T5=dn({},uh,{relatedTarget:0}),Kg=er(T5),E5=dn({},nd,{animationName:0,elapsedTime:0,pseudoElement:0}),P5=er(E5),k5=dn({},nd,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),A5=er(k5),I5=dn({},nd,{data:0}),Rb=er(I5),R5={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},D5={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},M5={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function O5(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=M5[t])?!!e[t]:!1}function lj(){return O5}var F5=dn({},uh,{key:function(t){if(t.key){var e=R5[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Lm(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?D5[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lj,charCode:function(t){return t.type==="keypress"?Lm(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Lm(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),L5=er(F5),U5=dn({},_p,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Db=er(U5),V5=dn({},uh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lj}),$5=er(V5),z5=dn({},nd,{propertyName:0,elapsedTime:0,pseudoElement:0}),B5=er(z5),q5=dn({},_p,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),H5=er(q5),W5=[9,13,27,32],cj=Ki&&"CompositionEvent"in window,su=null;Ki&&"documentMode"in document&&(su=document.documentMode);var K5=Ki&&"TextEvent"in window&&!su,tP=Ki&&(!cj||su&&8<su&&11>=su),Mb=" ",Ob=!1;function nP(t,e){switch(t){case"keyup":return W5.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sP(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Vl=!1;function G5(t,e){switch(t){case"compositionend":return sP(e);case"keypress":return e.which!==32?null:(Ob=!0,Mb);case"textInput":return t=e.data,t===Mb&&Ob?null:t;default:return null}}function Q5(t,e){if(Vl)return t==="compositionend"||!cj&&nP(t,e)?(t=eP(),Fm=aj=La=null,Vl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return tP&&e.locale!=="ko"?null:e.data;default:return null}}var Y5={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fb(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Y5[t.type]:e==="textarea"}function rP(t,e,n,r){ME(r),e=gf(e,"onChange"),0<e.length&&(n=new oj("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ru=null,Cu=null;function X5(t){pP(t,0)}function Cp(t){var e=Bl(t);if(EE(e))return t}function Z5(t,e){if(t==="change")return e}var iP=!1;if(Ki){var Gg;if(Ki){var Qg="oninput"in document;if(!Qg){var Lb=document.createElement("div");Lb.setAttribute("oninput","return;"),Qg=typeof Lb.oninput=="function"}Gg=Qg}else Gg=!1;iP=Gg&&(!document.documentMode||9<document.documentMode)}function Ub(){ru&&(ru.detachEvent("onpropertychange",aP),Cu=ru=null)}function aP(t){if(t.propertyName==="value"&&Cp(Cu)){var e=[];rP(e,Cu,t,tj(t)),UE(X5,e)}}function J5(t,e,n){t==="focusin"?(Ub(),ru=e,Cu=n,ru.attachEvent("onpropertychange",aP)):t==="focusout"&&Ub()}function e6(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Cp(Cu)}function t6(t,e){if(t==="click")return Cp(e)}function n6(t,e){if(t==="input"||t==="change")return Cp(e)}function s6(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var zr=typeof Object.is=="function"?Object.is:s6;function Tu(t,e){if(zr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Xx.call(e,i)||!zr(t[i],e[i]))return!1}return!0}function Vb(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function $b(t,e){var n=Vb(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Vb(n)}}function oP(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?oP(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function lP(){for(var t=window,e=cf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=cf(t.document)}return e}function dj(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function r6(t){var e=lP(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&oP(n.ownerDocument.documentElement,n)){if(r!==null&&dj(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!t.extend&&a>r&&(i=r,r=a,a=i),i=$b(n,a);var o=$b(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var i6=Ki&&"documentMode"in document&&11>=document.documentMode,$l=null,gy=null,iu=null,xy=!1;function zb(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;xy||$l==null||$l!==cf(r)||(r=$l,"selectionStart"in r&&dj(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),iu&&Tu(iu,r)||(iu=r,r=gf(gy,"onSelect"),0<r.length&&(e=new oj("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=$l)))}function um(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var zl={animationend:um("Animation","AnimationEnd"),animationiteration:um("Animation","AnimationIteration"),animationstart:um("Animation","AnimationStart"),transitionend:um("Transition","TransitionEnd")},Yg={},cP={};Ki&&(cP=document.createElement("div").style,"AnimationEvent"in window||(delete zl.animationend.animation,delete zl.animationiteration.animation,delete zl.animationstart.animation),"TransitionEvent"in window||delete zl.transitionend.transition);function Tp(t){if(Yg[t])return Yg[t];if(!zl[t])return t;var e=zl[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in cP)return Yg[t]=e[n];return t}var dP=Tp("animationend"),uP=Tp("animationiteration"),hP=Tp("animationstart"),mP=Tp("transitionend"),fP=new Map,Bb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function uo(t,e){fP.set(t,e),pl(e,[t])}for(var Xg=0;Xg<Bb.length;Xg++){var Zg=Bb[Xg],a6=Zg.toLowerCase(),o6=Zg[0].toUpperCase()+Zg.slice(1);uo(a6,"on"+o6)}uo(dP,"onAnimationEnd");uo(uP,"onAnimationIteration");uo(hP,"onAnimationStart");uo("dblclick","onDoubleClick");uo("focusin","onFocus");uo("focusout","onBlur");uo(mP,"onTransitionEnd");Dc("onMouseEnter",["mouseout","mouseover"]);Dc("onMouseLeave",["mouseout","mouseover"]);Dc("onPointerEnter",["pointerout","pointerover"]);Dc("onPointerLeave",["pointerout","pointerover"]);pl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));pl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));pl("onBeforeInput",["compositionend","keypress","textInput","paste"]);pl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));pl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));pl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),l6=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wd));function qb(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,a5(r,e,void 0,t),t.currentTarget=null}function pP(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&i.isPropagationStopped())break e;qb(i,l,u),a=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&i.isPropagationStopped())break e;qb(i,l,u),a=c}}}if(uf)throw t=hy,uf=!1,hy=null,t}function Kt(t,e){var n=e[by];n===void 0&&(n=e[by]=new Set);var r=t+"__bubble";n.has(r)||(gP(e,t,2,!1),n.add(r))}function Jg(t,e,n){var r=0;e&&(r|=4),gP(n,t,r,e)}var hm="_reactListening"+Math.random().toString(36).slice(2);function Eu(t){if(!t[hm]){t[hm]=!0,NE.forEach(function(n){n!=="selectionchange"&&(l6.has(n)||Jg(n,!1,t),Jg(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[hm]||(e[hm]=!0,Jg("selectionchange",!1,e))}}function gP(t,e,n,r){switch(JE(e)){case 1:var i=b5;break;case 4:i=N5;break;default:i=ij}n=i.bind(null,e,n,t),i=void 0,!uy||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function ex(t,e,n,r,i){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=ko(l),o===null)return;if(c=o.tag,c===5||c===6){r=a=o;continue e}l=l.parentNode}}r=r.return}UE(function(){var u=a,h=tj(n),p=[];e:{var f=fP.get(t);if(f!==void 0){var v=oj,_=t;switch(t){case"keypress":if(Lm(n)===0)break e;case"keydown":case"keyup":v=L5;break;case"focusin":_="focus",v=Kg;break;case"focusout":_="blur",v=Kg;break;case"beforeblur":case"afterblur":v=Kg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Ib;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=C5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=$5;break;case dP:case uP:case hP:v=P5;break;case mP:v=B5;break;case"scroll":v=S5;break;case"wheel":v=H5;break;case"copy":case"cut":case"paste":v=A5;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Db}var j=(e&4)!==0,E=!j&&t==="scroll",N=j?f!==null?f+"Capture":null:f;j=[];for(var y=u,w;y!==null;){w=y;var T=w.stateNode;if(w.tag===5&&T!==null&&(w=T,N!==null&&(T=bu(y,N),T!=null&&j.push(Pu(y,T,w)))),E)break;y=y.return}0<j.length&&(f=new v(f,_,null,n,h),p.push({event:f,listeners:j}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",f&&n!==cy&&(_=n.relatedTarget||n.fromElement)&&(ko(_)||_[Gi]))break e;if((v||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,v?(_=n.relatedTarget||n.toElement,v=u,_=_?ko(_):null,_!==null&&(E=gl(_),_!==E||_.tag!==5&&_.tag!==6)&&(_=null)):(v=null,_=u),v!==_)){if(j=Ib,T="onMouseLeave",N="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(j=Db,T="onPointerLeave",N="onPointerEnter",y="pointer"),E=v==null?f:Bl(v),w=_==null?f:Bl(_),f=new j(T,y+"leave",v,n,h),f.target=E,f.relatedTarget=w,T=null,ko(h)===u&&(j=new j(N,y+"enter",_,n,h),j.target=w,j.relatedTarget=E,T=j),E=T,v&&_)t:{for(j=v,N=_,y=0,w=j;w;w=Pl(w))y++;for(w=0,T=N;T;T=Pl(T))w++;for(;0<y-w;)j=Pl(j),y--;for(;0<w-y;)N=Pl(N),w--;for(;y--;){if(j===N||N!==null&&j===N.alternate)break t;j=Pl(j),N=Pl(N)}j=null}else j=null;v!==null&&Hb(p,f,v,j,!1),_!==null&&E!==null&&Hb(p,E,_,j,!0)}}e:{if(f=u?Bl(u):window,v=f.nodeName&&f.nodeName.toLowerCase(),v==="select"||v==="input"&&f.type==="file")var O=Z5;else if(Fb(f))if(iP)O=n6;else{O=e6;var U=J5}else(v=f.nodeName)&&v.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(O=t6);if(O&&(O=O(t,u))){rP(p,O,n,h);break e}U&&U(t,f,u),t==="focusout"&&(U=f._wrapperState)&&U.controlled&&f.type==="number"&&ry(f,"number",f.value)}switch(U=u?Bl(u):window,t){case"focusin":(Fb(U)||U.contentEditable==="true")&&($l=U,gy=u,iu=null);break;case"focusout":iu=gy=$l=null;break;case"mousedown":xy=!0;break;case"contextmenu":case"mouseup":case"dragend":xy=!1,zb(p,n,h);break;case"selectionchange":if(i6)break;case"keydown":case"keyup":zb(p,n,h)}var A;if(cj)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Vl?nP(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(tP&&n.locale!=="ko"&&(Vl||S!=="onCompositionStart"?S==="onCompositionEnd"&&Vl&&(A=eP()):(La=h,aj="value"in La?La.value:La.textContent,Vl=!0)),U=gf(u,S),0<U.length&&(S=new Rb(S,t,null,n,h),p.push({event:S,listeners:U}),A?S.data=A:(A=sP(n),A!==null&&(S.data=A)))),(A=K5?G5(t,n):Q5(t,n))&&(u=gf(u,"onBeforeInput"),0<u.length&&(h=new Rb("onBeforeInput","beforeinput",null,n,h),p.push({event:h,listeners:u}),h.data=A))}pP(p,e)})}function Pu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function gf(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=bu(t,n),a!=null&&r.unshift(Pu(t,a,i)),a=bu(t,e),a!=null&&r.push(Pu(t,a,i))),t=t.return}return r}function Pl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Hb(t,e,n,r,i){for(var a=e._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,i?(c=bu(n,a),c!=null&&o.unshift(Pu(n,c,l))):i||(c=bu(n,a),c!=null&&o.push(Pu(n,c,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var c6=/\r\n?/g,d6=/\u0000|\uFFFD/g;function Wb(t){return(typeof t=="string"?t:""+t).replace(c6,`
`).replace(d6,"")}function mm(t,e,n){if(e=Wb(e),Wb(t)!==e&&n)throw Error(_e(425))}function xf(){}var yy=null,vy=null;function jy(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var wy=typeof setTimeout=="function"?setTimeout:void 0,u6=typeof clearTimeout=="function"?clearTimeout:void 0,Kb=typeof Promise=="function"?Promise:void 0,h6=typeof queueMicrotask=="function"?queueMicrotask:typeof Kb<"u"?function(t){return Kb.resolve(null).then(t).catch(m6)}:wy;function m6(t){setTimeout(function(){throw t})}function tx(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),_u(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);_u(e)}function Ba(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Gb(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var sd=Math.random().toString(36).slice(2),si="__reactFiber$"+sd,ku="__reactProps$"+sd,Gi="__reactContainer$"+sd,by="__reactEvents$"+sd,f6="__reactListeners$"+sd,p6="__reactHandles$"+sd;function ko(t){var e=t[si];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Gi]||n[si]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Gb(t);t!==null;){if(n=t[si])return n;t=Gb(t)}return e}t=n,n=t.parentNode}return null}function hh(t){return t=t[si]||t[Gi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Bl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(_e(33))}function Ep(t){return t[ku]||null}var Ny=[],ql=-1;function ho(t){return{current:t}}function Yt(t){0>ql||(t.current=Ny[ql],Ny[ql]=null,ql--)}function zt(t,e){ql++,Ny[ql]=t.current,t.current=e}var Ja={},rs=ho(Ja),As=ho(!1),Xo=Ja;function Mc(t,e){var n=t.type.contextTypes;if(!n)return Ja;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=e[a];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Is(t){return t=t.childContextTypes,t!=null}function yf(){Yt(As),Yt(rs)}function Qb(t,e,n){if(rs.current!==Ja)throw Error(_e(168));zt(rs,e),zt(As,n)}function xP(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(_e(108,JL(t)||"Unknown",i));return dn({},n,r)}function vf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ja,Xo=rs.current,zt(rs,t),zt(As,As.current),!0}function Yb(t,e,n){var r=t.stateNode;if(!r)throw Error(_e(169));n?(t=xP(t,e,Xo),r.__reactInternalMemoizedMergedChildContext=t,Yt(As),Yt(rs),zt(rs,t)):Yt(As),zt(As,n)}var Fi=null,Pp=!1,nx=!1;function yP(t){Fi===null?Fi=[t]:Fi.push(t)}function g6(t){Pp=!0,yP(t)}function mo(){if(!nx&&Fi!==null){nx=!0;var t=0,e=Ot;try{var n=Fi;for(Ot=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Fi=null,Pp=!1}catch(i){throw Fi!==null&&(Fi=Fi.slice(t+1)),BE(nj,mo),i}finally{Ot=e,nx=!1}}return null}var Hl=[],Wl=0,jf=null,wf=0,ar=[],or=0,Zo=null,$i=1,zi="";function So(t,e){Hl[Wl++]=wf,Hl[Wl++]=jf,jf=t,wf=e}function vP(t,e,n){ar[or++]=$i,ar[or++]=zi,ar[or++]=Zo,Zo=t;var r=$i;t=zi;var i=32-Or(r)-1;r&=~(1<<i),n+=1;var a=32-Or(e)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,$i=1<<32-Or(e)+i|n<<i|r,zi=a+t}else $i=1<<a|n<<i|r,zi=t}function uj(t){t.return!==null&&(So(t,1),vP(t,1,0))}function hj(t){for(;t===jf;)jf=Hl[--Wl],Hl[Wl]=null,wf=Hl[--Wl],Hl[Wl]=null;for(;t===Zo;)Zo=ar[--or],ar[or]=null,zi=ar[--or],ar[or]=null,$i=ar[--or],ar[or]=null}var Bs=null,Vs=null,Jt=!1,Cr=null;function jP(t,e){var n=lr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Xb(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Bs=t,Vs=Ba(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Bs=t,Vs=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Zo!==null?{id:$i,overflow:zi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=lr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Bs=t,Vs=null,!0):!1;default:return!1}}function Sy(t){return(t.mode&1)!==0&&(t.flags&128)===0}function _y(t){if(Jt){var e=Vs;if(e){var n=e;if(!Xb(t,e)){if(Sy(t))throw Error(_e(418));e=Ba(n.nextSibling);var r=Bs;e&&Xb(t,e)?jP(r,n):(t.flags=t.flags&-4097|2,Jt=!1,Bs=t)}}else{if(Sy(t))throw Error(_e(418));t.flags=t.flags&-4097|2,Jt=!1,Bs=t}}}function Zb(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Bs=t}function fm(t){if(t!==Bs)return!1;if(!Jt)return Zb(t),Jt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!jy(t.type,t.memoizedProps)),e&&(e=Vs)){if(Sy(t))throw wP(),Error(_e(418));for(;e;)jP(t,e),e=Ba(e.nextSibling)}if(Zb(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(_e(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Vs=Ba(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Vs=null}}else Vs=Bs?Ba(t.stateNode.nextSibling):null;return!0}function wP(){for(var t=Vs;t;)t=Ba(t.nextSibling)}function Oc(){Vs=Bs=null,Jt=!1}function mj(t){Cr===null?Cr=[t]:Cr.push(t)}var x6=sa.ReactCurrentBatchConfig;function Dd(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(_e(309));var r=n.stateNode}if(!r)throw Error(_e(147,t));var i=r,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(o){var l=i.refs;o===null?delete l[a]:l[a]=o},e._stringRef=a,e)}if(typeof t!="string")throw Error(_e(284));if(!n._owner)throw Error(_e(290,t))}return t}function pm(t,e){throw t=Object.prototype.toString.call(e),Error(_e(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Jb(t){var e=t._init;return e(t._payload)}function bP(t){function e(N,y){if(t){var w=N.deletions;w===null?(N.deletions=[y],N.flags|=16):w.push(y)}}function n(N,y){if(!t)return null;for(;y!==null;)e(N,y),y=y.sibling;return null}function r(N,y){for(N=new Map;y!==null;)y.key!==null?N.set(y.key,y):N.set(y.index,y),y=y.sibling;return N}function i(N,y){return N=Ka(N,y),N.index=0,N.sibling=null,N}function a(N,y,w){return N.index=w,t?(w=N.alternate,w!==null?(w=w.index,w<y?(N.flags|=2,y):w):(N.flags|=2,y)):(N.flags|=1048576,y)}function o(N){return t&&N.alternate===null&&(N.flags|=2),N}function l(N,y,w,T){return y===null||y.tag!==6?(y=cx(w,N.mode,T),y.return=N,y):(y=i(y,w),y.return=N,y)}function c(N,y,w,T){var O=w.type;return O===Ul?h(N,y,w.props.children,T,w.key):y!==null&&(y.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===ja&&Jb(O)===y.type)?(T=i(y,w.props),T.ref=Dd(N,y,w),T.return=N,T):(T=Hm(w.type,w.key,w.props,null,N.mode,T),T.ref=Dd(N,y,w),T.return=N,T)}function u(N,y,w,T){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=dx(w,N.mode,T),y.return=N,y):(y=i(y,w.children||[]),y.return=N,y)}function h(N,y,w,T,O){return y===null||y.tag!==7?(y=Ho(w,N.mode,T,O),y.return=N,y):(y=i(y,w),y.return=N,y)}function p(N,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=cx(""+y,N.mode,w),y.return=N,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case rm:return w=Hm(y.type,y.key,y.props,null,N.mode,w),w.ref=Dd(N,null,y),w.return=N,w;case Ll:return y=dx(y,N.mode,w),y.return=N,y;case ja:var T=y._init;return p(N,T(y._payload),w)}if(qd(y)||Pd(y))return y=Ho(y,N.mode,w,null),y.return=N,y;pm(N,y)}return null}function f(N,y,w,T){var O=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return O!==null?null:l(N,y,""+w,T);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case rm:return w.key===O?c(N,y,w,T):null;case Ll:return w.key===O?u(N,y,w,T):null;case ja:return O=w._init,f(N,y,O(w._payload),T)}if(qd(w)||Pd(w))return O!==null?null:h(N,y,w,T,null);pm(N,w)}return null}function v(N,y,w,T,O){if(typeof T=="string"&&T!==""||typeof T=="number")return N=N.get(w)||null,l(y,N,""+T,O);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case rm:return N=N.get(T.key===null?w:T.key)||null,c(y,N,T,O);case Ll:return N=N.get(T.key===null?w:T.key)||null,u(y,N,T,O);case ja:var U=T._init;return v(N,y,w,U(T._payload),O)}if(qd(T)||Pd(T))return N=N.get(w)||null,h(y,N,T,O,null);pm(y,T)}return null}function _(N,y,w,T){for(var O=null,U=null,A=y,S=y=0,g=null;A!==null&&S<w.length;S++){A.index>S?(g=A,A=null):g=A.sibling;var k=f(N,A,w[S],T);if(k===null){A===null&&(A=g);break}t&&A&&k.alternate===null&&e(N,A),y=a(k,y,S),U===null?O=k:U.sibling=k,U=k,A=g}if(S===w.length)return n(N,A),Jt&&So(N,S),O;if(A===null){for(;S<w.length;S++)A=p(N,w[S],T),A!==null&&(y=a(A,y,S),U===null?O=A:U.sibling=A,U=A);return Jt&&So(N,S),O}for(A=r(N,A);S<w.length;S++)g=v(A,N,S,w[S],T),g!==null&&(t&&g.alternate!==null&&A.delete(g.key===null?S:g.key),y=a(g,y,S),U===null?O=g:U.sibling=g,U=g);return t&&A.forEach(function(P){return e(N,P)}),Jt&&So(N,S),O}function j(N,y,w,T){var O=Pd(w);if(typeof O!="function")throw Error(_e(150));if(w=O.call(w),w==null)throw Error(_e(151));for(var U=O=null,A=y,S=y=0,g=null,k=w.next();A!==null&&!k.done;S++,k=w.next()){A.index>S?(g=A,A=null):g=A.sibling;var P=f(N,A,k.value,T);if(P===null){A===null&&(A=g);break}t&&A&&P.alternate===null&&e(N,A),y=a(P,y,S),U===null?O=P:U.sibling=P,U=P,A=g}if(k.done)return n(N,A),Jt&&So(N,S),O;if(A===null){for(;!k.done;S++,k=w.next())k=p(N,k.value,T),k!==null&&(y=a(k,y,S),U===null?O=k:U.sibling=k,U=k);return Jt&&So(N,S),O}for(A=r(N,A);!k.done;S++,k=w.next())k=v(A,N,S,k.value,T),k!==null&&(t&&k.alternate!==null&&A.delete(k.key===null?S:k.key),y=a(k,y,S),U===null?O=k:U.sibling=k,U=k);return t&&A.forEach(function(I){return e(N,I)}),Jt&&So(N,S),O}function E(N,y,w,T){if(typeof w=="object"&&w!==null&&w.type===Ul&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case rm:e:{for(var O=w.key,U=y;U!==null;){if(U.key===O){if(O=w.type,O===Ul){if(U.tag===7){n(N,U.sibling),y=i(U,w.props.children),y.return=N,N=y;break e}}else if(U.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===ja&&Jb(O)===U.type){n(N,U.sibling),y=i(U,w.props),y.ref=Dd(N,U,w),y.return=N,N=y;break e}n(N,U);break}else e(N,U);U=U.sibling}w.type===Ul?(y=Ho(w.props.children,N.mode,T,w.key),y.return=N,N=y):(T=Hm(w.type,w.key,w.props,null,N.mode,T),T.ref=Dd(N,y,w),T.return=N,N=T)}return o(N);case Ll:e:{for(U=w.key;y!==null;){if(y.key===U)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){n(N,y.sibling),y=i(y,w.children||[]),y.return=N,N=y;break e}else{n(N,y);break}else e(N,y);y=y.sibling}y=dx(w,N.mode,T),y.return=N,N=y}return o(N);case ja:return U=w._init,E(N,y,U(w._payload),T)}if(qd(w))return _(N,y,w,T);if(Pd(w))return j(N,y,w,T);pm(N,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(n(N,y.sibling),y=i(y,w),y.return=N,N=y):(n(N,y),y=cx(w,N.mode,T),y.return=N,N=y),o(N)):n(N,y)}return E}var Fc=bP(!0),NP=bP(!1),bf=ho(null),Nf=null,Kl=null,fj=null;function pj(){fj=Kl=Nf=null}function gj(t){var e=bf.current;Yt(bf),t._currentValue=e}function Cy(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function rc(t,e){Nf=t,fj=Kl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ks=!0),t.firstContext=null)}function hr(t){var e=t._currentValue;if(fj!==t)if(t={context:t,memoizedValue:e,next:null},Kl===null){if(Nf===null)throw Error(_e(308));Kl=t,Nf.dependencies={lanes:0,firstContext:t}}else Kl=Kl.next=t;return e}var Ao=null;function xj(t){Ao===null?Ao=[t]:Ao.push(t)}function SP(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,xj(e)):(n.next=i.next,i.next=n),e.interleaved=n,Qi(t,r)}function Qi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var wa=!1;function yj(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _P(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Hi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function qa(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Pt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Qi(t,n)}return i=r.interleaved,i===null?(e.next=e,xj(r)):(e.next=i.next,i.next=e),r.interleaved=e,Qi(t,n)}function Um(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,sj(t,n)}}function eN(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=e:a=a.next=e}else i=a=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Sf(t,e,n,r){var i=t.updateQueue;wa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?a=u:o.next=u,o=c;var h=t.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==o&&(l===null?h.firstBaseUpdate=u:l.next=u,h.lastBaseUpdate=c))}if(a!==null){var p=i.baseState;o=0,h=u=c=null,l=a;do{var f=l.lane,v=l.eventTime;if((r&f)===f){h!==null&&(h=h.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var _=t,j=l;switch(f=e,v=n,j.tag){case 1:if(_=j.payload,typeof _=="function"){p=_.call(v,p,f);break e}p=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=j.payload,f=typeof _=="function"?_.call(v,p,f):_,f==null)break e;p=dn({},p,f);break e;case 2:wa=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[l]:f.push(l))}else v={eventTime:v,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(u=h=v,c=p):h=h.next=v,o|=f;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;f=l,l=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(h===null&&(c=p),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);el|=o,t.lanes=o,t.memoizedState=p}}function tN(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(_e(191,i));i.call(r)}}}var mh={},di=ho(mh),Au=ho(mh),Iu=ho(mh);function Io(t){if(t===mh)throw Error(_e(174));return t}function vj(t,e){switch(zt(Iu,e),zt(Au,t),zt(di,mh),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ay(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ay(e,t)}Yt(di),zt(di,e)}function Lc(){Yt(di),Yt(Au),Yt(Iu)}function CP(t){Io(Iu.current);var e=Io(di.current),n=ay(e,t.type);e!==n&&(zt(Au,t),zt(di,n))}function jj(t){Au.current===t&&(Yt(di),Yt(Au))}var on=ho(0);function _f(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var sx=[];function wj(){for(var t=0;t<sx.length;t++)sx[t]._workInProgressVersionPrimary=null;sx.length=0}var Vm=sa.ReactCurrentDispatcher,rx=sa.ReactCurrentBatchConfig,Jo=0,cn=null,Mn=null,zn=null,Cf=!1,au=!1,Ru=0,y6=0;function Jn(){throw Error(_e(321))}function bj(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!zr(t[n],e[n]))return!1;return!0}function Nj(t,e,n,r,i,a){if(Jo=a,cn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Vm.current=t===null||t.memoizedState===null?b6:N6,t=n(r,i),au){a=0;do{if(au=!1,Ru=0,25<=a)throw Error(_e(301));a+=1,zn=Mn=null,e.updateQueue=null,Vm.current=S6,t=n(r,i)}while(au)}if(Vm.current=Tf,e=Mn!==null&&Mn.next!==null,Jo=0,zn=Mn=cn=null,Cf=!1,e)throw Error(_e(300));return t}function Sj(){var t=Ru!==0;return Ru=0,t}function Yr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zn===null?cn.memoizedState=zn=t:zn=zn.next=t,zn}function mr(){if(Mn===null){var t=cn.alternate;t=t!==null?t.memoizedState:null}else t=Mn.next;var e=zn===null?cn.memoizedState:zn.next;if(e!==null)zn=e,Mn=t;else{if(t===null)throw Error(_e(310));Mn=t,t={memoizedState:Mn.memoizedState,baseState:Mn.baseState,baseQueue:Mn.baseQueue,queue:Mn.queue,next:null},zn===null?cn.memoizedState=zn=t:zn=zn.next=t}return zn}function Du(t,e){return typeof e=="function"?e(t):e}function ix(t){var e=mr(),n=e.queue;if(n===null)throw Error(_e(311));n.lastRenderedReducer=t;var r=Mn,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var l=o=null,c=null,u=a;do{var h=u.lane;if((Jo&h)===h)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var p={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=p,o=r):c=c.next=p,cn.lanes|=h,el|=h}u=u.next}while(u!==null&&u!==a);c===null?o=r:c.next=l,zr(r,e.memoizedState)||(ks=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do a=i.lane,cn.lanes|=a,el|=a,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function ax(t){var e=mr(),n=e.queue;if(n===null)throw Error(_e(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do a=t(a,o.action),o=o.next;while(o!==i);zr(a,e.memoizedState)||(ks=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function TP(){}function EP(t,e){var n=cn,r=mr(),i=e(),a=!zr(r.memoizedState,i);if(a&&(r.memoizedState=i,ks=!0),r=r.queue,_j(AP.bind(null,n,r,t),[t]),r.getSnapshot!==e||a||zn!==null&&zn.memoizedState.tag&1){if(n.flags|=2048,Mu(9,kP.bind(null,n,r,i,e),void 0,null),Bn===null)throw Error(_e(349));Jo&30||PP(n,e,i)}return i}function PP(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=cn.updateQueue,e===null?(e={lastEffect:null,stores:null},cn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function kP(t,e,n,r){e.value=n,e.getSnapshot=r,IP(e)&&RP(t)}function AP(t,e,n){return n(function(){IP(e)&&RP(t)})}function IP(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!zr(t,n)}catch{return!0}}function RP(t){var e=Qi(t,1);e!==null&&Fr(e,t,1,-1)}function nN(t){var e=Yr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Du,lastRenderedState:t},e.queue=t,t=t.dispatch=w6.bind(null,cn,t),[e.memoizedState,t]}function Mu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=cn.updateQueue,e===null?(e={lastEffect:null,stores:null},cn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function DP(){return mr().memoizedState}function $m(t,e,n,r){var i=Yr();cn.flags|=t,i.memoizedState=Mu(1|e,n,void 0,r===void 0?null:r)}function kp(t,e,n,r){var i=mr();r=r===void 0?null:r;var a=void 0;if(Mn!==null){var o=Mn.memoizedState;if(a=o.destroy,r!==null&&bj(r,o.deps)){i.memoizedState=Mu(e,n,a,r);return}}cn.flags|=t,i.memoizedState=Mu(1|e,n,a,r)}function sN(t,e){return $m(8390656,8,t,e)}function _j(t,e){return kp(2048,8,t,e)}function MP(t,e){return kp(4,2,t,e)}function OP(t,e){return kp(4,4,t,e)}function FP(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function LP(t,e,n){return n=n!=null?n.concat([t]):null,kp(4,4,FP.bind(null,e,t),n)}function Cj(){}function UP(t,e){var n=mr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&bj(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function VP(t,e){var n=mr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&bj(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function $P(t,e,n){return Jo&21?(zr(n,e)||(n=WE(),cn.lanes|=n,el|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ks=!0),t.memoizedState=n)}function v6(t,e){var n=Ot;Ot=n!==0&&4>n?n:4,t(!0);var r=rx.transition;rx.transition={};try{t(!1),e()}finally{Ot=n,rx.transition=r}}function zP(){return mr().memoizedState}function j6(t,e,n){var r=Wa(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},BP(t))qP(e,n);else if(n=SP(t,e,n,r),n!==null){var i=xs();Fr(n,t,r,i),HP(n,e,r)}}function w6(t,e,n){var r=Wa(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(BP(t))qP(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,l=a(o,n);if(i.hasEagerState=!0,i.eagerState=l,zr(l,o)){var c=e.interleaved;c===null?(i.next=i,xj(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=SP(t,e,i,r),n!==null&&(i=xs(),Fr(n,t,r,i),HP(n,e,r))}}function BP(t){var e=t.alternate;return t===cn||e!==null&&e===cn}function qP(t,e){au=Cf=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function HP(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,sj(t,n)}}var Tf={readContext:hr,useCallback:Jn,useContext:Jn,useEffect:Jn,useImperativeHandle:Jn,useInsertionEffect:Jn,useLayoutEffect:Jn,useMemo:Jn,useReducer:Jn,useRef:Jn,useState:Jn,useDebugValue:Jn,useDeferredValue:Jn,useTransition:Jn,useMutableSource:Jn,useSyncExternalStore:Jn,useId:Jn,unstable_isNewReconciler:!1},b6={readContext:hr,useCallback:function(t,e){return Yr().memoizedState=[t,e===void 0?null:e],t},useContext:hr,useEffect:sN,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,$m(4194308,4,FP.bind(null,e,t),n)},useLayoutEffect:function(t,e){return $m(4194308,4,t,e)},useInsertionEffect:function(t,e){return $m(4,2,t,e)},useMemo:function(t,e){var n=Yr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Yr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=j6.bind(null,cn,t),[r.memoizedState,t]},useRef:function(t){var e=Yr();return t={current:t},e.memoizedState=t},useState:nN,useDebugValue:Cj,useDeferredValue:function(t){return Yr().memoizedState=t},useTransition:function(){var t=nN(!1),e=t[0];return t=v6.bind(null,t[1]),Yr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=cn,i=Yr();if(Jt){if(n===void 0)throw Error(_e(407));n=n()}else{if(n=e(),Bn===null)throw Error(_e(349));Jo&30||PP(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,sN(AP.bind(null,r,a,t),[t]),r.flags|=2048,Mu(9,kP.bind(null,r,a,n,e),void 0,null),n},useId:function(){var t=Yr(),e=Bn.identifierPrefix;if(Jt){var n=zi,r=$i;n=(r&~(1<<32-Or(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ru++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=y6++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},N6={readContext:hr,useCallback:UP,useContext:hr,useEffect:_j,useImperativeHandle:LP,useInsertionEffect:MP,useLayoutEffect:OP,useMemo:VP,useReducer:ix,useRef:DP,useState:function(){return ix(Du)},useDebugValue:Cj,useDeferredValue:function(t){var e=mr();return $P(e,Mn.memoizedState,t)},useTransition:function(){var t=ix(Du)[0],e=mr().memoizedState;return[t,e]},useMutableSource:TP,useSyncExternalStore:EP,useId:zP,unstable_isNewReconciler:!1},S6={readContext:hr,useCallback:UP,useContext:hr,useEffect:_j,useImperativeHandle:LP,useInsertionEffect:MP,useLayoutEffect:OP,useMemo:VP,useReducer:ax,useRef:DP,useState:function(){return ax(Du)},useDebugValue:Cj,useDeferredValue:function(t){var e=mr();return Mn===null?e.memoizedState=t:$P(e,Mn.memoizedState,t)},useTransition:function(){var t=ax(Du)[0],e=mr().memoizedState;return[t,e]},useMutableSource:TP,useSyncExternalStore:EP,useId:zP,unstable_isNewReconciler:!1};function Nr(t,e){if(t&&t.defaultProps){e=dn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Ty(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:dn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ap={isMounted:function(t){return(t=t._reactInternals)?gl(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=xs(),i=Wa(t),a=Hi(r,i);a.payload=e,n!=null&&(a.callback=n),e=qa(t,a,i),e!==null&&(Fr(e,t,i,r),Um(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=xs(),i=Wa(t),a=Hi(r,i);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=qa(t,a,i),e!==null&&(Fr(e,t,i,r),Um(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=xs(),r=Wa(t),i=Hi(n,r);i.tag=2,e!=null&&(i.callback=e),e=qa(t,i,r),e!==null&&(Fr(e,t,r,n),Um(e,t,r))}};function rN(t,e,n,r,i,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,o):e.prototype&&e.prototype.isPureReactComponent?!Tu(n,r)||!Tu(i,a):!0}function WP(t,e,n){var r=!1,i=Ja,a=e.contextType;return typeof a=="object"&&a!==null?a=hr(a):(i=Is(e)?Xo:rs.current,r=e.contextTypes,a=(r=r!=null)?Mc(t,i):Ja),e=new e(n,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ap,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function iN(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ap.enqueueReplaceState(e,e.state,null)}function Ey(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},yj(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=hr(a):(a=Is(e)?Xo:rs.current,i.context=Mc(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(Ty(t,e,a,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Ap.enqueueReplaceState(i,i.state,null),Sf(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Uc(t,e){try{var n="",r=e;do n+=ZL(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function ox(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Py(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var _6=typeof WeakMap=="function"?WeakMap:Map;function KP(t,e,n){n=Hi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Pf||(Pf=!0,Uy=r),Py(t,e)},n}function GP(t,e,n){n=Hi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Py(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Py(t,e),typeof r!="function"&&(Ha===null?Ha=new Set([this]):Ha.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function aN(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new _6;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=U6.bind(null,t,e,n),e.then(t,t))}function oN(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function lN(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Hi(-1,1),e.tag=2,qa(n,e,1))),n.lanes|=1),t)}var C6=sa.ReactCurrentOwner,ks=!1;function hs(t,e,n,r){e.child=t===null?NP(e,null,n,r):Fc(e,t.child,n,r)}function cN(t,e,n,r,i){n=n.render;var a=e.ref;return rc(e,i),r=Nj(t,e,n,r,a,i),n=Sj(),t!==null&&!ks?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Yi(t,e,i)):(Jt&&n&&uj(e),e.flags|=1,hs(t,e,r,i),e.child)}function dN(t,e,n,r,i){if(t===null){var a=n.type;return typeof a=="function"&&!Dj(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,QP(t,e,a,r,i)):(t=Hm(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:Tu,n(o,r)&&t.ref===e.ref)return Yi(t,e,i)}return e.flags|=1,t=Ka(a,r),t.ref=e.ref,t.return=e,e.child=t}function QP(t,e,n,r,i){if(t!==null){var a=t.memoizedProps;if(Tu(a,r)&&t.ref===e.ref)if(ks=!1,e.pendingProps=r=a,(t.lanes&i)!==0)t.flags&131072&&(ks=!0);else return e.lanes=t.lanes,Yi(t,e,i)}return ky(t,e,n,r,i)}function YP(t,e,n){var r=e.pendingProps,i=r.children,a=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},zt(Ql,Fs),Fs|=n;else{if(!(n&1073741824))return t=a!==null?a.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,zt(Ql,Fs),Fs|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,zt(Ql,Fs),Fs|=r}else a!==null?(r=a.baseLanes|n,e.memoizedState=null):r=n,zt(Ql,Fs),Fs|=r;return hs(t,e,i,n),e.child}function XP(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function ky(t,e,n,r,i){var a=Is(n)?Xo:rs.current;return a=Mc(e,a),rc(e,i),n=Nj(t,e,n,r,a,i),r=Sj(),t!==null&&!ks?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Yi(t,e,i)):(Jt&&r&&uj(e),e.flags|=1,hs(t,e,n,i),e.child)}function uN(t,e,n,r,i){if(Is(n)){var a=!0;vf(e)}else a=!1;if(rc(e,i),e.stateNode===null)zm(t,e),WP(e,n,r),Ey(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=hr(u):(u=Is(n)?Xo:rs.current,u=Mc(e,u));var h=n.getDerivedStateFromProps,p=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==u)&&iN(e,o,r,u),wa=!1;var f=e.memoizedState;o.state=f,Sf(e,r,o,i),c=e.memoizedState,l!==r||f!==c||As.current||wa?(typeof h=="function"&&(Ty(e,n,h,r),c=e.memoizedState),(l=wa||rN(e,n,l,r,f,c,u))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,_P(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:Nr(e.type,l),o.props=u,p=e.pendingProps,f=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=hr(c):(c=Is(n)?Xo:rs.current,c=Mc(e,c));var v=n.getDerivedStateFromProps;(h=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==p||f!==c)&&iN(e,o,r,c),wa=!1,f=e.memoizedState,o.state=f,Sf(e,r,o,i);var _=e.memoizedState;l!==p||f!==_||As.current||wa?(typeof v=="function"&&(Ty(e,n,v,r),_=e.memoizedState),(u=wa||rN(e,n,u,r,f,_,c)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,_,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,_,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),o.props=r,o.state=_,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Ay(t,e,n,r,a,i)}function Ay(t,e,n,r,i,a){XP(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Yb(e,n,!1),Yi(t,e,a);r=e.stateNode,C6.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Fc(e,t.child,null,a),e.child=Fc(e,null,l,a)):hs(t,e,l,a),e.memoizedState=r.state,i&&Yb(e,n,!0),e.child}function ZP(t){var e=t.stateNode;e.pendingContext?Qb(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Qb(t,e.context,!1),vj(t,e.containerInfo)}function hN(t,e,n,r,i){return Oc(),mj(i),e.flags|=256,hs(t,e,n,r),e.child}var Iy={dehydrated:null,treeContext:null,retryLane:0};function Ry(t){return{baseLanes:t,cachePool:null,transitions:null}}function JP(t,e,n){var r=e.pendingProps,i=on.current,a=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),zt(on,i&1),t===null)return _y(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,a?(r=e.mode,a=e.child,o={mode:"hidden",children:o},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Dp(o,r,0,null),t=Ho(t,r,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=Ry(n),e.memoizedState=Iy,t):Tj(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return T6(t,e,o,r,l,i,n);if(a){a=r.fallback,o=e.mode,i=t.child,l=i.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Ka(i,c),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?a=Ka(l,a):(a=Ho(a,o,n,null),a.flags|=2),a.return=e,r.return=e,r.sibling=a,e.child=r,r=a,a=e.child,o=t.child.memoizedState,o=o===null?Ry(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=t.childLanes&~n,e.memoizedState=Iy,r}return a=t.child,t=a.sibling,r=Ka(a,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Tj(t,e){return e=Dp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function gm(t,e,n,r){return r!==null&&mj(r),Fc(e,t.child,null,n),t=Tj(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function T6(t,e,n,r,i,a,o){if(n)return e.flags&256?(e.flags&=-257,r=ox(Error(_e(422))),gm(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=r.fallback,i=e.mode,r=Dp({mode:"visible",children:r.children},i,0,null),a=Ho(a,i,o,null),a.flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,e.mode&1&&Fc(e,t.child,null,o),e.child.memoizedState=Ry(o),e.memoizedState=Iy,a);if(!(e.mode&1))return gm(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,a=Error(_e(419)),r=ox(a,r,void 0),gm(t,e,o,r)}if(l=(o&t.childLanes)!==0,ks||l){if(r=Bn,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Qi(t,i),Fr(r,t,i,-1))}return Rj(),r=ox(Error(_e(421))),gm(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=V6.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,Vs=Ba(i.nextSibling),Bs=e,Jt=!0,Cr=null,t!==null&&(ar[or++]=$i,ar[or++]=zi,ar[or++]=Zo,$i=t.id,zi=t.overflow,Zo=e),e=Tj(e,r.children),e.flags|=4096,e)}function mN(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Cy(t.return,e,n)}function lx(t,e,n,r,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function ek(t,e,n){var r=e.pendingProps,i=r.revealOrder,a=r.tail;if(hs(t,e,r.children,n),r=on.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&mN(t,n,e);else if(t.tag===19)mN(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(zt(on,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&_f(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),lx(e,!1,i,n,a);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&_f(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}lx(e,!0,n,null,a);break;case"together":lx(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function zm(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Yi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),el|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(_e(153));if(e.child!==null){for(t=e.child,n=Ka(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ka(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function E6(t,e,n){switch(e.tag){case 3:ZP(e),Oc();break;case 5:CP(e);break;case 1:Is(e.type)&&vf(e);break;case 4:vj(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;zt(bf,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(zt(on,on.current&1),e.flags|=128,null):n&e.child.childLanes?JP(t,e,n):(zt(on,on.current&1),t=Yi(t,e,n),t!==null?t.sibling:null);zt(on,on.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return ek(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),zt(on,on.current),r)break;return null;case 22:case 23:return e.lanes=0,YP(t,e,n)}return Yi(t,e,n)}var tk,Dy,nk,sk;tk=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Dy=function(){};nk=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Io(di.current);var a=null;switch(n){case"input":i=ny(t,i),r=ny(t,r),a=[];break;case"select":i=dn({},i,{value:void 0}),r=dn({},r,{value:void 0}),a=[];break;case"textarea":i=iy(t,i),r=iy(t,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=xf)}oy(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ju.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ju.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Kt("scroll",t),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(e.updateQueue=u)&&(e.flags|=4)}};sk=function(t,e,n,r){n!==r&&(e.flags|=4)};function Md(t,e){if(!Jt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function es(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function P6(t,e,n){var r=e.pendingProps;switch(hj(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return es(e),null;case 1:return Is(e.type)&&yf(),es(e),null;case 3:return r=e.stateNode,Lc(),Yt(As),Yt(rs),wj(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(fm(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Cr!==null&&(zy(Cr),Cr=null))),Dy(t,e),es(e),null;case 5:jj(e);var i=Io(Iu.current);if(n=e.type,t!==null&&e.stateNode!=null)nk(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(_e(166));return es(e),null}if(t=Io(di.current),fm(e)){r=e.stateNode,n=e.type;var a=e.memoizedProps;switch(r[si]=e,r[ku]=a,t=(e.mode&1)!==0,n){case"dialog":Kt("cancel",r),Kt("close",r);break;case"iframe":case"object":case"embed":Kt("load",r);break;case"video":case"audio":for(i=0;i<Wd.length;i++)Kt(Wd[i],r);break;case"source":Kt("error",r);break;case"img":case"image":case"link":Kt("error",r),Kt("load",r);break;case"details":Kt("toggle",r);break;case"input":bb(r,a),Kt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Kt("invalid",r);break;case"textarea":Sb(r,a),Kt("invalid",r)}oy(n,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?r.textContent!==l&&(a.suppressHydrationWarning!==!0&&mm(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&mm(r.textContent,l,t),i=["children",""+l]):ju.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Kt("scroll",r)}switch(n){case"input":im(r),Nb(r,a,!0);break;case"textarea":im(r),_b(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=xf)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=AE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[si]=e,t[ku]=r,tk(t,e,!1,!1),e.stateNode=t;e:{switch(o=ly(n,r),n){case"dialog":Kt("cancel",t),Kt("close",t),i=r;break;case"iframe":case"object":case"embed":Kt("load",t),i=r;break;case"video":case"audio":for(i=0;i<Wd.length;i++)Kt(Wd[i],t);i=r;break;case"source":Kt("error",t),i=r;break;case"img":case"image":case"link":Kt("error",t),Kt("load",t),i=r;break;case"details":Kt("toggle",t),i=r;break;case"input":bb(t,r),i=ny(t,r),Kt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=dn({},r,{value:void 0}),Kt("invalid",t);break;case"textarea":Sb(t,r),i=iy(t,r),Kt("invalid",t);break;default:i=r}oy(n,i),l=i;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?DE(t,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&IE(t,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&wu(t,c):typeof c=="number"&&wu(t,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(ju.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Kt("scroll",t):c!=null&&Xv(t,a,c,o))}switch(n){case"input":im(t),Nb(t,r,!1);break;case"textarea":im(t),_b(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Za(r.value));break;case"select":t.multiple=!!r.multiple,a=r.value,a!=null?ec(t,!!r.multiple,a,!1):r.defaultValue!=null&&ec(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=xf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return es(e),null;case 6:if(t&&e.stateNode!=null)sk(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(_e(166));if(n=Io(Iu.current),Io(di.current),fm(e)){if(r=e.stateNode,n=e.memoizedProps,r[si]=e,(a=r.nodeValue!==n)&&(t=Bs,t!==null))switch(t.tag){case 3:mm(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&mm(r.nodeValue,n,(t.mode&1)!==0)}a&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[si]=e,e.stateNode=r}return es(e),null;case 13:if(Yt(on),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Jt&&Vs!==null&&e.mode&1&&!(e.flags&128))wP(),Oc(),e.flags|=98560,a=!1;else if(a=fm(e),r!==null&&r.dehydrated!==null){if(t===null){if(!a)throw Error(_e(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(_e(317));a[si]=e}else Oc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;es(e),a=!1}else Cr!==null&&(zy(Cr),Cr=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||on.current&1?Ln===0&&(Ln=3):Rj())),e.updateQueue!==null&&(e.flags|=4),es(e),null);case 4:return Lc(),Dy(t,e),t===null&&Eu(e.stateNode.containerInfo),es(e),null;case 10:return gj(e.type._context),es(e),null;case 17:return Is(e.type)&&yf(),es(e),null;case 19:if(Yt(on),a=e.memoizedState,a===null)return es(e),null;if(r=(e.flags&128)!==0,o=a.rendering,o===null)if(r)Md(a,!1);else{if(Ln!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=_f(t),o!==null){for(e.flags|=128,Md(a,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)a=n,t=r,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return zt(on,on.current&1|2),e.child}t=t.sibling}a.tail!==null&&bn()>Vc&&(e.flags|=128,r=!0,Md(a,!1),e.lanes=4194304)}else{if(!r)if(t=_f(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Md(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Jt)return es(e),null}else 2*bn()-a.renderingStartTime>Vc&&n!==1073741824&&(e.flags|=128,r=!0,Md(a,!1),e.lanes=4194304);a.isBackwards?(o.sibling=e.child,e.child=o):(n=a.last,n!==null?n.sibling=o:e.child=o,a.last=o)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=bn(),e.sibling=null,n=on.current,zt(on,r?n&1|2:n&1),e):(es(e),null);case 22:case 23:return Ij(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Fs&1073741824&&(es(e),e.subtreeFlags&6&&(e.flags|=8192)):es(e),null;case 24:return null;case 25:return null}throw Error(_e(156,e.tag))}function k6(t,e){switch(hj(e),e.tag){case 1:return Is(e.type)&&yf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Lc(),Yt(As),Yt(rs),wj(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return jj(e),null;case 13:if(Yt(on),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(_e(340));Oc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Yt(on),null;case 4:return Lc(),null;case 10:return gj(e.type._context),null;case 22:case 23:return Ij(),null;case 24:return null;default:return null}}var xm=!1,ns=!1,A6=typeof WeakSet=="function"?WeakSet:Set,qe=null;function Gl(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){pn(t,e,r)}else n.current=null}function My(t,e,n){try{n()}catch(r){pn(t,e,r)}}var fN=!1;function I6(t,e){if(yy=ff,t=lP(),dj(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,h=0,p=t,f=null;t:for(;;){for(var v;p!==n||i!==0&&p.nodeType!==3||(l=o+i),p!==a||r!==0&&p.nodeType!==3||(c=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(v=p.firstChild)!==null;)f=p,p=v;for(;;){if(p===t)break t;if(f===n&&++u===i&&(l=o),f===a&&++h===r&&(c=o),(v=p.nextSibling)!==null)break;p=f,f=p.parentNode}p=v}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(vy={focusedElem:t,selectionRange:n},ff=!1,qe=e;qe!==null;)if(e=qe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,qe=t;else for(;qe!==null;){e=qe;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var j=_.memoizedProps,E=_.memoizedState,N=e.stateNode,y=N.getSnapshotBeforeUpdate(e.elementType===e.type?j:Nr(e.type,j),E);N.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(_e(163))}}catch(T){pn(e,e.return,T)}if(t=e.sibling,t!==null){t.return=e.return,qe=t;break}qe=e.return}return _=fN,fN=!1,_}function ou(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&My(e,n,a)}i=i.next}while(i!==r)}}function Ip(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Oy(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function rk(t){var e=t.alternate;e!==null&&(t.alternate=null,rk(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[si],delete e[ku],delete e[by],delete e[f6],delete e[p6])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function ik(t){return t.tag===5||t.tag===3||t.tag===4}function pN(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ik(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Fy(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=xf));else if(r!==4&&(t=t.child,t!==null))for(Fy(t,e,n),t=t.sibling;t!==null;)Fy(t,e,n),t=t.sibling}function Ly(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Ly(t,e,n),t=t.sibling;t!==null;)Ly(t,e,n),t=t.sibling}var Gn=null,_r=!1;function ma(t,e,n){for(n=n.child;n!==null;)ak(t,e,n),n=n.sibling}function ak(t,e,n){if(ci&&typeof ci.onCommitFiberUnmount=="function")try{ci.onCommitFiberUnmount(Sp,n)}catch{}switch(n.tag){case 5:ns||Gl(n,e);case 6:var r=Gn,i=_r;Gn=null,ma(t,e,n),Gn=r,_r=i,Gn!==null&&(_r?(t=Gn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Gn.removeChild(n.stateNode));break;case 18:Gn!==null&&(_r?(t=Gn,n=n.stateNode,t.nodeType===8?tx(t.parentNode,n):t.nodeType===1&&tx(t,n),_u(t)):tx(Gn,n.stateNode));break;case 4:r=Gn,i=_r,Gn=n.stateNode.containerInfo,_r=!0,ma(t,e,n),Gn=r,_r=i;break;case 0:case 11:case 14:case 15:if(!ns&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&My(n,e,o),i=i.next}while(i!==r)}ma(t,e,n);break;case 1:if(!ns&&(Gl(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){pn(n,e,l)}ma(t,e,n);break;case 21:ma(t,e,n);break;case 22:n.mode&1?(ns=(r=ns)||n.memoizedState!==null,ma(t,e,n),ns=r):ma(t,e,n);break;default:ma(t,e,n)}}function gN(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new A6),e.forEach(function(r){var i=$6.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function wr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:Gn=l.stateNode,_r=!1;break e;case 3:Gn=l.stateNode.containerInfo,_r=!0;break e;case 4:Gn=l.stateNode.containerInfo,_r=!0;break e}l=l.return}if(Gn===null)throw Error(_e(160));ak(a,o,i),Gn=null,_r=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){pn(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ok(e,t),e=e.sibling}function ok(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(wr(e,t),Qr(t),r&4){try{ou(3,t,t.return),Ip(3,t)}catch(j){pn(t,t.return,j)}try{ou(5,t,t.return)}catch(j){pn(t,t.return,j)}}break;case 1:wr(e,t),Qr(t),r&512&&n!==null&&Gl(n,n.return);break;case 5:if(wr(e,t),Qr(t),r&512&&n!==null&&Gl(n,n.return),t.flags&32){var i=t.stateNode;try{wu(i,"")}catch(j){pn(t,t.return,j)}}if(r&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,o=n!==null?n.memoizedProps:a,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&PE(i,a),ly(l,o);var u=ly(l,a);for(o=0;o<c.length;o+=2){var h=c[o],p=c[o+1];h==="style"?DE(i,p):h==="dangerouslySetInnerHTML"?IE(i,p):h==="children"?wu(i,p):Xv(i,h,p,u)}switch(l){case"input":sy(i,a);break;case"textarea":kE(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var v=a.value;v!=null?ec(i,!!a.multiple,v,!1):f!==!!a.multiple&&(a.defaultValue!=null?ec(i,!!a.multiple,a.defaultValue,!0):ec(i,!!a.multiple,a.multiple?[]:"",!1))}i[ku]=a}catch(j){pn(t,t.return,j)}}break;case 6:if(wr(e,t),Qr(t),r&4){if(t.stateNode===null)throw Error(_e(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(j){pn(t,t.return,j)}}break;case 3:if(wr(e,t),Qr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{_u(e.containerInfo)}catch(j){pn(t,t.return,j)}break;case 4:wr(e,t),Qr(t);break;case 13:wr(e,t),Qr(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(kj=bn())),r&4&&gN(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(ns=(u=ns)||h,wr(e,t),ns=u):wr(e,t),Qr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(qe=t,h=t.child;h!==null;){for(p=qe=h;qe!==null;){switch(f=qe,v=f.child,f.tag){case 0:case 11:case 14:case 15:ou(4,f,f.return);break;case 1:Gl(f,f.return);var _=f.stateNode;if(typeof _.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(j){pn(r,n,j)}}break;case 5:Gl(f,f.return);break;case 22:if(f.memoizedState!==null){yN(p);continue}}v!==null?(v.return=f,qe=v):yN(p)}h=h.sibling}e:for(h=null,p=t;;){if(p.tag===5){if(h===null){h=p;try{i=p.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=p.stateNode,c=p.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=RE("display",o))}catch(j){pn(t,t.return,j)}}}else if(p.tag===6){if(h===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(j){pn(t,t.return,j)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;h===p&&(h=null),p=p.return}h===p&&(h=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:wr(e,t),Qr(t),r&4&&gN(t);break;case 21:break;default:wr(e,t),Qr(t)}}function Qr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(ik(n)){var r=n;break e}n=n.return}throw Error(_e(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(wu(i,""),r.flags&=-33);var a=pN(t);Ly(t,a,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=pN(t);Fy(t,l,o);break;default:throw Error(_e(161))}}catch(c){pn(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function R6(t,e,n){qe=t,lk(t)}function lk(t,e,n){for(var r=(t.mode&1)!==0;qe!==null;){var i=qe,a=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||xm;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||ns;l=xm;var u=ns;if(xm=o,(ns=c)&&!u)for(qe=i;qe!==null;)o=qe,c=o.child,o.tag===22&&o.memoizedState!==null?vN(i):c!==null?(c.return=o,qe=c):vN(i);for(;a!==null;)qe=a,lk(a),a=a.sibling;qe=i,xm=l,ns=u}xN(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,qe=a):xN(t)}}function xN(t){for(;qe!==null;){var e=qe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ns||Ip(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ns)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Nr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&tN(e,a,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}tN(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var p=h.dehydrated;p!==null&&_u(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(_e(163))}ns||e.flags&512&&Oy(e)}catch(f){pn(e,e.return,f)}}if(e===t){qe=null;break}if(n=e.sibling,n!==null){n.return=e.return,qe=n;break}qe=e.return}}function yN(t){for(;qe!==null;){var e=qe;if(e===t){qe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,qe=n;break}qe=e.return}}function vN(t){for(;qe!==null;){var e=qe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ip(4,e)}catch(c){pn(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){pn(e,i,c)}}var a=e.return;try{Oy(e)}catch(c){pn(e,a,c)}break;case 5:var o=e.return;try{Oy(e)}catch(c){pn(e,o,c)}}}catch(c){pn(e,e.return,c)}if(e===t){qe=null;break}var l=e.sibling;if(l!==null){l.return=e.return,qe=l;break}qe=e.return}}var D6=Math.ceil,Ef=sa.ReactCurrentDispatcher,Ej=sa.ReactCurrentOwner,cr=sa.ReactCurrentBatchConfig,Pt=0,Bn=null,Pn=null,Qn=0,Fs=0,Ql=ho(0),Ln=0,Ou=null,el=0,Rp=0,Pj=0,lu=null,Ps=null,kj=0,Vc=1/0,Oi=null,Pf=!1,Uy=null,Ha=null,ym=!1,Ua=null,kf=0,cu=0,Vy=null,Bm=-1,qm=0;function xs(){return Pt&6?bn():Bm!==-1?Bm:Bm=bn()}function Wa(t){return t.mode&1?Pt&2&&Qn!==0?Qn&-Qn:x6.transition!==null?(qm===0&&(qm=WE()),qm):(t=Ot,t!==0||(t=window.event,t=t===void 0?16:JE(t.type)),t):1}function Fr(t,e,n,r){if(50<cu)throw cu=0,Vy=null,Error(_e(185));dh(t,n,r),(!(Pt&2)||t!==Bn)&&(t===Bn&&(!(Pt&2)&&(Rp|=n),Ln===4&&Na(t,Qn)),Rs(t,r),n===1&&Pt===0&&!(e.mode&1)&&(Vc=bn()+500,Pp&&mo()))}function Rs(t,e){var n=t.callbackNode;x5(t,e);var r=mf(t,t===Bn?Qn:0);if(r===0)n!==null&&Eb(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Eb(n),e===1)t.tag===0?g6(jN.bind(null,t)):yP(jN.bind(null,t)),h6(function(){!(Pt&6)&&mo()}),n=null;else{switch(KE(r)){case 1:n=nj;break;case 4:n=qE;break;case 16:n=hf;break;case 536870912:n=HE;break;default:n=hf}n=gk(n,ck.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function ck(t,e){if(Bm=-1,qm=0,Pt&6)throw Error(_e(327));var n=t.callbackNode;if(ic()&&t.callbackNode!==n)return null;var r=mf(t,t===Bn?Qn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Af(t,r);else{e=r;var i=Pt;Pt|=2;var a=uk();(Bn!==t||Qn!==e)&&(Oi=null,Vc=bn()+500,qo(t,e));do try{F6();break}catch(l){dk(t,l)}while(!0);pj(),Ef.current=a,Pt=i,Pn!==null?e=0:(Bn=null,Qn=0,e=Ln)}if(e!==0){if(e===2&&(i=my(t),i!==0&&(r=i,e=$y(t,i))),e===1)throw n=Ou,qo(t,0),Na(t,r),Rs(t,bn()),n;if(e===6)Na(t,r);else{if(i=t.current.alternate,!(r&30)&&!M6(i)&&(e=Af(t,r),e===2&&(a=my(t),a!==0&&(r=a,e=$y(t,a))),e===1))throw n=Ou,qo(t,0),Na(t,r),Rs(t,bn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(_e(345));case 2:_o(t,Ps,Oi);break;case 3:if(Na(t,r),(r&130023424)===r&&(e=kj+500-bn(),10<e)){if(mf(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){xs(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=wy(_o.bind(null,t,Ps,Oi),e);break}_o(t,Ps,Oi);break;case 4:if(Na(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Or(r);a=1<<o,o=e[o],o>i&&(i=o),r&=~a}if(r=i,r=bn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*D6(r/1960))-r,10<r){t.timeoutHandle=wy(_o.bind(null,t,Ps,Oi),r);break}_o(t,Ps,Oi);break;case 5:_o(t,Ps,Oi);break;default:throw Error(_e(329))}}}return Rs(t,bn()),t.callbackNode===n?ck.bind(null,t):null}function $y(t,e){var n=lu;return t.current.memoizedState.isDehydrated&&(qo(t,e).flags|=256),t=Af(t,e),t!==2&&(e=Ps,Ps=n,e!==null&&zy(e)),t}function zy(t){Ps===null?Ps=t:Ps.push.apply(Ps,t)}function M6(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!zr(a(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Na(t,e){for(e&=~Pj,e&=~Rp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Or(e),r=1<<n;t[n]=-1,e&=~r}}function jN(t){if(Pt&6)throw Error(_e(327));ic();var e=mf(t,0);if(!(e&1))return Rs(t,bn()),null;var n=Af(t,e);if(t.tag!==0&&n===2){var r=my(t);r!==0&&(e=r,n=$y(t,r))}if(n===1)throw n=Ou,qo(t,0),Na(t,e),Rs(t,bn()),n;if(n===6)throw Error(_e(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,_o(t,Ps,Oi),Rs(t,bn()),null}function Aj(t,e){var n=Pt;Pt|=1;try{return t(e)}finally{Pt=n,Pt===0&&(Vc=bn()+500,Pp&&mo())}}function tl(t){Ua!==null&&Ua.tag===0&&!(Pt&6)&&ic();var e=Pt;Pt|=1;var n=cr.transition,r=Ot;try{if(cr.transition=null,Ot=1,t)return t()}finally{Ot=r,cr.transition=n,Pt=e,!(Pt&6)&&mo()}}function Ij(){Fs=Ql.current,Yt(Ql)}function qo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,u6(n)),Pn!==null)for(n=Pn.return;n!==null;){var r=n;switch(hj(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&yf();break;case 3:Lc(),Yt(As),Yt(rs),wj();break;case 5:jj(r);break;case 4:Lc();break;case 13:Yt(on);break;case 19:Yt(on);break;case 10:gj(r.type._context);break;case 22:case 23:Ij()}n=n.return}if(Bn=t,Pn=t=Ka(t.current,null),Qn=Fs=e,Ln=0,Ou=null,Pj=Rp=el=0,Ps=lu=null,Ao!==null){for(e=0;e<Ao.length;e++)if(n=Ao[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var o=a.next;a.next=i,r.next=o}n.pending=r}Ao=null}return t}function dk(t,e){do{var n=Pn;try{if(pj(),Vm.current=Tf,Cf){for(var r=cn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Cf=!1}if(Jo=0,zn=Mn=cn=null,au=!1,Ru=0,Ej.current=null,n===null||n.return===null){Ln=1,Ou=e,Pn=null;break}e:{var a=t,o=n.return,l=n,c=e;if(e=Qn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,h=l,p=h.tag;if(!(h.mode&1)&&(p===0||p===11||p===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var v=oN(o);if(v!==null){v.flags&=-257,lN(v,o,l,a,e),v.mode&1&&aN(a,u,e),e=v,c=u;var _=e.updateQueue;if(_===null){var j=new Set;j.add(c),e.updateQueue=j}else _.add(c);break e}else{if(!(e&1)){aN(a,u,e),Rj();break e}c=Error(_e(426))}}else if(Jt&&l.mode&1){var E=oN(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),lN(E,o,l,a,e),mj(Uc(c,l));break e}}a=c=Uc(c,l),Ln!==4&&(Ln=2),lu===null?lu=[a]:lu.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var N=KP(a,c,e);eN(a,N);break e;case 1:l=c;var y=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Ha===null||!Ha.has(w)))){a.flags|=65536,e&=-e,a.lanes|=e;var T=GP(a,l,e);eN(a,T);break e}}a=a.return}while(a!==null)}mk(n)}catch(O){e=O,Pn===n&&n!==null&&(Pn=n=n.return);continue}break}while(!0)}function uk(){var t=Ef.current;return Ef.current=Tf,t===null?Tf:t}function Rj(){(Ln===0||Ln===3||Ln===2)&&(Ln=4),Bn===null||!(el&268435455)&&!(Rp&268435455)||Na(Bn,Qn)}function Af(t,e){var n=Pt;Pt|=2;var r=uk();(Bn!==t||Qn!==e)&&(Oi=null,qo(t,e));do try{O6();break}catch(i){dk(t,i)}while(!0);if(pj(),Pt=n,Ef.current=r,Pn!==null)throw Error(_e(261));return Bn=null,Qn=0,Ln}function O6(){for(;Pn!==null;)hk(Pn)}function F6(){for(;Pn!==null&&!l5();)hk(Pn)}function hk(t){var e=pk(t.alternate,t,Fs);t.memoizedProps=t.pendingProps,e===null?mk(t):Pn=e,Ej.current=null}function mk(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=k6(n,e),n!==null){n.flags&=32767,Pn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ln=6,Pn=null;return}}else if(n=P6(n,e,Fs),n!==null){Pn=n;return}if(e=e.sibling,e!==null){Pn=e;return}Pn=e=t}while(e!==null);Ln===0&&(Ln=5)}function _o(t,e,n){var r=Ot,i=cr.transition;try{cr.transition=null,Ot=1,L6(t,e,n,r)}finally{cr.transition=i,Ot=r}return null}function L6(t,e,n,r){do ic();while(Ua!==null);if(Pt&6)throw Error(_e(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(_e(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(y5(t,a),t===Bn&&(Pn=Bn=null,Qn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ym||(ym=!0,gk(hf,function(){return ic(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=cr.transition,cr.transition=null;var o=Ot;Ot=1;var l=Pt;Pt|=4,Ej.current=null,I6(t,n),ok(n,t),r6(vy),ff=!!yy,vy=yy=null,t.current=n,R6(n),c5(),Pt=l,Ot=o,cr.transition=a}else t.current=n;if(ym&&(ym=!1,Ua=t,kf=i),a=t.pendingLanes,a===0&&(Ha=null),h5(n.stateNode),Rs(t,bn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Pf)throw Pf=!1,t=Uy,Uy=null,t;return kf&1&&t.tag!==0&&ic(),a=t.pendingLanes,a&1?t===Vy?cu++:(cu=0,Vy=t):cu=0,mo(),null}function ic(){if(Ua!==null){var t=KE(kf),e=cr.transition,n=Ot;try{if(cr.transition=null,Ot=16>t?16:t,Ua===null)var r=!1;else{if(t=Ua,Ua=null,kf=0,Pt&6)throw Error(_e(331));var i=Pt;for(Pt|=4,qe=t.current;qe!==null;){var a=qe,o=a.child;if(qe.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(qe=u;qe!==null;){var h=qe;switch(h.tag){case 0:case 11:case 15:ou(8,h,a)}var p=h.child;if(p!==null)p.return=h,qe=p;else for(;qe!==null;){h=qe;var f=h.sibling,v=h.return;if(rk(h),h===u){qe=null;break}if(f!==null){f.return=v,qe=f;break}qe=v}}}var _=a.alternate;if(_!==null){var j=_.child;if(j!==null){_.child=null;do{var E=j.sibling;j.sibling=null,j=E}while(j!==null)}}qe=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,qe=o;else e:for(;qe!==null;){if(a=qe,a.flags&2048)switch(a.tag){case 0:case 11:case 15:ou(9,a,a.return)}var N=a.sibling;if(N!==null){N.return=a.return,qe=N;break e}qe=a.return}}var y=t.current;for(qe=y;qe!==null;){o=qe;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,qe=w;else e:for(o=y;qe!==null;){if(l=qe,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Ip(9,l)}}catch(O){pn(l,l.return,O)}if(l===o){qe=null;break e}var T=l.sibling;if(T!==null){T.return=l.return,qe=T;break e}qe=l.return}}if(Pt=i,mo(),ci&&typeof ci.onPostCommitFiberRoot=="function")try{ci.onPostCommitFiberRoot(Sp,t)}catch{}r=!0}return r}finally{Ot=n,cr.transition=e}}return!1}function wN(t,e,n){e=Uc(n,e),e=KP(t,e,1),t=qa(t,e,1),e=xs(),t!==null&&(dh(t,1,e),Rs(t,e))}function pn(t,e,n){if(t.tag===3)wN(t,t,n);else for(;e!==null;){if(e.tag===3){wN(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ha===null||!Ha.has(r))){t=Uc(n,t),t=GP(e,t,1),e=qa(e,t,1),t=xs(),e!==null&&(dh(e,1,t),Rs(e,t));break}}e=e.return}}function U6(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=xs(),t.pingedLanes|=t.suspendedLanes&n,Bn===t&&(Qn&n)===n&&(Ln===4||Ln===3&&(Qn&130023424)===Qn&&500>bn()-kj?qo(t,0):Pj|=n),Rs(t,e)}function fk(t,e){e===0&&(t.mode&1?(e=lm,lm<<=1,!(lm&130023424)&&(lm=4194304)):e=1);var n=xs();t=Qi(t,e),t!==null&&(dh(t,e,n),Rs(t,n))}function V6(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),fk(t,n)}function $6(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(_e(314))}r!==null&&r.delete(e),fk(t,n)}var pk;pk=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||As.current)ks=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ks=!1,E6(t,e,n);ks=!!(t.flags&131072)}else ks=!1,Jt&&e.flags&1048576&&vP(e,wf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;zm(t,e),t=e.pendingProps;var i=Mc(e,rs.current);rc(e,n),i=Nj(null,e,r,t,i,n);var a=Sj();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Is(r)?(a=!0,vf(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,yj(e),i.updater=Ap,e.stateNode=i,i._reactInternals=e,Ey(e,r,t,n),e=Ay(null,e,r,!0,a,n)):(e.tag=0,Jt&&a&&uj(e),hs(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(zm(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=B6(r),t=Nr(r,t),i){case 0:e=ky(null,e,r,t,n);break e;case 1:e=uN(null,e,r,t,n);break e;case 11:e=cN(null,e,r,t,n);break e;case 14:e=dN(null,e,r,Nr(r.type,t),n);break e}throw Error(_e(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Nr(r,i),ky(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Nr(r,i),uN(t,e,r,i,n);case 3:e:{if(ZP(e),t===null)throw Error(_e(387));r=e.pendingProps,a=e.memoizedState,i=a.element,_P(t,e),Sf(e,r,null,n);var o=e.memoizedState;if(r=o.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=Uc(Error(_e(423)),e),e=hN(t,e,r,n,i);break e}else if(r!==i){i=Uc(Error(_e(424)),e),e=hN(t,e,r,n,i);break e}else for(Vs=Ba(e.stateNode.containerInfo.firstChild),Bs=e,Jt=!0,Cr=null,n=NP(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Oc(),r===i){e=Yi(t,e,n);break e}hs(t,e,r,n)}e=e.child}return e;case 5:return CP(e),t===null&&_y(e),r=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,o=i.children,jy(r,i)?o=null:a!==null&&jy(r,a)&&(e.flags|=32),XP(t,e),hs(t,e,o,n),e.child;case 6:return t===null&&_y(e),null;case 13:return JP(t,e,n);case 4:return vj(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Fc(e,null,r,n):hs(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Nr(r,i),cN(t,e,r,i,n);case 7:return hs(t,e,e.pendingProps,n),e.child;case 8:return hs(t,e,e.pendingProps.children,n),e.child;case 12:return hs(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,a=e.memoizedProps,o=i.value,zt(bf,r._currentValue),r._currentValue=o,a!==null)if(zr(a.value,o)){if(a.children===i.children&&!As.current){e=Yi(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(a.tag===1){c=Hi(-1,n&-n),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),Cy(a.return,n,e),l.lanes|=n;break}c=c.next}}else if(a.tag===10)o=a.type===e.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(_e(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Cy(o,n,e),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}hs(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,rc(e,n),i=hr(i),r=r(i),e.flags|=1,hs(t,e,r,n),e.child;case 14:return r=e.type,i=Nr(r,e.pendingProps),i=Nr(r.type,i),dN(t,e,r,i,n);case 15:return QP(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Nr(r,i),zm(t,e),e.tag=1,Is(r)?(t=!0,vf(e)):t=!1,rc(e,n),WP(e,r,i),Ey(e,r,i,n),Ay(null,e,r,!0,t,n);case 19:return ek(t,e,n);case 22:return YP(t,e,n)}throw Error(_e(156,e.tag))};function gk(t,e){return BE(t,e)}function z6(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function lr(t,e,n,r){return new z6(t,e,n,r)}function Dj(t){return t=t.prototype,!(!t||!t.isReactComponent)}function B6(t){if(typeof t=="function")return Dj(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Jv)return 11;if(t===ej)return 14}return 2}function Ka(t,e){var n=t.alternate;return n===null?(n=lr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Hm(t,e,n,r,i,a){var o=2;if(r=t,typeof t=="function")Dj(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ul:return Ho(n.children,i,a,e);case Zv:o=8,i|=8;break;case Zx:return t=lr(12,n,e,i|2),t.elementType=Zx,t.lanes=a,t;case Jx:return t=lr(13,n,e,i),t.elementType=Jx,t.lanes=a,t;case ey:return t=lr(19,n,e,i),t.elementType=ey,t.lanes=a,t;case CE:return Dp(n,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case SE:o=10;break e;case _E:o=9;break e;case Jv:o=11;break e;case ej:o=14;break e;case ja:o=16,r=null;break e}throw Error(_e(130,t==null?t:typeof t,""))}return e=lr(o,n,e,i),e.elementType=t,e.type=r,e.lanes=a,e}function Ho(t,e,n,r){return t=lr(7,t,r,e),t.lanes=n,t}function Dp(t,e,n,r){return t=lr(22,t,r,e),t.elementType=CE,t.lanes=n,t.stateNode={isHidden:!1},t}function cx(t,e,n){return t=lr(6,t,null,e),t.lanes=n,t}function dx(t,e,n){return e=lr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function q6(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qg(0),this.expirationTimes=qg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qg(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Mj(t,e,n,r,i,a,o,l,c){return t=new q6(t,e,n,l,c),e===1?(e=1,a===!0&&(e|=8)):e=0,a=lr(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},yj(a),t}function H6(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ll,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function xk(t){if(!t)return Ja;t=t._reactInternals;e:{if(gl(t)!==t||t.tag!==1)throw Error(_e(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Is(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(_e(171))}if(t.tag===1){var n=t.type;if(Is(n))return xP(t,n,e)}return e}function yk(t,e,n,r,i,a,o,l,c){return t=Mj(n,r,!0,t,i,a,o,l,c),t.context=xk(null),n=t.current,r=xs(),i=Wa(n),a=Hi(r,i),a.callback=e??null,qa(n,a,i),t.current.lanes=i,dh(t,i,r),Rs(t,r),t}function Mp(t,e,n,r){var i=e.current,a=xs(),o=Wa(i);return n=xk(n),e.context===null?e.context=n:e.pendingContext=n,e=Hi(a,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=qa(i,e,o),t!==null&&(Fr(t,i,o,a),Um(t,i,o)),o}function If(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function bN(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Oj(t,e){bN(t,e),(t=t.alternate)&&bN(t,e)}function W6(){return null}var vk=typeof reportError=="function"?reportError:function(t){console.error(t)};function Fj(t){this._internalRoot=t}Op.prototype.render=Fj.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(_e(409));Mp(t,e,null,null)};Op.prototype.unmount=Fj.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;tl(function(){Mp(null,t,null,null)}),e[Gi]=null}};function Op(t){this._internalRoot=t}Op.prototype.unstable_scheduleHydration=function(t){if(t){var e=YE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ba.length&&e!==0&&e<ba[n].priority;n++);ba.splice(n,0,t),n===0&&ZE(t)}};function Lj(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Fp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function NN(){}function K6(t,e,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var u=If(o);a.call(u)}}var o=yk(e,r,t,0,null,!1,!1,"",NN);return t._reactRootContainer=o,t[Gi]=o.current,Eu(t.nodeType===8?t.parentNode:t),tl(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=If(c);l.call(u)}}var c=Mj(t,0,!1,null,null,!1,!1,"",NN);return t._reactRootContainer=c,t[Gi]=c.current,Eu(t.nodeType===8?t.parentNode:t),tl(function(){Mp(e,c,n,r)}),c}function Lp(t,e,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var l=i;i=function(){var c=If(o);l.call(c)}}Mp(e,o,t,i)}else o=K6(n,e,t,i,r);return If(o)}GE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Hd(e.pendingLanes);n!==0&&(sj(e,n|1),Rs(e,bn()),!(Pt&6)&&(Vc=bn()+500,mo()))}break;case 13:tl(function(){var r=Qi(t,1);if(r!==null){var i=xs();Fr(r,t,1,i)}}),Oj(t,1)}};rj=function(t){if(t.tag===13){var e=Qi(t,134217728);if(e!==null){var n=xs();Fr(e,t,134217728,n)}Oj(t,134217728)}};QE=function(t){if(t.tag===13){var e=Wa(t),n=Qi(t,e);if(n!==null){var r=xs();Fr(n,t,e,r)}Oj(t,e)}};YE=function(){return Ot};XE=function(t,e){var n=Ot;try{return Ot=t,e()}finally{Ot=n}};dy=function(t,e,n){switch(e){case"input":if(sy(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Ep(r);if(!i)throw Error(_e(90));EE(r),sy(r,i)}}}break;case"textarea":kE(t,n);break;case"select":e=n.value,e!=null&&ec(t,!!n.multiple,e,!1)}};FE=Aj;LE=tl;var G6={usingClientEntryPoint:!1,Events:[hh,Bl,Ep,ME,OE,Aj]},Od={findFiberByHostInstance:ko,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Q6={bundleType:Od.bundleType,version:Od.version,rendererPackageName:Od.rendererPackageName,rendererConfig:Od.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:sa.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=$E(t),t===null?null:t.stateNode},findFiberByHostInstance:Od.findFiberByHostInstance||W6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vm.isDisabled&&vm.supportsFiber)try{Sp=vm.inject(Q6),ci=vm}catch{}}Js.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G6;Js.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Lj(e))throw Error(_e(200));return H6(t,e,null,n)};Js.createRoot=function(t,e){if(!Lj(t))throw Error(_e(299));var n=!1,r="",i=vk;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Mj(t,1,!1,null,null,n,!1,r,i),t[Gi]=e.current,Eu(t.nodeType===8?t.parentNode:t),new Fj(e)};Js.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(_e(188)):(t=Object.keys(t).join(","),Error(_e(268,t)));return t=$E(e),t=t===null?null:t.stateNode,t};Js.flushSync=function(t){return tl(t)};Js.hydrate=function(t,e,n){if(!Fp(e))throw Error(_e(200));return Lp(null,t,e,!0,n)};Js.hydrateRoot=function(t,e,n){if(!Lj(t))throw Error(_e(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",o=vk;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=yk(e,null,t,1,n??null,i,!1,a,o),t[Gi]=e.current,Eu(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Op(e)};Js.render=function(t,e,n){if(!Fp(e))throw Error(_e(200));return Lp(null,t,e,!1,n)};Js.unmountComponentAtNode=function(t){if(!Fp(t))throw Error(_e(40));return t._reactRootContainer?(tl(function(){Lp(null,null,t,!1,function(){t._reactRootContainer=null,t[Gi]=null})}),!0):!1};Js.unstable_batchedUpdates=Aj;Js.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Fp(n))throw Error(_e(200));if(t==null||t._reactInternals===void 0)throw Error(_e(38));return Lp(t,e,n,!1,r)};Js.version="18.3.1-next-f1338f8080-20240426";function jk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(jk)}catch(t){console.error(t)}}jk(),jE.exports=Js;var xl=jE.exports;const Y6=oE(xl);var wk,SN=xl;wk=SN.createRoot,SN.hydrateRoot;function X6(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,i,a,o=[],l="",c=t.split("/");for(c[0]||c.shift();i=c.shift();)n=i[0],n==="*"?(o.push(n),l+=i[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=i.indexOf("?",1),a=i.indexOf(".",1),o.push(i.substring(1,~r?r:~a?a:i.length)),l+=~r&&!~a?"(?:/([^/]+?))?":"/([^/]+?)",~a&&(l+=(~r?"?":"")+"\\"+i.substring(a))):l+="/"+i;return{keys:o,pattern:new RegExp("^"+l+(e?"(?=$|/)":"/?$"),"i")}}var bk={exports:{}},Nk={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $c=m;function Z6(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var J6=typeof Object.is=="function"?Object.is:Z6,e9=$c.useState,t9=$c.useEffect,n9=$c.useLayoutEffect,s9=$c.useDebugValue;function r9(t,e){var n=e(),r=e9({inst:{value:n,getSnapshot:e}}),i=r[0].inst,a=r[1];return n9(function(){i.value=n,i.getSnapshot=e,ux(i)&&a({inst:i})},[t,n,e]),t9(function(){return ux(i)&&a({inst:i}),t(function(){ux(i)&&a({inst:i})})},[t]),s9(n),n}function ux(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!J6(t,n)}catch{return!0}}function i9(t,e){return e()}var a9=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?i9:r9;Nk.useSyncExternalStore=$c.useSyncExternalStore!==void 0?$c.useSyncExternalStore:a9;bk.exports=Nk;var o9=bk.exports;const l9=yE.useInsertionEffect,c9=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",d9=c9?m.useLayoutEffect:m.useEffect,u9=l9||d9,Sk=t=>{const e=m.useRef([t,(...n)=>e[0](...n)]).current;return u9(()=>{e[0]=t}),e[1]},h9="popstate",Uj="pushState",Vj="replaceState",m9="hashchange",_N=[h9,Uj,Vj,m9],f9=t=>{for(const e of _N)addEventListener(e,t);return()=>{for(const e of _N)removeEventListener(e,t)}},_k=(t,e)=>o9.useSyncExternalStore(f9,t,e),p9=()=>location.search,g9=({ssrSearch:t=""}={})=>_k(p9,()=>t),CN=()=>location.pathname,x9=({ssrPath:t}={})=>_k(CN,t?()=>t:CN),y9=(t,{replace:e=!1,state:n=null}={})=>history[e?Vj:Uj](n,"",t),v9=(t={})=>[x9(t),y9],TN=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[TN]>"u"){for(const t of[Uj,Vj]){const e=history[t];history[t]=function(){const n=e.apply(this,arguments),r=new Event(t);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,TN,{value:!0})}const j9=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",Ck=(t="")=>t==="/"?"":t,w9=(t,e)=>t[0]==="~"?t.slice(1):Ck(e)+t,b9=(t="",e)=>j9(EN(Ck(t)),EN(e)),EN=t=>{try{return decodeURI(t)}catch{return t}},Tk={hook:v9,searchHook:g9,parser:X6,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:t=>t},Ek=m.createContext(Tk),fh=()=>m.useContext(Ek),Pk={},kk=m.createContext(Pk),N9=()=>m.useContext(kk),Up=t=>{const[e,n]=t.hook(t);return[b9(t.base,e),Sk((r,i)=>n(w9(r,t.base),i))]},fo=()=>Up(fh()),Ak=(t,e,n,r)=>{const{pattern:i,keys:a}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",r),o=i.exec(n)||[],[l,...c]=o;return l!==void 0?[!0,(()=>{const u=a!==!1?Object.fromEntries(a.map((p,f)=>[p,c[f]])):o.groups;let h={...c};return u&&Object.assign(h,u),h})(),...r?[l]:[]]:[!1,null]},S9=({children:t,...e})=>{var h,p;const n=fh(),r=e.hook?Tk:n;let i=r;const[a,o]=((h=e.ssrPath)==null?void 0:h.split("?"))??[];o&&(e.ssrSearch=o,e.ssrPath=a),e.hrefs=e.hrefs??((p=e.hook)==null?void 0:p.hrefs);let l=m.useRef({}),c=l.current,u=c;for(let f in r){const v=f==="base"?r[f]+(e[f]||""):e[f]||r[f];c===u&&v!==u[f]&&(l.current=u={...u}),u[f]=v,v!==r[f]&&(i=u)}return m.createElement(Ek.Provider,{value:i,children:t})},PN=({children:t,component:e},n)=>e?m.createElement(e,{params:n}):typeof t=="function"?t(n):t,_9=t=>{let e=m.useRef(Pk),n=e.current;for(const r in t)t[r]!==n[r]&&(n=t);return Object.keys(t).length===0&&(n=t),e.current=n},mn=({path:t,nest:e,match:n,...r})=>{const i=fh(),[a]=Up(i),[o,l,c]=n??Ak(i.parser,t,a,e),u=_9({...N9(),...l});if(!o)return null;const h=c?m.createElement(S9,{base:c},PN(r,u)):PN(r,u);return m.createElement(kk.Provider,{value:u,children:h})},Wm=m.forwardRef((t,e)=>{const n=fh(),[r,i]=Up(n),{to:a="",href:o=a,onClick:l,asChild:c,children:u,className:h,replace:p,state:f,...v}=t,_=Sk(E=>{E.ctrlKey||E.metaKey||E.altKey||E.shiftKey||E.button!==0||(l==null||l(E),E.defaultPrevented||(E.preventDefault(),i(o,t)))}),j=n.hrefs(o[0]==="~"?o.slice(1):n.base+o,n);return c&&m.isValidElement(u)?m.cloneElement(u,{onClick:_,href:j}):m.createElement("a",{...v,onClick:_,href:j,className:h!=null&&h.call?h(r===o):h,children:u,ref:e})}),Ik=t=>Array.isArray(t)?t.flatMap(e=>Ik(e&&e.type===m.Fragment?e.props.children:e)):[t],C9=({children:t,location:e})=>{const n=fh(),[r]=Up(n);for(const i of Ik(t)){let a=0;if(m.isValidElement(i)&&(a=Ak(n.parser,i.props.path,e||r,i.props.nest))[0])return m.cloneElement(i,{match:a})}return null};var rd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},nl=typeof window>"u"||"Deno"in globalThis;function rr(){}function T9(t,e){return typeof t=="function"?t(e):t}function By(t){return typeof t=="number"&&t>=0&&t!==1/0}function Rk(t,e){return Math.max(t+(e||0)-Date.now(),0)}function ac(t,e){return typeof t=="function"?t(e):t}function Tr(t,e){return typeof t=="function"?t(e):t}function kN(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:a,queryKey:o,stale:l}=t;if(o){if(r){if(e.queryHash!==$j(o,e.options))return!1}else if(!Fu(e.queryKey,o))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||i&&i!==e.state.fetchStatus||a&&!a(e))}function AN(t,e){const{exact:n,status:r,predicate:i,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(n){if(sl(e.options.mutationKey)!==sl(a))return!1}else if(!Fu(e.options.mutationKey,a))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function $j(t,e){return((e==null?void 0:e.queryKeyHashFn)||sl)(t)}function sl(t){return JSON.stringify(t,(e,n)=>qy(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Fu(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!Fu(t[n],e[n])):!1}function Dk(t,e){if(t===e)return t;const n=IN(t)&&IN(e);if(n||qy(t)&&qy(e)){const r=n?t:Object.keys(t),i=r.length,a=n?e:Object.keys(e),o=a.length,l=n?[]:{};let c=0;for(let u=0;u<o;u++){const h=n?u:a[u];(!n&&r.includes(h)||n)&&t[h]===void 0&&e[h]===void 0?(l[h]=void 0,c++):(l[h]=Dk(t[h],e[h]),l[h]===t[h]&&t[h]!==void 0&&c++)}return i===o&&c===i?t:l}return e}function Rf(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function IN(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function qy(t){if(!RN(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!RN(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function RN(t){return Object.prototype.toString.call(t)==="[object Object]"}function E9(t){return new Promise(e=>{setTimeout(e,t)})}function Hy(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?Dk(t,e):e}function P9(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function k9(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var zj=Symbol();function Mk(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===zj?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Fo,Pa,wc,u_,A9=(u_=class extends rd{constructor(){super();st(this,Fo);st(this,Pa);st(this,wc);Ve(this,wc,e=>{if(!nl&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){B(this,Pa)||this.setEventListener(B(this,wc))}onUnsubscribe(){var e;this.hasListeners()||((e=B(this,Pa))==null||e.call(this),Ve(this,Pa,void 0))}setEventListener(e){var n;Ve(this,wc,e),(n=B(this,Pa))==null||n.call(this),Ve(this,Pa,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){B(this,Fo)!==e&&(Ve(this,Fo,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof B(this,Fo)=="boolean"?B(this,Fo):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Fo=new WeakMap,Pa=new WeakMap,wc=new WeakMap,u_),Bj=new A9,bc,ka,Nc,h_,I9=(h_=class extends rd{constructor(){super();st(this,bc,!0);st(this,ka);st(this,Nc);Ve(this,Nc,e=>{if(!nl&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){B(this,ka)||this.setEventListener(B(this,Nc))}onUnsubscribe(){var e;this.hasListeners()||((e=B(this,ka))==null||e.call(this),Ve(this,ka,void 0))}setEventListener(e){var n;Ve(this,Nc,e),(n=B(this,ka))==null||n.call(this),Ve(this,ka,e(this.setOnline.bind(this)))}setOnline(e){B(this,bc)!==e&&(Ve(this,bc,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return B(this,bc)}},bc=new WeakMap,ka=new WeakMap,Nc=new WeakMap,h_),Df=new I9;function Wy(){let t,e;const n=new Promise((i,a)=>{t=i,e=a});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function R9(t){return Math.min(1e3*2**t,3e4)}function Ok(t){return(t??"online")==="online"?Df.isOnline():!0}var Fk=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function hx(t){return t instanceof Fk}function Lk(t){let e=!1,n=0,r=!1,i;const a=Wy(),o=j=>{var E;r||(f(new Fk(j)),(E=t.abort)==null||E.call(t))},l=()=>{e=!0},c=()=>{e=!1},u=()=>Bj.isFocused()&&(t.networkMode==="always"||Df.isOnline())&&t.canRun(),h=()=>Ok(t.networkMode)&&t.canRun(),p=j=>{var E;r||(r=!0,(E=t.onSuccess)==null||E.call(t,j),i==null||i(),a.resolve(j))},f=j=>{var E;r||(r=!0,(E=t.onError)==null||E.call(t,j),i==null||i(),a.reject(j))},v=()=>new Promise(j=>{var E;i=N=>{(r||u())&&j(N)},(E=t.onPause)==null||E.call(t)}).then(()=>{var j;i=void 0,r||(j=t.onContinue)==null||j.call(t)}),_=()=>{if(r)return;let j;const E=n===0?t.initialPromise:void 0;try{j=E??t.fn()}catch(N){j=Promise.reject(N)}Promise.resolve(j).then(p).catch(N=>{var U;if(r)return;const y=t.retry??(nl?0:3),w=t.retryDelay??R9,T=typeof w=="function"?w(n,N):w,O=y===!0||typeof y=="number"&&n<y||typeof y=="function"&&y(n,N);if(e||!O){f(N);return}n++,(U=t.onFail)==null||U.call(t,n,N),E9(T).then(()=>u()?void 0:v()).then(()=>{e?f(N):_()})})};return{promise:a,cancel:o,continue:()=>(i==null||i(),a),cancelRetry:l,continueRetry:c,canStart:h,start:()=>(h()?_():v().then(_),a)}}function D9(){let t=[],e=0,n=l=>{l()},r=l=>{l()},i=l=>setTimeout(l,0);const a=l=>{e?t.push(l):i(()=>{n(l)})},o=()=>{const l=t;t=[],l.length&&i(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||o()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{i=l}}}var On=D9(),Lo,m_,Uk=(m_=class{constructor(){st(this,Lo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),By(this.gcTime)&&Ve(this,Lo,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(nl?1/0:5*60*1e3))}clearGcTimeout(){B(this,Lo)&&(clearTimeout(B(this,Lo)),Ve(this,Lo,void 0))}},Lo=new WeakMap,m_),Sc,_c,sr,ts,ih,Uo,Sr,Di,f_,M9=(f_=class extends Uk{constructor(n){super();st(this,Sr);st(this,Sc);st(this,_c);st(this,sr);st(this,ts);st(this,ih);st(this,Uo);Ve(this,Uo,!1),Ve(this,ih,n.defaultOptions),this.setOptions(n.options),this.observers=[],Ve(this,sr,n.cache),this.queryKey=n.queryKey,this.queryHash=n.queryHash,Ve(this,Sc,O9(this.options)),this.state=n.state??B(this,Sc),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=B(this,ts))==null?void 0:n.promise}setOptions(n){this.options={...B(this,ih),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&B(this,sr).remove(this)}setData(n,r){const i=Hy(this.state.data,n,this.options);return vt(this,Sr,Di).call(this,{data:i,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),i}setState(n,r){vt(this,Sr,Di).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var i,a;const r=(i=B(this,ts))==null?void 0:i.promise;return(a=B(this,ts))==null||a.cancel(n),r?r.then(rr).catch(rr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(B(this,Sc))}isActive(){return this.observers.some(n=>Tr(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===zj||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!Rk(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(i=>i.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=B(this,ts))==null||r.continue()}onOnline(){var r;const n=this.observers.find(i=>i.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=B(this,ts))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),B(this,sr).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(B(this,ts)&&(B(this,Uo)?B(this,ts).cancel({revert:!0}):B(this,ts).cancelRetry()),this.scheduleGc()),B(this,sr).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||vt(this,Sr,Di).call(this,{type:"invalidate"})}fetch(n,r){var u,h,p;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(B(this,ts))return B(this,ts).continueRetry(),B(this,ts).promise}if(n&&this.setOptions(n),!this.options.queryFn){const f=this.observers.find(v=>v.options.queryFn);f&&this.setOptions(f.options)}const i=new AbortController,a=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(Ve(this,Uo,!0),i.signal)})},o=()=>{const f=Mk(this.options,r),v={queryKey:this.queryKey,meta:this.meta};return a(v),Ve(this,Uo,!1),this.options.persister?this.options.persister(f,v,this):f(v)},l={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};a(l),(u=this.options.behavior)==null||u.onFetch(l,this),Ve(this,_c,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=l.fetchOptions)==null?void 0:h.meta))&&vt(this,Sr,Di).call(this,{type:"fetch",meta:(p=l.fetchOptions)==null?void 0:p.meta});const c=f=>{var v,_,j,E;hx(f)&&f.silent||vt(this,Sr,Di).call(this,{type:"error",error:f}),hx(f)||((_=(v=B(this,sr).config).onError)==null||_.call(v,f,this),(E=(j=B(this,sr).config).onSettled)==null||E.call(j,this.state.data,f,this)),this.scheduleGc()};return Ve(this,ts,Lk({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:i.abort.bind(i),onSuccess:f=>{var v,_,j,E;if(f===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(N){c(N);return}(_=(v=B(this,sr).config).onSuccess)==null||_.call(v,f,this),(E=(j=B(this,sr).config).onSettled)==null||E.call(j,f,this.state.error,this),this.scheduleGc()},onError:c,onFail:(f,v)=>{vt(this,Sr,Di).call(this,{type:"failed",failureCount:f,error:v})},onPause:()=>{vt(this,Sr,Di).call(this,{type:"pause"})},onContinue:()=>{vt(this,Sr,Di).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),B(this,ts).start()}},Sc=new WeakMap,_c=new WeakMap,sr=new WeakMap,ts=new WeakMap,ih=new WeakMap,Uo=new WeakMap,Sr=new WeakSet,Di=function(n){const r=i=>{switch(n.type){case"failed":return{...i,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...Vk(i.data,this.options),fetchMeta:n.meta??null};case"success":return{...i,data:n.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=n.error;return hx(a)&&a.revert&&B(this,_c)?{...B(this,_c),fetchStatus:"idle"}:{...i,error:a,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...n.state}}};this.state=r(this.state),On.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),B(this,sr).notify({query:this,type:"updated",action:n})})},f_);function Vk(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Ok(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function O9(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Zr,p_,F9=(p_=class extends rd{constructor(e={}){super();st(this,Zr);this.config=e,Ve(this,Zr,new Map)}build(e,n,r){const i=n.queryKey,a=n.queryHash??$j(i,n);let o=this.get(a);return o||(o=new M9({cache:this,queryKey:i,queryHash:a,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){B(this,Zr).has(e.queryHash)||(B(this,Zr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=B(this,Zr).get(e.queryHash);n&&(e.destroy(),n===e&&B(this,Zr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){On.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return B(this,Zr).get(e)}getAll(){return[...B(this,Zr).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>kN(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>kN(e,r)):n}notify(e){On.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){On.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){On.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Zr=new WeakMap,p_),Jr,ls,Vo,ei,ya,g_,L9=(g_=class extends Uk{constructor(e){super();st(this,ei);st(this,Jr);st(this,ls);st(this,Vo);this.mutationId=e.mutationId,Ve(this,ls,e.mutationCache),Ve(this,Jr,[]),this.state=e.state||$k(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){B(this,Jr).includes(e)||(B(this,Jr).push(e),this.clearGcTimeout(),B(this,ls).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Ve(this,Jr,B(this,Jr).filter(n=>n!==e)),this.scheduleGc(),B(this,ls).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){B(this,Jr).length||(this.state.status==="pending"?this.scheduleGc():B(this,ls).remove(this))}continue(){var e;return((e=B(this,Vo))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,a,o,l,c,u,h,p,f,v,_,j,E,N,y,w,T,O,U,A;Ve(this,Vo,Lk({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(S,g)=>{vt(this,ei,ya).call(this,{type:"failed",failureCount:S,error:g})},onPause:()=>{vt(this,ei,ya).call(this,{type:"pause"})},onContinue:()=>{vt(this,ei,ya).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>B(this,ls).canRun(this)}));const n=this.state.status==="pending",r=!B(this,Vo).canStart();try{if(!n){vt(this,ei,ya).call(this,{type:"pending",variables:e,isPaused:r}),await((a=(i=B(this,ls).config).onMutate)==null?void 0:a.call(i,e,this));const g=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,e));g!==this.state.context&&vt(this,ei,ya).call(this,{type:"pending",context:g,variables:e,isPaused:r})}const S=await B(this,Vo).start();return await((u=(c=B(this,ls).config).onSuccess)==null?void 0:u.call(c,S,e,this.state.context,this)),await((p=(h=this.options).onSuccess)==null?void 0:p.call(h,S,e,this.state.context)),await((v=(f=B(this,ls).config).onSettled)==null?void 0:v.call(f,S,null,this.state.variables,this.state.context,this)),await((j=(_=this.options).onSettled)==null?void 0:j.call(_,S,null,e,this.state.context)),vt(this,ei,ya).call(this,{type:"success",data:S}),S}catch(S){try{throw await((N=(E=B(this,ls).config).onError)==null?void 0:N.call(E,S,e,this.state.context,this)),await((w=(y=this.options).onError)==null?void 0:w.call(y,S,e,this.state.context)),await((O=(T=B(this,ls).config).onSettled)==null?void 0:O.call(T,void 0,S,this.state.variables,this.state.context,this)),await((A=(U=this.options).onSettled)==null?void 0:A.call(U,void 0,S,e,this.state.context)),S}finally{vt(this,ei,ya).call(this,{type:"error",error:S})}}finally{B(this,ls).runNext(this)}}},Jr=new WeakMap,ls=new WeakMap,Vo=new WeakMap,ei=new WeakSet,ya=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),On.batch(()=>{B(this,Jr).forEach(r=>{r.onMutationUpdate(e)}),B(this,ls).notify({mutation:this,type:"updated",action:e})})},g_);function $k(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Os,ah,x_,U9=(x_=class extends rd{constructor(e={}){super();st(this,Os);st(this,ah);this.config=e,Ve(this,Os,new Map),Ve(this,ah,Date.now())}build(e,n,r){const i=new L9({mutationCache:this,mutationId:++nm(this,ah)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){const n=jm(e),r=B(this,Os).get(n)??[];r.push(e),B(this,Os).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=jm(e);if(B(this,Os).has(n)){const i=(r=B(this,Os).get(n))==null?void 0:r.filter(a=>a!==e);i&&(i.length===0?B(this,Os).delete(n):B(this,Os).set(n,i))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=B(this,Os).get(jm(e)))==null?void 0:r.find(i=>i.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=B(this,Os).get(jm(e)))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){On.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...B(this,Os).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>AN(n,r))}findAll(e={}){return this.getAll().filter(n=>AN(e,n))}notify(e){On.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return On.batch(()=>Promise.all(e.map(n=>n.continue().catch(rr))))}},Os=new WeakMap,ah=new WeakMap,x_);function jm(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function DN(t){return{onFetch:(e,n)=>{var h,p,f,v,_;const r=e.options,i=(f=(p=(h=e.fetchOptions)==null?void 0:h.meta)==null?void 0:p.fetchMore)==null?void 0:f.direction,a=((v=e.state.data)==null?void 0:v.pages)||[],o=((_=e.state.data)==null?void 0:_.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let j=!1;const E=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(e.signal.aborted?j=!0:e.signal.addEventListener("abort",()=>{j=!0}),e.signal)})},N=Mk(e.options,e.fetchOptions),y=async(w,T,O)=>{if(j)return Promise.reject();if(T==null&&w.pages.length)return Promise.resolve(w);const U={queryKey:e.queryKey,pageParam:T,direction:O?"backward":"forward",meta:e.options.meta};E(U);const A=await N(U),{maxPages:S}=e.options,g=O?k9:P9;return{pages:g(w.pages,A,S),pageParams:g(w.pageParams,T,S)}};if(i&&a.length){const w=i==="backward",T=w?V9:MN,O={pages:a,pageParams:o},U=T(r,O);l=await y(O,U,w)}else{const w=t??a.length;do{const T=c===0?o[0]??r.initialPageParam:MN(r,l);if(c>0&&T==null)break;l=await y(l,T),c++}while(c<w)}return l};e.options.persister?e.fetchFn=()=>{var j,E;return(E=(j=e.options).persister)==null?void 0:E.call(j,u,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function MN(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function V9(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var fn,Aa,Ia,Cc,Tc,Ra,Ec,Pc,y_,$9=(y_=class{constructor(t={}){st(this,fn);st(this,Aa);st(this,Ia);st(this,Cc);st(this,Tc);st(this,Ra);st(this,Ec);st(this,Pc);Ve(this,fn,t.queryCache||new F9),Ve(this,Aa,t.mutationCache||new U9),Ve(this,Ia,t.defaultOptions||{}),Ve(this,Cc,new Map),Ve(this,Tc,new Map),Ve(this,Ra,0)}mount(){nm(this,Ra)._++,B(this,Ra)===1&&(Ve(this,Ec,Bj.subscribe(async t=>{t&&(await this.resumePausedMutations(),B(this,fn).onFocus())})),Ve(this,Pc,Df.subscribe(async t=>{t&&(await this.resumePausedMutations(),B(this,fn).onOnline())})))}unmount(){var t,e;nm(this,Ra)._--,B(this,Ra)===0&&((t=B(this,Ec))==null||t.call(this),Ve(this,Ec,void 0),(e=B(this,Pc))==null||e.call(this),Ve(this,Pc,void 0))}isFetching(t){return B(this,fn).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return B(this,Aa).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=B(this,fn).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=B(this,fn).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(ac(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return B(this,fn).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=B(this,fn).get(r.queryHash),a=i==null?void 0:i.state.data,o=T9(e,a);if(o!==void 0)return B(this,fn).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return On.batch(()=>B(this,fn).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=B(this,fn).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=B(this,fn);On.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=B(this,fn),r={type:"active",...t};return On.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=On.batch(()=>B(this,fn).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(rr).catch(rr)}invalidateQueries(t={},e={}){return On.batch(()=>{if(B(this,fn).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=On.batch(()=>B(this,fn).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let a=i.fetch(void 0,n);return n.throwOnError||(a=a.catch(rr)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(rr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=B(this,fn).build(this,e);return n.isStaleByTime(ac(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(rr).catch(rr)}fetchInfiniteQuery(t){return t.behavior=DN(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(rr).catch(rr)}ensureInfiniteQueryData(t){return t.behavior=DN(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Df.isOnline()?B(this,Aa).resumePausedMutations():Promise.resolve()}getQueryCache(){return B(this,fn)}getMutationCache(){return B(this,Aa)}getDefaultOptions(){return B(this,Ia)}setDefaultOptions(t){Ve(this,Ia,t)}setQueryDefaults(t,e){B(this,Cc).set(sl(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...B(this,Cc).values()];let n={};return e.forEach(r=>{Fu(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){B(this,Tc).set(sl(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...B(this,Tc).values()];let n={};return e.forEach(r=>{Fu(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...B(this,Ia).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=$j(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===zj&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...B(this,Ia).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){B(this,fn).clear(),B(this,Aa).clear()}},fn=new WeakMap,Aa=new WeakMap,Ia=new WeakMap,Cc=new WeakMap,Tc=new WeakMap,Ra=new WeakMap,Ec=new WeakMap,Pc=new WeakMap,y_),_s,Nt,oh,cs,$o,kc,Da,ti,lh,Ac,Ic,zo,Bo,Ma,Rc,Rt,Kd,Ky,Gy,Qy,Yy,Xy,Zy,Jy,zk,v_,z9=(v_=class extends rd{constructor(e,n){super();st(this,Rt);st(this,_s);st(this,Nt);st(this,oh);st(this,cs);st(this,$o);st(this,kc);st(this,Da);st(this,ti);st(this,lh);st(this,Ac);st(this,Ic);st(this,zo);st(this,Bo);st(this,Ma);st(this,Rc,new Set);this.options=n,Ve(this,_s,e),Ve(this,ti,null),Ve(this,Da,Wy()),this.options.experimental_prefetchInRender||B(this,Da).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(B(this,Nt).addObserver(this),ON(B(this,Nt),this.options)?vt(this,Rt,Kd).call(this):this.updateResult(),vt(this,Rt,Yy).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return ev(B(this,Nt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return ev(B(this,Nt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,vt(this,Rt,Xy).call(this),vt(this,Rt,Zy).call(this),B(this,Nt).removeObserver(this)}setOptions(e,n){const r=this.options,i=B(this,Nt);if(this.options=B(this,_s).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Tr(this.options.enabled,B(this,Nt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");vt(this,Rt,Jy).call(this),B(this,Nt).setOptions(this.options),r._defaulted&&!Rf(this.options,r)&&B(this,_s).getQueryCache().notify({type:"observerOptionsUpdated",query:B(this,Nt),observer:this});const a=this.hasListeners();a&&FN(B(this,Nt),i,this.options,r)&&vt(this,Rt,Kd).call(this),this.updateResult(n),a&&(B(this,Nt)!==i||Tr(this.options.enabled,B(this,Nt))!==Tr(r.enabled,B(this,Nt))||ac(this.options.staleTime,B(this,Nt))!==ac(r.staleTime,B(this,Nt)))&&vt(this,Rt,Ky).call(this);const o=vt(this,Rt,Gy).call(this);a&&(B(this,Nt)!==i||Tr(this.options.enabled,B(this,Nt))!==Tr(r.enabled,B(this,Nt))||o!==B(this,Ma))&&vt(this,Rt,Qy).call(this,o)}getOptimisticResult(e){const n=B(this,_s).getQueryCache().build(B(this,_s),e),r=this.createResult(n,e);return q9(this,r)&&(Ve(this,cs,r),Ve(this,kc,this.options),Ve(this,$o,B(this,Nt).state)),r}getCurrentResult(){return B(this,cs)}trackResult(e,n){const r={};return Object.keys(e).forEach(i=>{Object.defineProperty(r,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),n==null||n(i),e[i])})}),r}trackProp(e){B(this,Rc).add(e)}getCurrentQuery(){return B(this,Nt)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=B(this,_s).defaultQueryOptions(e),r=B(this,_s).getQueryCache().build(B(this,_s),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return vt(this,Rt,Kd).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),B(this,cs)))}createResult(e,n){var S;const r=B(this,Nt),i=this.options,a=B(this,cs),o=B(this,$o),l=B(this,kc),u=e!==r?e.state:B(this,oh),{state:h}=e;let p={...h},f=!1,v;if(n._optimisticResults){const g=this.hasListeners(),k=!g&&ON(e,n),P=g&&FN(e,r,n,i);(k||P)&&(p={...p,...Vk(h.data,e.options)}),n._optimisticResults==="isRestoring"&&(p.fetchStatus="idle")}let{error:_,errorUpdatedAt:j,status:E}=p;if(n.select&&p.data!==void 0)if(a&&p.data===(o==null?void 0:o.data)&&n.select===B(this,lh))v=B(this,Ac);else try{Ve(this,lh,n.select),v=n.select(p.data),v=Hy(a==null?void 0:a.data,v,n),Ve(this,Ac,v),Ve(this,ti,null)}catch(g){Ve(this,ti,g)}else v=p.data;if(n.placeholderData!==void 0&&v===void 0&&E==="pending"){let g;if(a!=null&&a.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData))g=a.data;else if(g=typeof n.placeholderData=="function"?n.placeholderData((S=B(this,Ic))==null?void 0:S.state.data,B(this,Ic)):n.placeholderData,n.select&&g!==void 0)try{g=n.select(g),Ve(this,ti,null)}catch(k){Ve(this,ti,k)}g!==void 0&&(E="success",v=Hy(a==null?void 0:a.data,g,n),f=!0)}B(this,ti)&&(_=B(this,ti),v=B(this,Ac),j=Date.now(),E="error");const N=p.fetchStatus==="fetching",y=E==="pending",w=E==="error",T=y&&N,O=v!==void 0,A={status:E,fetchStatus:p.fetchStatus,isPending:y,isSuccess:E==="success",isError:w,isInitialLoading:T,isLoading:T,data:v,dataUpdatedAt:p.dataUpdatedAt,error:_,errorUpdatedAt:j,failureCount:p.fetchFailureCount,failureReason:p.fetchFailureReason,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>u.dataUpdateCount||p.errorUpdateCount>u.errorUpdateCount,isFetching:N,isRefetching:N&&!y,isLoadingError:w&&!O,isPaused:p.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:w&&O,isStale:qj(e,n),refetch:this.refetch,promise:B(this,Da)};if(this.options.experimental_prefetchInRender){const g=I=>{A.status==="error"?I.reject(A.error):A.data!==void 0&&I.resolve(A.data)},k=()=>{const I=Ve(this,Da,A.promise=Wy());g(I)},P=B(this,Da);switch(P.status){case"pending":e.queryHash===r.queryHash&&g(P);break;case"fulfilled":(A.status==="error"||A.data!==P.value)&&k();break;case"rejected":(A.status!=="error"||A.error!==P.reason)&&k();break}}return A}updateResult(e){const n=B(this,cs),r=this.createResult(B(this,Nt),this.options);if(Ve(this,$o,B(this,Nt).state),Ve(this,kc,this.options),B(this,$o).data!==void 0&&Ve(this,Ic,B(this,Nt)),Rf(r,n))return;Ve(this,cs,r);const i={},a=()=>{if(!n)return!0;const{notifyOnChangeProps:o}=this.options,l=typeof o=="function"?o():o;if(l==="all"||!l&&!B(this,Rc).size)return!0;const c=new Set(l??B(this,Rc));return this.options.throwOnError&&c.add("error"),Object.keys(B(this,cs)).some(u=>{const h=u;return B(this,cs)[h]!==n[h]&&c.has(h)})};(e==null?void 0:e.listeners)!==!1&&a()&&(i.listeners=!0),vt(this,Rt,zk).call(this,{...i,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&vt(this,Rt,Yy).call(this)}},_s=new WeakMap,Nt=new WeakMap,oh=new WeakMap,cs=new WeakMap,$o=new WeakMap,kc=new WeakMap,Da=new WeakMap,ti=new WeakMap,lh=new WeakMap,Ac=new WeakMap,Ic=new WeakMap,zo=new WeakMap,Bo=new WeakMap,Ma=new WeakMap,Rc=new WeakMap,Rt=new WeakSet,Kd=function(e){vt(this,Rt,Jy).call(this);let n=B(this,Nt).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(rr)),n},Ky=function(){vt(this,Rt,Xy).call(this);const e=ac(this.options.staleTime,B(this,Nt));if(nl||B(this,cs).isStale||!By(e))return;const r=Rk(B(this,cs).dataUpdatedAt,e)+1;Ve(this,zo,setTimeout(()=>{B(this,cs).isStale||this.updateResult()},r))},Gy=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(B(this,Nt)):this.options.refetchInterval)??!1},Qy=function(e){vt(this,Rt,Zy).call(this),Ve(this,Ma,e),!(nl||Tr(this.options.enabled,B(this,Nt))===!1||!By(B(this,Ma))||B(this,Ma)===0)&&Ve(this,Bo,setInterval(()=>{(this.options.refetchIntervalInBackground||Bj.isFocused())&&vt(this,Rt,Kd).call(this)},B(this,Ma)))},Yy=function(){vt(this,Rt,Ky).call(this),vt(this,Rt,Qy).call(this,vt(this,Rt,Gy).call(this))},Xy=function(){B(this,zo)&&(clearTimeout(B(this,zo)),Ve(this,zo,void 0))},Zy=function(){B(this,Bo)&&(clearInterval(B(this,Bo)),Ve(this,Bo,void 0))},Jy=function(){const e=B(this,_s).getQueryCache().build(B(this,_s),this.options);if(e===B(this,Nt))return;const n=B(this,Nt);Ve(this,Nt,e),Ve(this,oh,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},zk=function(e){On.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(B(this,cs))}),B(this,_s).getQueryCache().notify({query:B(this,Nt),type:"observerResultsUpdated"})})},v_);function B9(t,e){return Tr(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function ON(t,e){return B9(t,e)||t.state.data!==void 0&&ev(t,e,e.refetchOnMount)}function ev(t,e,n){if(Tr(e.enabled,t)!==!1){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&qj(t,e)}return!1}function FN(t,e,n,r){return(t!==e||Tr(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&qj(t,n)}function qj(t,e){return Tr(e.enabled,t)!==!1&&t.isStaleByTime(ac(e.staleTime,t))}function q9(t,e){return!Rf(t.getCurrentResult(),e)}var Oa,Fa,Cs,Ui,Wi,Km,tv,j_,H9=(j_=class extends rd{constructor(n,r){super();st(this,Wi);st(this,Oa);st(this,Fa);st(this,Cs);st(this,Ui);Ve(this,Oa,n),this.setOptions(r),this.bindMethods(),vt(this,Wi,Km).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var i;const r=this.options;this.options=B(this,Oa).defaultMutationOptions(n),Rf(this.options,r)||B(this,Oa).getMutationCache().notify({type:"observerOptionsUpdated",mutation:B(this,Cs),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&sl(r.mutationKey)!==sl(this.options.mutationKey)?this.reset():((i=B(this,Cs))==null?void 0:i.state.status)==="pending"&&B(this,Cs).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=B(this,Cs))==null||n.removeObserver(this)}onMutationUpdate(n){vt(this,Wi,Km).call(this),vt(this,Wi,tv).call(this,n)}getCurrentResult(){return B(this,Fa)}reset(){var n;(n=B(this,Cs))==null||n.removeObserver(this),Ve(this,Cs,void 0),vt(this,Wi,Km).call(this),vt(this,Wi,tv).call(this)}mutate(n,r){var i;return Ve(this,Ui,r),(i=B(this,Cs))==null||i.removeObserver(this),Ve(this,Cs,B(this,Oa).getMutationCache().build(B(this,Oa),this.options)),B(this,Cs).addObserver(this),B(this,Cs).execute(n)}},Oa=new WeakMap,Fa=new WeakMap,Cs=new WeakMap,Ui=new WeakMap,Wi=new WeakSet,Km=function(){var r;const n=((r=B(this,Cs))==null?void 0:r.state)??$k();Ve(this,Fa,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},tv=function(n){On.batch(()=>{var r,i,a,o,l,c,u,h;if(B(this,Ui)&&this.hasListeners()){const p=B(this,Fa).variables,f=B(this,Fa).context;(n==null?void 0:n.type)==="success"?((i=(r=B(this,Ui)).onSuccess)==null||i.call(r,n.data,p,f),(o=(a=B(this,Ui)).onSettled)==null||o.call(a,n.data,null,p,f)):(n==null?void 0:n.type)==="error"&&((c=(l=B(this,Ui)).onError)==null||c.call(l,n.error,p,f),(h=(u=B(this,Ui)).onSettled)==null||h.call(u,void 0,n.error,p,f))}this.listeners.forEach(p=>{p(B(this,Fa))})})},j_),Bk=m.createContext(void 0),as=t=>{const e=m.useContext(Bk);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},W9=({client:t,children:e})=>(m.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),s.jsx(Bk.Provider,{value:t,children:e})),qk=m.createContext(!1),K9=()=>m.useContext(qk);qk.Provider;function G9(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var Q9=m.createContext(G9()),Y9=()=>m.useContext(Q9);function Hk(t,e){return typeof t=="function"?t(...e):!!t}function nv(){}var X9=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},Z9=t=>{m.useEffect(()=>{t.clearReset()},[t])},J9=({result:t,errorResetBoundary:e,throwOnError:n,query:r})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&Hk(n,[t.error,r]),eU=t=>{t.suspense&&(t.staleTime===void 0&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},tU=(t,e)=>t.isLoading&&t.isFetching&&!e,nU=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,LN=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function sU(t,e,n){var h,p,f,v,_;const r=as(),i=K9(),a=Y9(),o=r.defaultQueryOptions(t);(p=(h=r.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||p.call(h,o),o._optimisticResults=i?"isRestoring":"optimistic",eU(o),X9(o,a),Z9(a);const l=!r.getQueryCache().get(o.queryHash),[c]=m.useState(()=>new e(r,o)),u=c.getOptimisticResult(o);if(m.useSyncExternalStore(m.useCallback(j=>{const E=i?nv:c.subscribe(On.batchCalls(j));return c.updateResult(),E},[c,i]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),m.useEffect(()=>{c.setOptions(o,{listeners:!1})},[o,c]),nU(o,u))throw LN(o,c,a);if(J9({result:u,errorResetBoundary:a,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash)}))throw u.error;if((v=(f=r.getDefaultOptions().queries)==null?void 0:f._experimental_afterQuery)==null||v.call(f,o,u),o.experimental_prefetchInRender&&!nl&&tU(u,i)){const j=l?LN(o,c,a):(_=r.getQueryCache().get(o.queryHash))==null?void 0:_.promise;j==null||j.catch(nv).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function ot(t,e){return sU(t,z9)}function ze(t,e){const n=as(),[r]=m.useState(()=>new H9(n,t));m.useEffect(()=>{r.setOptions(t)},[r,t]);const i=m.useSyncExternalStore(m.useCallback(o=>r.subscribe(On.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),a=m.useCallback((o,l)=>{r.mutate(o,l).catch(nv)},[r]);if(i.error&&Hk(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}const rU=()=>{};var UN={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wk=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},iU=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],o=t[n++],l=t[n++],c=((i&7)<<18|(a&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const a=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return e.join("")},Kk={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],o=i+1<t.length,l=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,h=a>>2,p=(a&3)<<4|l>>4;let f=(l&15)<<2|u>>6,v=u&63;c||(v=64,o||(f=64)),r.push(n[h],n[p],n[f],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Wk(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):iU(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||l==null||u==null||p==null)throw new aU;const f=a<<2|l>>4;if(r.push(f),u!==64){const v=l<<4&240|u>>2;if(r.push(v),p!==64){const _=u<<6&192|p;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class aU extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const oU=function(t){const e=Wk(t);return Kk.encodeByteArray(e,!0)},Mf=function(t){return oU(t).replace(/\./g,"")},Gk=function(t){try{return Kk.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lU(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cU=()=>lU().__FIREBASE_DEFAULTS__,dU=()=>{if(typeof process>"u"||typeof UN>"u")return;const t=UN.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},uU=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Gk(t[1]);return e&&JSON.parse(e)},Hj=()=>{try{return rU()||cU()||dU()||uU()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Qk=t=>{var e,n;return(n=(e=Hj())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Yk=t=>{const e=Qk(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Xk=()=>{var t;return(t=Hj())===null||t===void 0?void 0:t.config},Zk=t=>{var e;return(e=Hj())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hU{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function id(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Wj(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jk(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Mf(JSON.stringify(n)),Mf(JSON.stringify(o)),""].join(".")}const du={};function mU(){const t={prod:[],emulator:[]};for(const e of Object.keys(du))du[e]?t.emulator.push(e):t.prod.push(e);return t}function fU(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let VN=!1;function Kj(t,e){if(typeof window>"u"||typeof document>"u"||!id(window.location.host)||du[t]===e||du[t]||VN)return;du[t]=e;function n(f){return`__firebase__banner__${f}`}const r="__firebase__banner",a=mU().prod.length>0;function o(){const f=document.getElementById(r);f&&f.remove()}function l(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function c(f,v){f.setAttribute("width","24"),f.setAttribute("id",v),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function u(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{VN=!0,o()},f}function h(f,v){f.setAttribute("id",v),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function p(){const f=fU(r),v=n("text"),_=document.getElementById(v)||document.createElement("span"),j=n("learnmore"),E=document.getElementById(j)||document.createElement("a"),N=n("preprendIcon"),y=document.getElementById(N)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const w=f.element;l(w),h(E,j);const T=u();c(y,N),w.append(y,_,E,T),document.body.appendChild(w)}a?(_.innerText="Preview backend disconnected.",y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,_.innerText="Preview backend running in this workspace."),_.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ys(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function pU(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ys())}function gU(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function eA(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function xU(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function yU(){const t=ys();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function tA(){try{return typeof indexedDB=="object"}catch{return!1}}function nA(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}function vU(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jU="FirebaseError";class pr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=jU,Object.setPrototypeOf(this,pr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yl.prototype.create)}}class yl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],o=a?wU(a,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new pr(i,l,r)}}function wU(t,e){return t.replace(bU,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const bU=/\{\$([^}]+)}/g;function NU(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function eo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],o=e[i];if($N(a)&&$N(o)){if(!eo(a,o))return!1}else if(a!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function $N(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ph(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function SU(t,e){const n=new _U(t,e);return n.subscribe.bind(n)}class _U{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");CU(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=mx),i.error===void 0&&(i.error=mx),i.complete===void 0&&(i.complete=mx);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function CU(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function mx(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TU=1e3,EU=2,PU=4*60*60*1e3,kU=.5;function zN(t,e=TU,n=EU){const r=e*Math.pow(n,t),i=Math.round(kU*r*(Math.random()-.5)*2);return Math.min(PU,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gr(t){return t&&t._delegate?t._delegate:t}class fr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Co="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let AU=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new hU;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(RU(e))try{this.getOrInitializeService({instanceIdentifier:Co})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=Co){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Co){return this.instances.has(e)}getOptions(e=Co){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(a);r===l&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(i,a);const o=this.instances.get(i);return o&&e(o,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:IU(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Co){return this.component?this.component.multipleInstances?e:Co:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function IU(t){return t===Co?void 0:t}function RU(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DU{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new AU(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var It;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(It||(It={}));const MU={debug:It.DEBUG,verbose:It.VERBOSE,info:It.INFO,warn:It.WARN,error:It.ERROR,silent:It.SILENT},OU=It.INFO,FU={[It.DEBUG]:"log",[It.VERBOSE]:"log",[It.INFO]:"info",[It.WARN]:"warn",[It.ERROR]:"error"},LU=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=FU[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Vp{constructor(e){this.name=e,this._logLevel=OU,this._logHandler=LU,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in It))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?MU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,It.DEBUG,...e),this._logHandler(this,It.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,It.VERBOSE,...e),this._logHandler(this,It.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,It.INFO,...e),this._logHandler(this,It.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,It.WARN,...e),this._logHandler(this,It.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,It.ERROR,...e),this._logHandler(this,It.ERROR,...e)}}const UU=(t,e)=>e.some(n=>t instanceof n);let BN,qN;function VU(){return BN||(BN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $U(){return qN||(qN=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const sA=new WeakMap,sv=new WeakMap,rA=new WeakMap,fx=new WeakMap,Gj=new WeakMap;function zU(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{n(Ga(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&sA.set(n,t)}).catch(()=>{}),Gj.set(e,t),e}function BU(t){if(sv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});sv.set(t,e)}let rv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return sv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||rA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ga(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function qU(t){rv=t(rv)}function HU(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(px(this),e,...n);return rA.set(r,e.sort?e.sort():[e]),Ga(r)}:$U().includes(t)?function(...e){return t.apply(px(this),e),Ga(sA.get(this))}:function(...e){return Ga(t.apply(px(this),e))}}function WU(t){return typeof t=="function"?HU(t):(t instanceof IDBTransaction&&BU(t),UU(t,VU())?new Proxy(t,rv):t)}function Ga(t){if(t instanceof IDBRequest)return zU(t);if(fx.has(t))return fx.get(t);const e=WU(t);return e!==t&&(fx.set(t,e),Gj.set(e,t)),e}const px=t=>Gj.get(t);function iA(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const o=indexedDB.open(t,e),l=Ga(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Ga(o.result),c.oldVersion,c.newVersion,Ga(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{a&&c.addEventListener("close",()=>a()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const KU=["get","getKey","getAll","getAllKeys","count"],GU=["put","add","delete","clear"],gx=new Map;function HN(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(gx.get(e))return gx.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=GU.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||KU.includes(n)))return;const a=async function(o,...l){const c=this.transaction(o,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),i&&c.done]))[0]};return gx.set(e,a),a}qU(t=>({...t,get:(e,n,r)=>HN(e,n)||t.get(e,n,r),has:(e,n)=>!!HN(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QU{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(YU(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function YU(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const iv="@firebase/app",WN="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xi=new Vp("@firebase/app"),XU="@firebase/app-compat",ZU="@firebase/analytics-compat",JU="@firebase/analytics",eV="@firebase/app-check-compat",tV="@firebase/app-check",nV="@firebase/auth",sV="@firebase/auth-compat",rV="@firebase/database",iV="@firebase/data-connect",aV="@firebase/database-compat",oV="@firebase/functions",lV="@firebase/functions-compat",cV="@firebase/installations",dV="@firebase/installations-compat",uV="@firebase/messaging",hV="@firebase/messaging-compat",mV="@firebase/performance",fV="@firebase/performance-compat",pV="@firebase/remote-config",gV="@firebase/remote-config-compat",xV="@firebase/storage",yV="@firebase/storage-compat",vV="@firebase/firestore",jV="@firebase/ai",wV="@firebase/firestore-compat",bV="firebase",NV="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const av="[DEFAULT]",SV={[iv]:"fire-core",[XU]:"fire-core-compat",[JU]:"fire-analytics",[ZU]:"fire-analytics-compat",[tV]:"fire-app-check",[eV]:"fire-app-check-compat",[nV]:"fire-auth",[sV]:"fire-auth-compat",[rV]:"fire-rtdb",[iV]:"fire-data-connect",[aV]:"fire-rtdb-compat",[oV]:"fire-fn",[lV]:"fire-fn-compat",[cV]:"fire-iid",[dV]:"fire-iid-compat",[uV]:"fire-fcm",[hV]:"fire-fcm-compat",[mV]:"fire-perf",[fV]:"fire-perf-compat",[pV]:"fire-rc",[gV]:"fire-rc-compat",[xV]:"fire-gcs",[yV]:"fire-gcs-compat",[vV]:"fire-fst",[wV]:"fire-fst-compat",[jV]:"fire-vertex","fire-js":"fire-js",[bV]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Of=new Map,_V=new Map,ov=new Map;function KN(t,e){try{t.container.addComponent(e)}catch(n){Xi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Br(t){const e=t.name;if(ov.has(e))return Xi.debug(`There were multiple attempts to register component ${e}.`),!1;ov.set(e,t);for(const n of Of.values())KN(n,t);for(const n of _V.values())KN(n,t);return!0}function po(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Pr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qa=new yl("app","Firebase",CV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TV{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new fr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vl=NV;function aA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:av,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Qa.create("bad-app-name",{appName:String(i)});if(n||(n=Xk()),!n)throw Qa.create("no-options");const a=Of.get(i);if(a){if(eo(n,a.options)&&eo(r,a.config))return a;throw Qa.create("duplicate-app",{appName:i})}const o=new DU(i);for(const c of ov.values())o.addComponent(c);const l=new TV(n,r,o);return Of.set(i,l),l}function $p(t=av){const e=Of.get(t);if(!e&&t===av&&Xk())return aA();if(!e)throw Qa.create("no-app",{appName:t});return e}function Ds(t,e,n){var r;let i=(r=SV[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const l=[`Unable to register library "${i}" with version "${e}":`];a&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Xi.warn(l.join(" "));return}Br(new fr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EV="firebase-heartbeat-database",PV=1,Lu="firebase-heartbeat-store";let xx=null;function oA(){return xx||(xx=iA(EV,PV,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Lu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Qa.create("idb-open",{originalErrorMessage:t.message})})),xx}async function kV(t){try{const n=(await oA()).transaction(Lu),r=await n.objectStore(Lu).get(lA(t));return await n.done,r}catch(e){if(e instanceof pr)Xi.warn(e.message);else{const n=Qa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Xi.warn(n.message)}}}async function GN(t,e){try{const r=(await oA()).transaction(Lu,"readwrite");await r.objectStore(Lu).put(e,lA(t)),await r.done}catch(n){if(n instanceof pr)Xi.warn(n.message);else{const r=Qa.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Xi.warn(r.message)}}}function lA(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AV=1024,IV=30;class RV{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new MV(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=QN();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>IV){const o=OV(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Xi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=QN(),{heartbeatsToSend:r,unsentEntries:i}=DV(this._heartbeatsCache.heartbeats),a=Mf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return Xi.warn(n),""}}}function QN(){return new Date().toISOString().substring(0,10)}function DV(t,e=AV){const n=[];let r=t.slice();for(const i of t){const a=n.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),YN(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),YN(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class MV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return tA()?nA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await kV(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return GN(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return GN(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function YN(t){return Mf(JSON.stringify({version:2,heartbeats:t})).length}function OV(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FV(t){Br(new fr("platform-logger",e=>new QU(e),"PRIVATE")),Br(new fr("heartbeat",e=>new RV(e),"PRIVATE")),Ds(iv,WN,t),Ds(iv,WN,"esm2017"),Ds("fire-js","")}FV("");var LV="firebase",UV="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ds(LV,UV,"app");var XN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Qj;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,S){function g(){}g.prototype=S.prototype,A.D=S.prototype,A.prototype=new g,A.prototype.constructor=A,A.C=function(k,P,I){for(var R=Array(arguments.length-2),Q=2;Q<arguments.length;Q++)R[Q-2]=arguments[Q];return S.prototype[P].apply(k,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(A,S,g){g||(g=0);var k=Array(16);if(typeof S=="string")for(var P=0;16>P;++P)k[P]=S.charCodeAt(g++)|S.charCodeAt(g++)<<8|S.charCodeAt(g++)<<16|S.charCodeAt(g++)<<24;else for(P=0;16>P;++P)k[P]=S[g++]|S[g++]<<8|S[g++]<<16|S[g++]<<24;S=A.g[0],g=A.g[1],P=A.g[2];var I=A.g[3],R=S+(I^g&(P^I))+k[0]+3614090360&4294967295;S=g+(R<<7&4294967295|R>>>25),R=I+(P^S&(g^P))+k[1]+3905402710&4294967295,I=S+(R<<12&4294967295|R>>>20),R=P+(g^I&(S^g))+k[2]+606105819&4294967295,P=I+(R<<17&4294967295|R>>>15),R=g+(S^P&(I^S))+k[3]+3250441966&4294967295,g=P+(R<<22&4294967295|R>>>10),R=S+(I^g&(P^I))+k[4]+4118548399&4294967295,S=g+(R<<7&4294967295|R>>>25),R=I+(P^S&(g^P))+k[5]+1200080426&4294967295,I=S+(R<<12&4294967295|R>>>20),R=P+(g^I&(S^g))+k[6]+2821735955&4294967295,P=I+(R<<17&4294967295|R>>>15),R=g+(S^P&(I^S))+k[7]+4249261313&4294967295,g=P+(R<<22&4294967295|R>>>10),R=S+(I^g&(P^I))+k[8]+1770035416&4294967295,S=g+(R<<7&4294967295|R>>>25),R=I+(P^S&(g^P))+k[9]+2336552879&4294967295,I=S+(R<<12&4294967295|R>>>20),R=P+(g^I&(S^g))+k[10]+4294925233&4294967295,P=I+(R<<17&4294967295|R>>>15),R=g+(S^P&(I^S))+k[11]+2304563134&4294967295,g=P+(R<<22&4294967295|R>>>10),R=S+(I^g&(P^I))+k[12]+1804603682&4294967295,S=g+(R<<7&4294967295|R>>>25),R=I+(P^S&(g^P))+k[13]+4254626195&4294967295,I=S+(R<<12&4294967295|R>>>20),R=P+(g^I&(S^g))+k[14]+2792965006&4294967295,P=I+(R<<17&4294967295|R>>>15),R=g+(S^P&(I^S))+k[15]+1236535329&4294967295,g=P+(R<<22&4294967295|R>>>10),R=S+(P^I&(g^P))+k[1]+4129170786&4294967295,S=g+(R<<5&4294967295|R>>>27),R=I+(g^P&(S^g))+k[6]+3225465664&4294967295,I=S+(R<<9&4294967295|R>>>23),R=P+(S^g&(I^S))+k[11]+643717713&4294967295,P=I+(R<<14&4294967295|R>>>18),R=g+(I^S&(P^I))+k[0]+3921069994&4294967295,g=P+(R<<20&4294967295|R>>>12),R=S+(P^I&(g^P))+k[5]+3593408605&4294967295,S=g+(R<<5&4294967295|R>>>27),R=I+(g^P&(S^g))+k[10]+38016083&4294967295,I=S+(R<<9&4294967295|R>>>23),R=P+(S^g&(I^S))+k[15]+3634488961&4294967295,P=I+(R<<14&4294967295|R>>>18),R=g+(I^S&(P^I))+k[4]+3889429448&4294967295,g=P+(R<<20&4294967295|R>>>12),R=S+(P^I&(g^P))+k[9]+568446438&4294967295,S=g+(R<<5&4294967295|R>>>27),R=I+(g^P&(S^g))+k[14]+3275163606&4294967295,I=S+(R<<9&4294967295|R>>>23),R=P+(S^g&(I^S))+k[3]+4107603335&4294967295,P=I+(R<<14&4294967295|R>>>18),R=g+(I^S&(P^I))+k[8]+1163531501&4294967295,g=P+(R<<20&4294967295|R>>>12),R=S+(P^I&(g^P))+k[13]+2850285829&4294967295,S=g+(R<<5&4294967295|R>>>27),R=I+(g^P&(S^g))+k[2]+4243563512&4294967295,I=S+(R<<9&4294967295|R>>>23),R=P+(S^g&(I^S))+k[7]+1735328473&4294967295,P=I+(R<<14&4294967295|R>>>18),R=g+(I^S&(P^I))+k[12]+2368359562&4294967295,g=P+(R<<20&4294967295|R>>>12),R=S+(g^P^I)+k[5]+4294588738&4294967295,S=g+(R<<4&4294967295|R>>>28),R=I+(S^g^P)+k[8]+2272392833&4294967295,I=S+(R<<11&4294967295|R>>>21),R=P+(I^S^g)+k[11]+1839030562&4294967295,P=I+(R<<16&4294967295|R>>>16),R=g+(P^I^S)+k[14]+4259657740&4294967295,g=P+(R<<23&4294967295|R>>>9),R=S+(g^P^I)+k[1]+2763975236&4294967295,S=g+(R<<4&4294967295|R>>>28),R=I+(S^g^P)+k[4]+1272893353&4294967295,I=S+(R<<11&4294967295|R>>>21),R=P+(I^S^g)+k[7]+4139469664&4294967295,P=I+(R<<16&4294967295|R>>>16),R=g+(P^I^S)+k[10]+3200236656&4294967295,g=P+(R<<23&4294967295|R>>>9),R=S+(g^P^I)+k[13]+681279174&4294967295,S=g+(R<<4&4294967295|R>>>28),R=I+(S^g^P)+k[0]+3936430074&4294967295,I=S+(R<<11&4294967295|R>>>21),R=P+(I^S^g)+k[3]+3572445317&4294967295,P=I+(R<<16&4294967295|R>>>16),R=g+(P^I^S)+k[6]+76029189&4294967295,g=P+(R<<23&4294967295|R>>>9),R=S+(g^P^I)+k[9]+3654602809&4294967295,S=g+(R<<4&4294967295|R>>>28),R=I+(S^g^P)+k[12]+3873151461&4294967295,I=S+(R<<11&4294967295|R>>>21),R=P+(I^S^g)+k[15]+530742520&4294967295,P=I+(R<<16&4294967295|R>>>16),R=g+(P^I^S)+k[2]+3299628645&4294967295,g=P+(R<<23&4294967295|R>>>9),R=S+(P^(g|~I))+k[0]+4096336452&4294967295,S=g+(R<<6&4294967295|R>>>26),R=I+(g^(S|~P))+k[7]+1126891415&4294967295,I=S+(R<<10&4294967295|R>>>22),R=P+(S^(I|~g))+k[14]+2878612391&4294967295,P=I+(R<<15&4294967295|R>>>17),R=g+(I^(P|~S))+k[5]+4237533241&4294967295,g=P+(R<<21&4294967295|R>>>11),R=S+(P^(g|~I))+k[12]+1700485571&4294967295,S=g+(R<<6&4294967295|R>>>26),R=I+(g^(S|~P))+k[3]+2399980690&4294967295,I=S+(R<<10&4294967295|R>>>22),R=P+(S^(I|~g))+k[10]+4293915773&4294967295,P=I+(R<<15&4294967295|R>>>17),R=g+(I^(P|~S))+k[1]+2240044497&4294967295,g=P+(R<<21&4294967295|R>>>11),R=S+(P^(g|~I))+k[8]+1873313359&4294967295,S=g+(R<<6&4294967295|R>>>26),R=I+(g^(S|~P))+k[15]+4264355552&4294967295,I=S+(R<<10&4294967295|R>>>22),R=P+(S^(I|~g))+k[6]+2734768916&4294967295,P=I+(R<<15&4294967295|R>>>17),R=g+(I^(P|~S))+k[13]+1309151649&4294967295,g=P+(R<<21&4294967295|R>>>11),R=S+(P^(g|~I))+k[4]+4149444226&4294967295,S=g+(R<<6&4294967295|R>>>26),R=I+(g^(S|~P))+k[11]+3174756917&4294967295,I=S+(R<<10&4294967295|R>>>22),R=P+(S^(I|~g))+k[2]+718787259&4294967295,P=I+(R<<15&4294967295|R>>>17),R=g+(I^(P|~S))+k[9]+3951481745&4294967295,A.g[0]=A.g[0]+S&4294967295,A.g[1]=A.g[1]+(P+(R<<21&4294967295|R>>>11))&4294967295,A.g[2]=A.g[2]+P&4294967295,A.g[3]=A.g[3]+I&4294967295}r.prototype.u=function(A,S){S===void 0&&(S=A.length);for(var g=S-this.blockSize,k=this.B,P=this.h,I=0;I<S;){if(P==0)for(;I<=g;)i(this,A,I),I+=this.blockSize;if(typeof A=="string"){for(;I<S;)if(k[P++]=A.charCodeAt(I++),P==this.blockSize){i(this,k),P=0;break}}else for(;I<S;)if(k[P++]=A[I++],P==this.blockSize){i(this,k),P=0;break}}this.h=P,this.o+=S},r.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var S=1;S<A.length-8;++S)A[S]=0;var g=8*this.o;for(S=A.length-8;S<A.length;++S)A[S]=g&255,g/=256;for(this.u(A),A=Array(16),S=g=0;4>S;++S)for(var k=0;32>k;k+=8)A[g++]=this.g[S]>>>k&255;return A};function a(A,S){var g=l;return Object.prototype.hasOwnProperty.call(g,A)?g[A]:g[A]=S(A)}function o(A,S){this.h=S;for(var g=[],k=!0,P=A.length-1;0<=P;P--){var I=A[P]|0;k&&I==S||(g[P]=I,k=!1)}this.g=g}var l={};function c(A){return-128<=A&&128>A?a(A,function(S){return new o([S|0],0>S?-1:0)}):new o([A|0],0>A?-1:0)}function u(A){if(isNaN(A)||!isFinite(A))return p;if(0>A)return E(u(-A));for(var S=[],g=1,k=0;A>=g;k++)S[k]=A/g|0,g*=4294967296;return new o(S,0)}function h(A,S){if(A.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(A.charAt(0)=="-")return E(h(A.substring(1),S));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var g=u(Math.pow(S,8)),k=p,P=0;P<A.length;P+=8){var I=Math.min(8,A.length-P),R=parseInt(A.substring(P,P+I),S);8>I?(I=u(Math.pow(S,I)),k=k.j(I).add(u(R))):(k=k.j(g),k=k.add(u(R)))}return k}var p=c(0),f=c(1),v=c(16777216);t=o.prototype,t.m=function(){if(j(this))return-E(this).m();for(var A=0,S=1,g=0;g<this.g.length;g++){var k=this.i(g);A+=(0<=k?k:4294967296+k)*S,S*=4294967296}return A},t.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(_(this))return"0";if(j(this))return"-"+E(this).toString(A);for(var S=u(Math.pow(A,6)),g=this,k="";;){var P=T(g,S).g;g=N(g,P.j(S));var I=((0<g.g.length?g.g[0]:g.h)>>>0).toString(A);if(g=P,_(g))return I+k;for(;6>I.length;)I="0"+I;k=I+k}},t.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function _(A){if(A.h!=0)return!1;for(var S=0;S<A.g.length;S++)if(A.g[S]!=0)return!1;return!0}function j(A){return A.h==-1}t.l=function(A){return A=N(this,A),j(A)?-1:_(A)?0:1};function E(A){for(var S=A.g.length,g=[],k=0;k<S;k++)g[k]=~A.g[k];return new o(g,~A.h).add(f)}t.abs=function(){return j(this)?E(this):this},t.add=function(A){for(var S=Math.max(this.g.length,A.g.length),g=[],k=0,P=0;P<=S;P++){var I=k+(this.i(P)&65535)+(A.i(P)&65535),R=(I>>>16)+(this.i(P)>>>16)+(A.i(P)>>>16);k=R>>>16,I&=65535,R&=65535,g[P]=R<<16|I}return new o(g,g[g.length-1]&-2147483648?-1:0)};function N(A,S){return A.add(E(S))}t.j=function(A){if(_(this)||_(A))return p;if(j(this))return j(A)?E(this).j(E(A)):E(E(this).j(A));if(j(A))return E(this.j(E(A)));if(0>this.l(v)&&0>A.l(v))return u(this.m()*A.m());for(var S=this.g.length+A.g.length,g=[],k=0;k<2*S;k++)g[k]=0;for(k=0;k<this.g.length;k++)for(var P=0;P<A.g.length;P++){var I=this.i(k)>>>16,R=this.i(k)&65535,Q=A.i(P)>>>16,Ne=A.i(P)&65535;g[2*k+2*P]+=R*Ne,y(g,2*k+2*P),g[2*k+2*P+1]+=I*Ne,y(g,2*k+2*P+1),g[2*k+2*P+1]+=R*Q,y(g,2*k+2*P+1),g[2*k+2*P+2]+=I*Q,y(g,2*k+2*P+2)}for(k=0;k<S;k++)g[k]=g[2*k+1]<<16|g[2*k];for(k=S;k<2*S;k++)g[k]=0;return new o(g,0)};function y(A,S){for(;(A[S]&65535)!=A[S];)A[S+1]+=A[S]>>>16,A[S]&=65535,S++}function w(A,S){this.g=A,this.h=S}function T(A,S){if(_(S))throw Error("division by zero");if(_(A))return new w(p,p);if(j(A))return S=T(E(A),S),new w(E(S.g),E(S.h));if(j(S))return S=T(A,E(S)),new w(E(S.g),S.h);if(30<A.g.length){if(j(A)||j(S))throw Error("slowDivide_ only works with positive integers.");for(var g=f,k=S;0>=k.l(A);)g=O(g),k=O(k);var P=U(g,1),I=U(k,1);for(k=U(k,2),g=U(g,2);!_(k);){var R=I.add(k);0>=R.l(A)&&(P=P.add(g),I=R),k=U(k,1),g=U(g,1)}return S=N(A,P.j(S)),new w(P,S)}for(P=p;0<=A.l(S);){for(g=Math.max(1,Math.floor(A.m()/S.m())),k=Math.ceil(Math.log(g)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),I=u(g),R=I.j(S);j(R)||0<R.l(A);)g-=k,I=u(g),R=I.j(S);_(I)&&(I=f),P=P.add(I),A=N(A,R)}return new w(P,A)}t.A=function(A){return T(this,A).h},t.and=function(A){for(var S=Math.max(this.g.length,A.g.length),g=[],k=0;k<S;k++)g[k]=this.i(k)&A.i(k);return new o(g,this.h&A.h)},t.or=function(A){for(var S=Math.max(this.g.length,A.g.length),g=[],k=0;k<S;k++)g[k]=this.i(k)|A.i(k);return new o(g,this.h|A.h)},t.xor=function(A){for(var S=Math.max(this.g.length,A.g.length),g=[],k=0;k<S;k++)g[k]=this.i(k)^A.i(k);return new o(g,this.h^A.h)};function O(A){for(var S=A.g.length+1,g=[],k=0;k<S;k++)g[k]=A.i(k)<<1|A.i(k-1)>>>31;return new o(g,A.h)}function U(A,S){var g=S>>5;S%=32;for(var k=A.g.length-g,P=[],I=0;I<k;I++)P[I]=0<S?A.i(I+g)>>>S|A.i(I+g+1)<<32-S:A.i(I+g);return new o(P,A.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=h,Qj=o}).apply(typeof XN<"u"?XN:typeof self<"u"?self:typeof window<"u"?window:{});var wm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,x,b){return d==Array.prototype||d==Object.prototype||(d[x]=b.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof wm=="object"&&wm];for(var x=0;x<d.length;++x){var b=d[x];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var r=n(this);function i(d,x){if(x)e:{var b=r;d=d.split(".");for(var M=0;M<d.length-1;M++){var te=d[M];if(!(te in b))break e;b=b[te]}d=d[d.length-1],M=b[d],x=x(M),x!=M&&x!=null&&e(b,d,{configurable:!0,writable:!0,value:x})}}function a(d,x){d instanceof String&&(d+="");var b=0,M=!1,te={next:function(){if(!M&&b<d.length){var he=b++;return{value:x(he,d[he]),done:!1}}return M=!0,{done:!0,value:void 0}}};return te[Symbol.iterator]=function(){return te},te}i("Array.prototype.values",function(d){return d||function(){return a(this,function(x,b){return b})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function c(d){var x=typeof d;return x=x!="object"?x:d?Array.isArray(d)?"array":x:"null",x=="array"||x=="object"&&typeof d.length=="number"}function u(d){var x=typeof d;return x=="object"&&d!=null||x=="function"}function h(d,x,b){return d.call.apply(d.bind,arguments)}function p(d,x,b){if(!d)throw Error();if(2<arguments.length){var M=Array.prototype.slice.call(arguments,2);return function(){var te=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(te,M),d.apply(x,te)}}return function(){return d.apply(x,arguments)}}function f(d,x,b){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,f.apply(null,arguments)}function v(d,x){var b=Array.prototype.slice.call(arguments,1);return function(){var M=b.slice();return M.push.apply(M,arguments),d.apply(this,M)}}function _(d,x){function b(){}b.prototype=x.prototype,d.aa=x.prototype,d.prototype=new b,d.prototype.constructor=d,d.Qb=function(M,te,he){for(var ke=Array(arguments.length-2),Ut=2;Ut<arguments.length;Ut++)ke[Ut-2]=arguments[Ut];return x.prototype[te].apply(M,ke)}}function j(d){const x=d.length;if(0<x){const b=Array(x);for(let M=0;M<x;M++)b[M]=d[M];return b}return[]}function E(d,x){for(let b=1;b<arguments.length;b++){const M=arguments[b];if(c(M)){const te=d.length||0,he=M.length||0;d.length=te+he;for(let ke=0;ke<he;ke++)d[te+ke]=M[ke]}else d.push(M)}}class N{constructor(x,b){this.i=x,this.j=b,this.h=0,this.g=null}get(){let x;return 0<this.h?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function y(d){return/^[\s\xa0]*$/.test(d)}function w(){var d=l.navigator;return d&&(d=d.userAgent)?d:""}function T(d){return T[" "](d),d}T[" "]=function(){};var O=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function U(d,x,b){for(const M in d)x.call(b,d[M],M,d)}function A(d,x){for(const b in d)x.call(void 0,d[b],b,d)}function S(d){const x={};for(const b in d)x[b]=d[b];return x}const g="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(d,x){let b,M;for(let te=1;te<arguments.length;te++){M=arguments[te];for(b in M)d[b]=M[b];for(let he=0;he<g.length;he++)b=g[he],Object.prototype.hasOwnProperty.call(M,b)&&(d[b]=M[b])}}function P(d){var x=1;d=d.split(":");const b=[];for(;0<x&&d.length;)b.push(d.shift()),x--;return d.length&&b.push(d.join(":")),b}function I(d){l.setTimeout(()=>{throw d},0)}function R(){var d=z;let x=null;return d.g&&(x=d.g,d.g=d.g.next,d.g||(d.h=null),x.next=null),x}class Q{constructor(){this.h=this.g=null}add(x,b){const M=Ne.get();M.set(x,b),this.h?this.h.next=M:this.g=M,this.h=M}}var Ne=new N(()=>new de,d=>d.reset());class de{constructor(){this.next=this.g=this.h=null}set(x,b){this.h=x,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let K,F=!1,z=new Q,W=()=>{const d=l.Promise.resolve(void 0);K=()=>{d.then(se)}};var se=()=>{for(var d;d=R();){try{d.h.call(d.g)}catch(b){I(b)}var x=Ne;x.j(d),100>x.h&&(x.h++,d.next=x.g,x.g=d)}F=!1};function Ce(){this.s=this.s,this.C=this.C}Ce.prototype.s=!1,Ce.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ce.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Me(d,x){this.type=d,this.g=this.target=x,this.defaultPrevented=!1}Me.prototype.h=function(){this.defaultPrevented=!0};var q=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var d=!1,x=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const b=()=>{};l.addEventListener("test",b,x),l.removeEventListener("test",b,x)}catch{}return d}();function ve(d,x){if(Me.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var b=this.type=d.type,M=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=x,x=d.relatedTarget){if(O){e:{try{T(x.nodeName);var te=!0;break e}catch{}te=!1}te||(x=null)}}else b=="mouseover"?x=d.fromElement:b=="mouseout"&&(x=d.toElement);this.relatedTarget=x,M?(this.clientX=M.clientX!==void 0?M.clientX:M.pageX,this.clientY=M.clientY!==void 0?M.clientY:M.pageY,this.screenX=M.screenX||0,this.screenY=M.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:Ue[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&ve.aa.h.call(this)}}_(ve,Me);var Ue={2:"touch",3:"pen",4:"mouse"};ve.prototype.h=function(){ve.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var we="closure_listenable_"+(1e6*Math.random()|0),fe=0;function Y(d,x,b,M,te){this.listener=d,this.proxy=null,this.src=x,this.type=b,this.capture=!!M,this.ha=te,this.key=++fe,this.da=this.fa=!1}function X(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function je(d){this.src=d,this.g={},this.h=0}je.prototype.add=function(d,x,b,M,te){var he=d.toString();d=this.g[he],d||(d=this.g[he]=[],this.h++);var ke=lt(d,x,M,te);return-1<ke?(x=d[ke],b||(x.fa=!1)):(x=new Y(x,this.src,he,!!M,te),x.fa=b,d.push(x)),x};function Oe(d,x){var b=x.type;if(b in d.g){var M=d.g[b],te=Array.prototype.indexOf.call(M,x,void 0),he;(he=0<=te)&&Array.prototype.splice.call(M,te,1),he&&(X(x),d.g[b].length==0&&(delete d.g[b],d.h--))}}function lt(d,x,b,M){for(var te=0;te<d.length;++te){var he=d[te];if(!he.da&&he.listener==x&&he.capture==!!b&&he.ha==M)return te}return-1}var Dt="closure_lm_"+(1e6*Math.random()|0),yn={};function un(d,x,b,M,te){if(Array.isArray(x)){for(var he=0;he<x.length;he++)un(d,x[he],b,M,te);return null}return b=ee(b),d&&d[we]?d.K(x,b,u(M)?!!M.capture:!!M,te):hn(d,x,b,!1,M,te)}function hn(d,x,b,M,te,he){if(!x)throw Error("Invalid event type");var ke=u(te)?!!te.capture:!!te,Ut=Z(d);if(Ut||(d[Dt]=Ut=new je(d)),b=Ut.add(x,b,M,ke,he),b.proxy)return b;if(M=Xt(),b.proxy=M,M.src=d,M.listener=b,d.addEventListener)q||(te=ke),te===void 0&&(te=!1),d.addEventListener(x.toString(),M,te);else if(d.attachEvent)d.attachEvent(et(x.toString()),M);else if(d.addListener&&d.removeListener)d.addListener(M);else throw Error("addEventListener and attachEvent are unavailable.");return b}function Xt(){function d(b){return x.call(d.src,d.listener,b)}const x=L;return d}function Ss(d,x,b,M,te){if(Array.isArray(x))for(var he=0;he<x.length;he++)Ss(d,x[he],b,M,te);else M=u(M)?!!M.capture:!!M,b=ee(b),d&&d[we]?(d=d.i,x=String(x).toString(),x in d.g&&(he=d.g[x],b=lt(he,b,M,te),-1<b&&(X(he[b]),Array.prototype.splice.call(he,b,1),he.length==0&&(delete d.g[x],d.h--)))):d&&(d=Z(d))&&(x=d.g[x.toString()],d=-1,x&&(d=lt(x,b,M,te)),(b=-1<d?x[d]:null)&&J(b))}function J(d){if(typeof d!="number"&&d&&!d.da){var x=d.src;if(x&&x[we])Oe(x.i,d);else{var b=d.type,M=d.proxy;x.removeEventListener?x.removeEventListener(b,M,d.capture):x.detachEvent?x.detachEvent(et(b),M):x.addListener&&x.removeListener&&x.removeListener(M),(b=Z(x))?(Oe(b,d),b.h==0&&(b.src=null,x[Dt]=null)):X(d)}}}function et(d){return d in yn?yn[d]:yn[d]="on"+d}function L(d,x){if(d.da)d=!0;else{x=new ve(x,this);var b=d.listener,M=d.ha||d.src;d.fa&&J(d),d=b.call(M,x)}return d}function Z(d){return d=d[Dt],d instanceof je?d:null}var C="__closure_events_fn_"+(1e9*Math.random()>>>0);function ee(d){return typeof d=="function"?d:(d[C]||(d[C]=function(x){return d.handleEvent(x)}),d[C])}function pe(){Ce.call(this),this.i=new je(this),this.M=this,this.F=null}_(pe,Ce),pe.prototype[we]=!0,pe.prototype.removeEventListener=function(d,x,b,M){Ss(this,d,x,b,M)};function xe(d,x){var b,M=d.F;if(M)for(b=[];M;M=M.F)b.push(M);if(d=d.M,M=x.type||x,typeof x=="string")x=new Me(x,d);else if(x instanceof Me)x.target=x.target||d;else{var te=x;x=new Me(M,d),k(x,te)}if(te=!0,b)for(var he=b.length-1;0<=he;he--){var ke=x.g=b[he];te=De(ke,M,!0,x)&&te}if(ke=x.g=d,te=De(ke,M,!0,x)&&te,te=De(ke,M,!1,x)&&te,b)for(he=0;he<b.length;he++)ke=x.g=b[he],te=De(ke,M,!1,x)&&te}pe.prototype.N=function(){if(pe.aa.N.call(this),this.i){var d=this.i,x;for(x in d.g){for(var b=d.g[x],M=0;M<b.length;M++)X(b[M]);delete d.g[x],d.h--}}this.F=null},pe.prototype.K=function(d,x,b,M){return this.i.add(String(d),x,!1,b,M)},pe.prototype.L=function(d,x,b,M){return this.i.add(String(d),x,!0,b,M)};function De(d,x,b,M){if(x=d.i.g[String(x)],!x)return!0;x=x.concat();for(var te=!0,he=0;he<x.length;++he){var ke=x[he];if(ke&&!ke.da&&ke.capture==b){var Ut=ke.listener,Wn=ke.ha||ke.src;ke.fa&&Oe(d.i,ke),te=Ut.call(Wn,M)!==!1&&te}}return te&&!M.defaultPrevented}function wt(d,x,b){if(typeof d=="function")b&&(d=f(d,b));else if(d&&typeof d.handleEvent=="function")d=f(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(x)?-1:l.setTimeout(d,x||0)}function Lt(d){d.g=wt(()=>{d.g=null,d.i&&(d.i=!1,Lt(d))},d.l);const x=d.h;d.h=null,d.m.apply(null,x)}class Tn extends Ce{constructor(x,b){super(),this.m=x,this.l=b,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:Lt(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vr(d){Ce.call(this),this.h=d,this.g={}}_(vr,Ce);var _i=[];function Ci(d){U(d.g,function(x,b){this.g.hasOwnProperty(b)&&J(x)},d),d.g={}}vr.prototype.N=function(){vr.aa.N.call(this),Ci(this)},vr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var aa=l.JSON.stringify,_l=l.JSON.parse,fd=class{stringify(d){return l.JSON.stringify(d,void 0)}parse(d){return l.JSON.parse(d,void 0)}};function Ti(){}Ti.prototype.h=null;function pd(d){return d.h||(d.h=d.i())}function Sg(){}var jo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function gd(){Me.call(this,"d")}_(gd,Me);function xd(){Me.call(this,"c")}_(xd,Me);var Ei={},$h=null;function yd(){return $h=$h||new pe}Ei.La="serverreachability";function zh(d){Me.call(this,Ei.La,d)}_(zh,Me);function oa(d){const x=yd();xe(x,new zh(x))}Ei.STAT_EVENT="statevent";function vd(d,x){Me.call(this,Ei.STAT_EVENT,d),this.stat=x}_(vd,Me);function $n(d){const x=yd();xe(x,new vd(x,d))}Ei.Ma="timingevent";function jd(d,x){Me.call(this,Ei.Ma,d),this.size=x}_(jd,Me);function la(d,x){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){d()},x)}function ca(){this.g=!0}ca.prototype.xa=function(){this.g=!1};function Bh(d,x,b,M,te,he){d.info(function(){if(d.g)if(he)for(var ke="",Ut=he.split("&"),Wn=0;Wn<Ut.length;Wn++){var kt=Ut[Wn].split("=");if(1<kt.length){var Xn=kt[0];kt=kt[1];var Zn=Xn.split("_");ke=2<=Zn.length&&Zn[1]=="type"?ke+(Xn+"="+kt+"&"):ke+(Xn+"=redacted&")}}else ke=null;else ke=he;return"XMLHTTP REQ ("+M+") [attempt "+te+"]: "+x+`
`+b+`
`+ke})}function D(d,x,b,M,te,he,ke){d.info(function(){return"XMLHTTP RESP ("+M+") [ attempt "+te+"]: "+x+`
`+b+`
`+he+" "+ke})}function ue(d,x,b,M){d.info(function(){return"XMLHTTP TEXT ("+x+"): "+qt(d,b)+(M?" "+M:"")})}function Xe(d,x){d.info(function(){return"TIMEOUT: "+x})}ca.prototype.info=function(){};function qt(d,x){if(!d.g)return x;if(!x)return null;try{var b=JSON.parse(x);if(b){for(d=0;d<b.length;d++)if(Array.isArray(b[d])){var M=b[d];if(!(2>M.length)){var te=M[1];if(Array.isArray(te)&&!(1>te.length)){var he=te[0];if(he!="noop"&&he!="stop"&&he!="close")for(var ke=1;ke<te.length;ke++)te[ke]=""}}}}return aa(b)}catch{return x}}var tr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},_g={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Cg;function qh(){}_(qh,Ti),qh.prototype.g=function(){return new XMLHttpRequest},qh.prototype.i=function(){return{}},Cg=new qh;function da(d,x,b,M){this.j=d,this.i=x,this.l=b,this.R=M||1,this.U=new vr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Aw}function Aw(){this.i=null,this.g="",this.h=!1}var Iw={},Tg={};function Eg(d,x,b){d.L=1,d.v=Gh(Pi(x)),d.m=b,d.P=!0,Rw(d,null)}function Rw(d,x){d.F=Date.now(),Hh(d),d.A=Pi(d.v);var b=d.A,M=d.R;Array.isArray(M)||(M=[String(M)]),Kw(b.i,"t",M),d.C=0,b=d.j.J,d.h=new Aw,d.g=ub(d.j,b?x:null,!d.m),0<d.O&&(d.M=new Tn(f(d.Y,d,d.g),d.O)),x=d.U,b=d.g,M=d.ca;var te="readystatechange";Array.isArray(te)||(te&&(_i[0]=te.toString()),te=_i);for(var he=0;he<te.length;he++){var ke=un(b,te[he],M||x.handleEvent,!1,x.h||x);if(!ke)break;x.g[ke.key]=ke}x=d.H?S(d.H):{},d.m?(d.u||(d.u="POST"),x["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,x)):(d.u="GET",d.g.ea(d.A,d.u,null,x)),oa(),Bh(d.i,d.u,d.A,d.l,d.R,d.m)}da.prototype.ca=function(d){d=d.target;const x=this.M;x&&ki(d)==3?x.j():this.Y(d)},da.prototype.Y=function(d){try{if(d==this.g)e:{const Zn=ki(this.g);var x=this.g.Ba();const El=this.g.Z();if(!(3>Zn)&&(Zn!=3||this.g&&(this.h.h||this.g.oa()||eb(this.g)))){this.J||Zn!=4||x==7||(x==8||0>=El?oa(3):oa(2)),Pg(this);var b=this.g.Z();this.X=b;t:if(Dw(this)){var M=eb(this.g);d="";var te=M.length,he=ki(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){wo(this),wd(this);var ke="";break t}this.h.i=new l.TextDecoder}for(x=0;x<te;x++)this.h.h=!0,d+=this.h.i.decode(M[x],{stream:!(he&&x==te-1)});M.length=0,this.h.g+=d,this.C=0,ke=this.h.g}else ke=this.g.oa();if(this.o=b==200,D(this.i,this.u,this.A,this.l,this.R,Zn,b),this.o){if(this.T&&!this.K){t:{if(this.g){var Ut,Wn=this.g;if((Ut=Wn.g?Wn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(Ut)){var kt=Ut;break t}}kt=null}if(b=kt)ue(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,kg(this,b);else{this.o=!1,this.s=3,$n(12),wo(this),wd(this);break e}}if(this.P){b=!0;let jr;for(;!this.J&&this.C<ke.length;)if(jr=sL(this,ke),jr==Tg){Zn==4&&(this.s=4,$n(14),b=!1),ue(this.i,this.l,null,"[Incomplete Response]");break}else if(jr==Iw){this.s=4,$n(15),ue(this.i,this.l,ke,"[Invalid Chunk]"),b=!1;break}else ue(this.i,this.l,jr,null),kg(this,jr);if(Dw(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Zn!=4||ke.length!=0||this.h.h||(this.s=1,$n(16),b=!1),this.o=this.o&&b,!b)ue(this.i,this.l,ke,"[Invalid Chunked Response]"),wo(this),wd(this);else if(0<ke.length&&!this.W){this.W=!0;var Xn=this.j;Xn.g==this&&Xn.ba&&!Xn.M&&(Xn.j.info("Great, no buffering proxy detected. Bytes received: "+ke.length),Og(Xn),Xn.M=!0,$n(11))}}else ue(this.i,this.l,ke,null),kg(this,ke);Zn==4&&wo(this),this.o&&!this.J&&(Zn==4?ob(this.j,this):(this.o=!1,Hh(this)))}else jL(this.g),b==400&&0<ke.indexOf("Unknown SID")?(this.s=3,$n(12)):(this.s=0,$n(13)),wo(this),wd(this)}}}catch{}finally{}};function Dw(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function sL(d,x){var b=d.C,M=x.indexOf(`
`,b);return M==-1?Tg:(b=Number(x.substring(b,M)),isNaN(b)?Iw:(M+=1,M+b>x.length?Tg:(x=x.slice(M,M+b),d.C=M+b,x)))}da.prototype.cancel=function(){this.J=!0,wo(this)};function Hh(d){d.S=Date.now()+d.I,Mw(d,d.I)}function Mw(d,x){if(d.B!=null)throw Error("WatchDog timer not null");d.B=la(f(d.ba,d),x)}function Pg(d){d.B&&(l.clearTimeout(d.B),d.B=null)}da.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(Xe(this.i,this.A),this.L!=2&&(oa(),$n(17)),wo(this),this.s=2,wd(this)):Mw(this,this.S-d)};function wd(d){d.j.G==0||d.J||ob(d.j,d)}function wo(d){Pg(d);var x=d.M;x&&typeof x.ma=="function"&&x.ma(),d.M=null,Ci(d.U),d.g&&(x=d.g,d.g=null,x.abort(),x.ma())}function kg(d,x){try{var b=d.j;if(b.G!=0&&(b.g==d||Ag(b.h,d))){if(!d.K&&Ag(b.h,d)&&b.G==3){try{var M=b.Da.g.parse(x)}catch{M=null}if(Array.isArray(M)&&M.length==3){var te=M;if(te[0]==0){e:if(!b.u){if(b.g)if(b.g.F+3e3<d.F)em(b),Zh(b);else break e;Mg(b),$n(18)}}else b.za=te[1],0<b.za-b.T&&37500>te[2]&&b.F&&b.v==0&&!b.C&&(b.C=la(f(b.Za,b),6e3));if(1>=Lw(b.h)&&b.ca){try{b.ca()}catch{}b.ca=void 0}}else No(b,11)}else if((d.K||b.g==d)&&em(b),!y(x))for(te=b.Da.g.parse(x),x=0;x<te.length;x++){let kt=te[x];if(b.T=kt[0],kt=kt[1],b.G==2)if(kt[0]=="c"){b.K=kt[1],b.ia=kt[2];const Xn=kt[3];Xn!=null&&(b.la=Xn,b.j.info("VER="+b.la));const Zn=kt[4];Zn!=null&&(b.Aa=Zn,b.j.info("SVER="+b.Aa));const El=kt[5];El!=null&&typeof El=="number"&&0<El&&(M=1.5*El,b.L=M,b.j.info("backChannelRequestTimeoutMs_="+M)),M=b;const jr=d.g;if(jr){const tm=jr.g?jr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(tm){var he=M.h;he.g||tm.indexOf("spdy")==-1&&tm.indexOf("quic")==-1&&tm.indexOf("h2")==-1||(he.j=he.l,he.g=new Set,he.h&&(Ig(he,he.h),he.h=null))}if(M.D){const Fg=jr.g?jr.g.getResponseHeader("X-HTTP-Session-Id"):null;Fg&&(M.ya=Fg,Ht(M.I,M.D,Fg))}}b.G=3,b.l&&b.l.ua(),b.ba&&(b.R=Date.now()-d.F,b.j.info("Handshake RTT: "+b.R+"ms")),M=b;var ke=d;if(M.qa=db(M,M.J?M.ia:null,M.W),ke.K){Uw(M.h,ke);var Ut=ke,Wn=M.L;Wn&&(Ut.I=Wn),Ut.B&&(Pg(Ut),Hh(Ut)),M.g=ke}else ib(M);0<b.i.length&&Jh(b)}else kt[0]!="stop"&&kt[0]!="close"||No(b,7);else b.G==3&&(kt[0]=="stop"||kt[0]=="close"?kt[0]=="stop"?No(b,7):Dg(b):kt[0]!="noop"&&b.l&&b.l.ta(kt),b.v=0)}}oa(4)}catch{}}var rL=class{constructor(d,x){this.g=d,this.map=x}};function Ow(d){this.l=d||10,l.PerformanceNavigationTiming?(d=l.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Fw(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Lw(d){return d.h?1:d.g?d.g.size:0}function Ag(d,x){return d.h?d.h==x:d.g?d.g.has(x):!1}function Ig(d,x){d.g?d.g.add(x):d.h=x}function Uw(d,x){d.h&&d.h==x?d.h=null:d.g&&d.g.has(x)&&d.g.delete(x)}Ow.prototype.cancel=function(){if(this.i=Vw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Vw(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let x=d.i;for(const b of d.g.values())x=x.concat(b.D);return x}return j(d.i)}function iL(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(c(d)){for(var x=[],b=d.length,M=0;M<b;M++)x.push(d[M]);return x}x=[],b=0;for(M in d)x[b++]=d[M];return x}function aL(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(c(d)||typeof d=="string"){var x=[];d=d.length;for(var b=0;b<d;b++)x.push(b);return x}x=[],b=0;for(const M in d)x[b++]=M;return x}}}function $w(d,x){if(d.forEach&&typeof d.forEach=="function")d.forEach(x,void 0);else if(c(d)||typeof d=="string")Array.prototype.forEach.call(d,x,void 0);else for(var b=aL(d),M=iL(d),te=M.length,he=0;he<te;he++)x.call(void 0,M[he],b&&b[he],d)}var zw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function oL(d,x){if(d){d=d.split("&");for(var b=0;b<d.length;b++){var M=d[b].indexOf("="),te=null;if(0<=M){var he=d[b].substring(0,M);te=d[b].substring(M+1)}else he=d[b];x(he,te?decodeURIComponent(te.replace(/\+/g," ")):"")}}}function bo(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof bo){this.h=d.h,Wh(this,d.j),this.o=d.o,this.g=d.g,Kh(this,d.s),this.l=d.l;var x=d.i,b=new Sd;b.i=x.i,x.g&&(b.g=new Map(x.g),b.h=x.h),Bw(this,b),this.m=d.m}else d&&(x=String(d).match(zw))?(this.h=!1,Wh(this,x[1]||"",!0),this.o=bd(x[2]||""),this.g=bd(x[3]||"",!0),Kh(this,x[4]),this.l=bd(x[5]||"",!0),Bw(this,x[6]||"",!0),this.m=bd(x[7]||"")):(this.h=!1,this.i=new Sd(null,this.h))}bo.prototype.toString=function(){var d=[],x=this.j;x&&d.push(Nd(x,qw,!0),":");var b=this.g;return(b||x=="file")&&(d.push("//"),(x=this.o)&&d.push(Nd(x,qw,!0),"@"),d.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.s,b!=null&&d.push(":",String(b))),(b=this.l)&&(this.g&&b.charAt(0)!="/"&&d.push("/"),d.push(Nd(b,b.charAt(0)=="/"?dL:cL,!0))),(b=this.i.toString())&&d.push("?",b),(b=this.m)&&d.push("#",Nd(b,hL)),d.join("")};function Pi(d){return new bo(d)}function Wh(d,x,b){d.j=b?bd(x,!0):x,d.j&&(d.j=d.j.replace(/:$/,""))}function Kh(d,x){if(x){if(x=Number(x),isNaN(x)||0>x)throw Error("Bad port number "+x);d.s=x}else d.s=null}function Bw(d,x,b){x instanceof Sd?(d.i=x,mL(d.i,d.h)):(b||(x=Nd(x,uL)),d.i=new Sd(x,d.h))}function Ht(d,x,b){d.i.set(x,b)}function Gh(d){return Ht(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function bd(d,x){return d?x?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Nd(d,x,b){return typeof d=="string"?(d=encodeURI(d).replace(x,lL),b&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function lL(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var qw=/[#\/\?@]/g,cL=/[#\?:]/g,dL=/[#\?]/g,uL=/[#\?@]/g,hL=/#/g;function Sd(d,x){this.h=this.g=null,this.i=d||null,this.j=!!x}function ua(d){d.g||(d.g=new Map,d.h=0,d.i&&oL(d.i,function(x,b){d.add(decodeURIComponent(x.replace(/\+/g," ")),b)}))}t=Sd.prototype,t.add=function(d,x){ua(this),this.i=null,d=Cl(this,d);var b=this.g.get(d);return b||this.g.set(d,b=[]),b.push(x),this.h+=1,this};function Hw(d,x){ua(d),x=Cl(d,x),d.g.has(x)&&(d.i=null,d.h-=d.g.get(x).length,d.g.delete(x))}function Ww(d,x){return ua(d),x=Cl(d,x),d.g.has(x)}t.forEach=function(d,x){ua(this),this.g.forEach(function(b,M){b.forEach(function(te){d.call(x,te,M,this)},this)},this)},t.na=function(){ua(this);const d=Array.from(this.g.values()),x=Array.from(this.g.keys()),b=[];for(let M=0;M<x.length;M++){const te=d[M];for(let he=0;he<te.length;he++)b.push(x[M])}return b},t.V=function(d){ua(this);let x=[];if(typeof d=="string")Ww(this,d)&&(x=x.concat(this.g.get(Cl(this,d))));else{d=Array.from(this.g.values());for(let b=0;b<d.length;b++)x=x.concat(d[b])}return x},t.set=function(d,x){return ua(this),this.i=null,d=Cl(this,d),Ww(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[x]),this.h+=1,this},t.get=function(d,x){return d?(d=this.V(d),0<d.length?String(d[0]):x):x};function Kw(d,x,b){Hw(d,x),0<b.length&&(d.i=null,d.g.set(Cl(d,x),j(b)),d.h+=b.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],x=Array.from(this.g.keys());for(var b=0;b<x.length;b++){var M=x[b];const he=encodeURIComponent(String(M)),ke=this.V(M);for(M=0;M<ke.length;M++){var te=he;ke[M]!==""&&(te+="="+encodeURIComponent(String(ke[M]))),d.push(te)}}return this.i=d.join("&")};function Cl(d,x){return x=String(x),d.j&&(x=x.toLowerCase()),x}function mL(d,x){x&&!d.j&&(ua(d),d.i=null,d.g.forEach(function(b,M){var te=M.toLowerCase();M!=te&&(Hw(this,M),Kw(this,te,b))},d)),d.j=x}function fL(d,x){const b=new ca;if(l.Image){const M=new Image;M.onload=v(ha,b,"TestLoadImage: loaded",!0,x,M),M.onerror=v(ha,b,"TestLoadImage: error",!1,x,M),M.onabort=v(ha,b,"TestLoadImage: abort",!1,x,M),M.ontimeout=v(ha,b,"TestLoadImage: timeout",!1,x,M),l.setTimeout(function(){M.ontimeout&&M.ontimeout()},1e4),M.src=d}else x(!1)}function pL(d,x){const b=new ca,M=new AbortController,te=setTimeout(()=>{M.abort(),ha(b,"TestPingServer: timeout",!1,x)},1e4);fetch(d,{signal:M.signal}).then(he=>{clearTimeout(te),he.ok?ha(b,"TestPingServer: ok",!0,x):ha(b,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(te),ha(b,"TestPingServer: error",!1,x)})}function ha(d,x,b,M,te){try{te&&(te.onload=null,te.onerror=null,te.onabort=null,te.ontimeout=null),M(b)}catch{}}function gL(){this.g=new fd}function xL(d,x,b){const M=b||"";try{$w(d,function(te,he){let ke=te;u(te)&&(ke=aa(te)),x.push(M+he+"="+encodeURIComponent(ke))})}catch(te){throw x.push(M+"type="+encodeURIComponent("_badmap")),te}}function Qh(d){this.l=d.Ub||null,this.j=d.eb||!1}_(Qh,Ti),Qh.prototype.g=function(){return new Yh(this.l,this.j)},Qh.prototype.i=function(d){return function(){return d}}({});function Yh(d,x){pe.call(this),this.D=d,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(Yh,pe),t=Yh.prototype,t.open=function(d,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=x,this.readyState=1,Cd(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const x={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(x.body=d),(this.D||l).fetch(new Request(this.A,x)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,_d(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Cd(this)),this.g&&(this.readyState=3,Cd(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Gw(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function Gw(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var x=d.value?d.value:new Uint8Array(0);(x=this.v.decode(x,{stream:!d.done}))&&(this.response=this.responseText+=x)}d.done?_d(this):Cd(this),this.readyState==3&&Gw(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,_d(this))},t.Qa=function(d){this.g&&(this.response=d,_d(this))},t.ga=function(){this.g&&_d(this)};function _d(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Cd(d)}t.setRequestHeader=function(d,x){this.u.append(d,x)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],x=this.h.entries();for(var b=x.next();!b.done;)b=b.value,d.push(b[0]+": "+b[1]),b=x.next();return d.join(`\r
`)};function Cd(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Yh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Qw(d){let x="";return U(d,function(b,M){x+=M,x+=":",x+=b,x+=`\r
`}),x}function Rg(d,x,b){e:{for(M in b){var M=!1;break e}M=!0}M||(b=Qw(b),typeof d=="string"?b!=null&&encodeURIComponent(String(b)):Ht(d,x,b))}function vn(d){pe.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_(vn,pe);var yL=/^https?$/i,vL=["POST","PUT"];t=vn.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,x,b,M){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);x=x?x.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Cg.g(),this.v=this.o?pd(this.o):pd(Cg),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(x,String(d),!0),this.B=!1}catch(he){Yw(this,he);return}if(d=b||"",b=new Map(this.headers),M)if(Object.getPrototypeOf(M)===Object.prototype)for(var te in M)b.set(te,M[te]);else if(typeof M.keys=="function"&&typeof M.get=="function")for(const he of M.keys())b.set(he,M.get(he));else throw Error("Unknown input type for opt_headers: "+String(M));M=Array.from(b.keys()).find(he=>he.toLowerCase()=="content-type"),te=l.FormData&&d instanceof l.FormData,!(0<=Array.prototype.indexOf.call(vL,x,void 0))||M||te||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[he,ke]of b)this.g.setRequestHeader(he,ke);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Jw(this),this.u=!0,this.g.send(d),this.u=!1}catch(he){Yw(this,he)}};function Yw(d,x){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=x,d.m=5,Xw(d),Xh(d)}function Xw(d){d.A||(d.A=!0,xe(d,"complete"),xe(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,xe(this,"complete"),xe(this,"abort"),Xh(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xh(this,!0)),vn.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Zw(this):this.bb())},t.bb=function(){Zw(this)};function Zw(d){if(d.h&&typeof o<"u"&&(!d.v[1]||ki(d)!=4||d.Z()!=2)){if(d.u&&ki(d)==4)wt(d.Ea,0,d);else if(xe(d,"readystatechange"),ki(d)==4){d.h=!1;try{const ke=d.Z();e:switch(ke){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var b;if(!(b=x)){var M;if(M=ke===0){var te=String(d.D).match(zw)[1]||null;!te&&l.self&&l.self.location&&(te=l.self.location.protocol.slice(0,-1)),M=!yL.test(te?te.toLowerCase():"")}b=M}if(b)xe(d,"complete"),xe(d,"success");else{d.m=6;try{var he=2<ki(d)?d.g.statusText:""}catch{he=""}d.l=he+" ["+d.Z()+"]",Xw(d)}}finally{Xh(d)}}}}function Xh(d,x){if(d.g){Jw(d);const b=d.g,M=d.v[0]?()=>{}:null;d.g=null,d.v=null,x||xe(d,"ready");try{b.onreadystatechange=M}catch{}}}function Jw(d){d.I&&(l.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function ki(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<ki(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var x=this.g.responseText;return d&&x.indexOf(d)==0&&(x=x.substring(d.length)),_l(x)}};function eb(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function jL(d){const x={};d=(d.g&&2<=ki(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let M=0;M<d.length;M++){if(y(d[M]))continue;var b=P(d[M]);const te=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const he=x[te]||[];x[te]=he,he.push(b)}A(x,function(M){return M.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Td(d,x,b){return b&&b.internalChannelParams&&b.internalChannelParams[d]||x}function tb(d){this.Aa=0,this.i=[],this.j=new ca,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Td("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Td("baseRetryDelayMs",5e3,d),this.cb=Td("retryDelaySeedMs",1e4,d),this.Wa=Td("forwardChannelMaxRetries",2,d),this.wa=Td("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new Ow(d&&d.concurrentRequestLimit),this.Da=new gL,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=tb.prototype,t.la=8,t.G=1,t.connect=function(d,x,b,M){$n(0),this.W=d,this.H=x||{},b&&M!==void 0&&(this.H.OSID=b,this.H.OAID=M),this.F=this.X,this.I=db(this,null,this.W),Jh(this)};function Dg(d){if(nb(d),d.G==3){var x=d.U++,b=Pi(d.I);if(Ht(b,"SID",d.K),Ht(b,"RID",x),Ht(b,"TYPE","terminate"),Ed(d,b),x=new da(d,d.j,x),x.L=2,x.v=Gh(Pi(b)),b=!1,l.navigator&&l.navigator.sendBeacon)try{b=l.navigator.sendBeacon(x.v.toString(),"")}catch{}!b&&l.Image&&(new Image().src=x.v,b=!0),b||(x.g=ub(x.j,null),x.g.ea(x.v)),x.F=Date.now(),Hh(x)}cb(d)}function Zh(d){d.g&&(Og(d),d.g.cancel(),d.g=null)}function nb(d){Zh(d),d.u&&(l.clearTimeout(d.u),d.u=null),em(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&l.clearTimeout(d.s),d.s=null)}function Jh(d){if(!Fw(d.h)&&!d.s){d.s=!0;var x=d.Ga;K||W(),F||(K(),F=!0),z.add(x,d),d.B=0}}function wL(d,x){return Lw(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=x.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=la(f(d.Ga,d,x),lb(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const te=new da(this,this.j,d);let he=this.o;if(this.S&&(he?(he=S(he),k(he,this.S)):he=this.S),this.m!==null||this.O||(te.H=he,he=null),this.P)e:{for(var x=0,b=0;b<this.i.length;b++){t:{var M=this.i[b];if("__data__"in M.map&&(M=M.map.__data__,typeof M=="string")){M=M.length;break t}M=void 0}if(M===void 0)break;if(x+=M,4096<x){x=b;break e}if(x===4096||b===this.i.length-1){x=b+1;break e}}x=1e3}else x=1e3;x=rb(this,te,x),b=Pi(this.I),Ht(b,"RID",d),Ht(b,"CVER",22),this.D&&Ht(b,"X-HTTP-Session-Id",this.D),Ed(this,b),he&&(this.O?x="headers="+encodeURIComponent(String(Qw(he)))+"&"+x:this.m&&Rg(b,this.m,he)),Ig(this.h,te),this.Ua&&Ht(b,"TYPE","init"),this.P?(Ht(b,"$req",x),Ht(b,"SID","null"),te.T=!0,Eg(te,b,null)):Eg(te,b,x),this.G=2}}else this.G==3&&(d?sb(this,d):this.i.length==0||Fw(this.h)||sb(this))};function sb(d,x){var b;x?b=x.l:b=d.U++;const M=Pi(d.I);Ht(M,"SID",d.K),Ht(M,"RID",b),Ht(M,"AID",d.T),Ed(d,M),d.m&&d.o&&Rg(M,d.m,d.o),b=new da(d,d.j,b,d.B+1),d.m===null&&(b.H=d.o),x&&(d.i=x.D.concat(d.i)),x=rb(d,b,1e3),b.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Ig(d.h,b),Eg(b,M,x)}function Ed(d,x){d.H&&U(d.H,function(b,M){Ht(x,M,b)}),d.l&&$w({},function(b,M){Ht(x,M,b)})}function rb(d,x,b){b=Math.min(d.i.length,b);var M=d.l?f(d.l.Na,d.l,d):null;e:{var te=d.i;let he=-1;for(;;){const ke=["count="+b];he==-1?0<b?(he=te[0].g,ke.push("ofs="+he)):he=0:ke.push("ofs="+he);let Ut=!0;for(let Wn=0;Wn<b;Wn++){let kt=te[Wn].g;const Xn=te[Wn].map;if(kt-=he,0>kt)he=Math.max(0,te[Wn].g-100),Ut=!1;else try{xL(Xn,ke,"req"+kt+"_")}catch{M&&M(Xn)}}if(Ut){M=ke.join("&");break e}}}return d=d.i.splice(0,b),x.D=d,M}function ib(d){if(!d.g&&!d.u){d.Y=1;var x=d.Fa;K||W(),F||(K(),F=!0),z.add(x,d),d.v=0}}function Mg(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=la(f(d.Fa,d),lb(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,ab(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=la(f(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,$n(10),Zh(this),ab(this))};function Og(d){d.A!=null&&(l.clearTimeout(d.A),d.A=null)}function ab(d){d.g=new da(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var x=Pi(d.qa);Ht(x,"RID","rpc"),Ht(x,"SID",d.K),Ht(x,"AID",d.T),Ht(x,"CI",d.F?"0":"1"),!d.F&&d.ja&&Ht(x,"TO",d.ja),Ht(x,"TYPE","xmlhttp"),Ed(d,x),d.m&&d.o&&Rg(x,d.m,d.o),d.L&&(d.g.I=d.L);var b=d.g;d=d.ia,b.L=1,b.v=Gh(Pi(x)),b.m=null,b.P=!0,Rw(b,d)}t.Za=function(){this.C!=null&&(this.C=null,Zh(this),Mg(this),$n(19))};function em(d){d.C!=null&&(l.clearTimeout(d.C),d.C=null)}function ob(d,x){var b=null;if(d.g==x){em(d),Og(d),d.g=null;var M=2}else if(Ag(d.h,x))b=x.D,Uw(d.h,x),M=1;else return;if(d.G!=0){if(x.o)if(M==1){b=x.m?x.m.length:0,x=Date.now()-x.F;var te=d.B;M=yd(),xe(M,new jd(M,b)),Jh(d)}else ib(d);else if(te=x.s,te==3||te==0&&0<x.X||!(M==1&&wL(d,x)||M==2&&Mg(d)))switch(b&&0<b.length&&(x=d.h,x.i=x.i.concat(b)),te){case 1:No(d,5);break;case 4:No(d,10);break;case 3:No(d,6);break;default:No(d,2)}}}function lb(d,x){let b=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(b*=2),b*x}function No(d,x){if(d.j.info("Error code "+x),x==2){var b=f(d.fb,d),M=d.Xa;const te=!M;M=new bo(M||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Wh(M,"https"),Gh(M),te?fL(M.toString(),b):pL(M.toString(),b)}else $n(2);d.G=0,d.l&&d.l.sa(x),cb(d),nb(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),$n(2)):(this.j.info("Failed to ping google.com"),$n(1))};function cb(d){if(d.G=0,d.ka=[],d.l){const x=Vw(d.h);(x.length!=0||d.i.length!=0)&&(E(d.ka,x),E(d.ka,d.i),d.h.i.length=0,j(d.i),d.i.length=0),d.l.ra()}}function db(d,x,b){var M=b instanceof bo?Pi(b):new bo(b);if(M.g!="")x&&(M.g=x+"."+M.g),Kh(M,M.s);else{var te=l.location;M=te.protocol,x=x?x+"."+te.hostname:te.hostname,te=+te.port;var he=new bo(null);M&&Wh(he,M),x&&(he.g=x),te&&Kh(he,te),b&&(he.l=b),M=he}return b=d.D,x=d.ya,b&&x&&Ht(M,b,x),Ht(M,"VER",d.la),Ed(d,M),M}function ub(d,x,b){if(x&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return x=d.Ca&&!d.pa?new vn(new Qh({eb:b})):new vn(d.pa),x.Ha(d.J),x}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function hb(){}t=hb.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function nr(d,x){pe.call(this),this.g=new tb(x),this.l=d,this.h=x&&x.messageUrlParams||null,d=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(d?d["X-WebChannel-Content-Type"]=x.messageContentType:d={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.va&&(d?d["X-WebChannel-Client-Profile"]=x.va:d={"X-WebChannel-Client-Profile":x.va}),this.g.S=d,(d=x&&x.Sb)&&!y(d)&&(this.g.m=d),this.v=x&&x.supportsCrossDomainXhr||!1,this.u=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!y(x)&&(this.g.D=x,d=this.h,d!==null&&x in d&&(d=this.h,x in d&&delete d[x])),this.j=new Tl(this)}_(nr,pe),nr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},nr.prototype.close=function(){Dg(this.g)},nr.prototype.o=function(d){var x=this.g;if(typeof d=="string"){var b={};b.__data__=d,d=b}else this.u&&(b={},b.__data__=aa(d),d=b);x.i.push(new rL(x.Ya++,d)),x.G==3&&Jh(x)},nr.prototype.N=function(){this.g.l=null,delete this.j,Dg(this.g),delete this.g,nr.aa.N.call(this)};function mb(d){gd.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var x=d.__sm__;if(x){e:{for(const b in x){d=b;break e}d=void 0}(this.i=d)&&(d=this.i,x=x!==null&&d in x?x[d]:void 0),this.data=x}else this.data=d}_(mb,gd);function fb(){xd.call(this),this.status=1}_(fb,xd);function Tl(d){this.g=d}_(Tl,hb),Tl.prototype.ua=function(){xe(this.g,"a")},Tl.prototype.ta=function(d){xe(this.g,new mb(d))},Tl.prototype.sa=function(d){xe(this.g,new fb)},Tl.prototype.ra=function(){xe(this.g,"b")},nr.prototype.send=nr.prototype.o,nr.prototype.open=nr.prototype.m,nr.prototype.close=nr.prototype.close,tr.NO_ERROR=0,tr.TIMEOUT=8,tr.HTTP_ERROR=6,_g.COMPLETE="complete",Sg.EventType=jo,jo.OPEN="a",jo.CLOSE="b",jo.ERROR="c",jo.MESSAGE="d",pe.prototype.listen=pe.prototype.K,vn.prototype.listenOnce=vn.prototype.L,vn.prototype.getLastError=vn.prototype.Ka,vn.prototype.getLastErrorCode=vn.prototype.Ba,vn.prototype.getStatus=vn.prototype.Z,vn.prototype.getResponseJson=vn.prototype.Oa,vn.prototype.getResponseText=vn.prototype.oa,vn.prototype.send=vn.prototype.ea,vn.prototype.setWithCredentials=vn.prototype.Ha}).apply(typeof wm<"u"?wm:typeof self<"u"?self:typeof window<"u"?window:{});const ZN="@firebase/firestore",JN="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ms=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ms.UNAUTHENTICATED=new ms(null),ms.GOOGLE_CREDENTIALS=new ms("google-credentials-uid"),ms.FIRST_PARTY=new ms("first-party-uid"),ms.MOCK_USER=new ms("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gh="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zc=new Vp("@firebase/firestore");function Ir(t,...e){if(zc.logLevel<=It.DEBUG){const n=e.map(Yj);zc.debug(`Firestore (${gh}): ${t}`,...n)}}function cA(t,...e){if(zc.logLevel<=It.ERROR){const n=e.map(Yj);zc.error(`Firestore (${gh}): ${t}`,...n)}}function VV(t,...e){if(zc.logLevel<=It.WARN){const n=e.map(Yj);zc.warn(`Firestore (${gh}): ${t}`,...n)}}function Yj(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uu(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,dA(t,r,n)}function dA(t,e,n){let r=`FIRESTORE (${gh}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw cA(r),new Error(r)}function uu(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||dA(e,i,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ct={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Tt extends pr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $V{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ms.UNAUTHENTICATED))}shutdown(){}}class zV{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class BV{constructor(e){this.t=e,this.currentUser=ms.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){uu(this.o===void 0,42304);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let a=new hu;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new hu,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const c=a;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},l=c=>{Ir("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(Ir("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new hu)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Ir("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(uu(typeof r.accessToken=="string",31837,{l:r}),new uA(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return uu(e===null||typeof e=="string",2055,{h:e}),new ms(e)}}class qV{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=ms.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class HV{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new qV(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(ms.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class e1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class WV{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Pr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){uu(this.o===void 0,3512);const r=a=>{a.error!=null&&Ir("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.m;return this.m=a.token,Ir("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{Ir("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):Ir("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new e1(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(uu(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new e1(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KV(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GV(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QV{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=KV(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function Lr(t,e){return t<e?-1:t>e?1:0}function YV(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return Lr(r,i);{const a=GV(),o=XV(a.encode(t1(t,n)),a.encode(t1(e,n)));return o!==0?o:Lr(r,i)}}n+=r>65535?2:1}return Lr(t.length,e.length)}function t1(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function XV(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Lr(t[n],e[n]);return Lr(t.length,e.length)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n1="__name__";class Xr{constructor(e,n,r){n===void 0?n=0:n>e.length&&Uu(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Uu(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Xr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Xr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=Xr.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return Lr(e.length,n.length)}static compareSegments(e,n){const r=Xr.isNumericId(e),i=Xr.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Xr.extractNumericId(e).compare(Xr.extractNumericId(n)):YV(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Qj.fromString(e.substring(4,e.length-2))}}class Er extends Xr{construct(e,n,r){return new Er(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Tt(Ct.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Er(n)}static emptyPath(){return new Er([])}}const ZV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Eo extends Xr{construct(e,n,r){return new Eo(e,n,r)}static isValidIdentifier(e){return ZV.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Eo.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===n1}static keyField(){return new Eo([n1])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new Tt(Ct.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new Tt(Ct.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Tt(Ct.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(r+=l,i++):(a(),i++)}if(a(),o)throw new Tt(Ct.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Eo(n)}static emptyPath(){return new Eo([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e){this.path=e}static fromPath(e){return new Ro(Er.fromString(e))}static fromName(e){return new Ro(Er.fromString(e).popFirst(5))}static empty(){return new Ro(Er.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Er.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Er.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ro(new Er(e.slice()))}}function JV(t,e,n,r){if(e===!0&&r===!0)throw new Tt(Ct.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function e$(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function t$(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Uu(12329,{type:typeof t})}function n$(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Tt(Ct.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=t$(t);throw new Tt(Ct.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function In(t,e){const n={typeString:t};return e&&(n.value=e),n}function xh(t,e){if(!e$(t))throw new Tt(Ct.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&o!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new Tt(Ct.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1=-62135596800,r1=1e6;class ni{static now(){return ni.fromMillis(Date.now())}static fromDate(e){return ni.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*r1);return new ni(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Tt(Ct.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Tt(Ct.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<s1)throw new Tt(Ct.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Tt(Ct.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/r1}_compareTo(e){return this.seconds===e.seconds?Lr(this.nanoseconds,e.nanoseconds):Lr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ni._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(xh(e,ni._jsonSchema))return new ni(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-s1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ni._jsonSchemaVersion="firestore/timestamp/1.0",ni._jsonSchema={type:In("string",ni._jsonSchemaVersion),seconds:In("number"),nanoseconds:In("number")};function s$(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r$ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new r$("Invalid base64 string: "+a):a}}(e);return new rl(n)}static fromUint8Array(e){const n=function(i){let a="";for(let o=0;o<i.length;++o)a+=String.fromCharCode(i[o]);return a}(e);return new rl(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Lr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}rl.EMPTY_BYTE_STRING=new rl("");const lv="(default)";class Ff{constructor(e,n){this.projectId=e,this.database=n||lv}static empty(){return new Ff("","")}get isDefaultDatabase(){return this.database===lv}isEqual(e){return e instanceof Ff&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i${constructor(e,n=null,r=[],i=[],a=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=l,this.endAt=c,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function a$(t){return new i$(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var i1,St;(St=i1||(i1={}))[St.OK=0]="OK",St[St.CANCELLED=1]="CANCELLED",St[St.UNKNOWN=2]="UNKNOWN",St[St.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",St[St.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",St[St.NOT_FOUND=5]="NOT_FOUND",St[St.ALREADY_EXISTS=6]="ALREADY_EXISTS",St[St.PERMISSION_DENIED=7]="PERMISSION_DENIED",St[St.UNAUTHENTICATED=16]="UNAUTHENTICATED",St[St.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",St[St.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",St[St.ABORTED=10]="ABORTED",St[St.OUT_OF_RANGE=11]="OUT_OF_RANGE",St[St.UNIMPLEMENTED=12]="UNIMPLEMENTED",St[St.INTERNAL=13]="INTERNAL",St[St.UNAVAILABLE=14]="UNAVAILABLE",St[St.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Qj([4294967295,4294967295],0);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o$=41943040;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l$=1048576;function yx(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c${constructor(e,n,r=1e3,i=1.5,a=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=i,this.A_=a,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,n-r);i>0&&Ir("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xj{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new hu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const o=Date.now()+r,l=new Xj(e,n,o,i,a);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Tt(Ct.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}var a1,o1;(o1=a1||(a1={})).Fa="default",o1.Cache="cache";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d$(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hA="firestore.googleapis.com",c1=!0;class d1{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Tt(Ct.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=hA,this.ssl=c1}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:c1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=o$;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<l$)throw new Tt(Ct.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}JV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=d$((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Tt(Ct.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Tt(Ct.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Tt(Ct.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class mA{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new d1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Tt(Ct.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Tt(Ct.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new d1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new $V;switch(r.type){case"firstParty":return new HV(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Tt(Ct.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=l1.get(n);r&&(Ir("ComponentProvider","Removing Datastore"),l1.delete(n),r.terminate())}(this),Promise.resolve()}}function u$(t,e,n,r={}){var i;t=n$(t,mA);const a=id(e),o=t._getSettings(),l=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),c=`${e}:${n}`;a&&(Wj(`https://${c}`),Kj("Firestore",!0)),o.host!==hA&&o.host!==c&&VV("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},o),{host:c,ssl:a,emulatorOptions:r});if(!eo(u,l)&&(t._setSettings(u),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=ms.MOCK_USER;else{h=Jk(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new Tt(Ct.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new ms(f)}t._authCredentials=new zV(new uA(h,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zj{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Zj(this.firestore,e,this._query)}}class ii{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Jj(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ii(this.firestore,e,this._key)}toJSON(){return{type:ii._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(xh(n,ii._jsonSchema))return new ii(e,r||null,new Ro(Er.fromString(n.referencePath)))}}ii._jsonSchemaVersion="firestore/documentReference/1.0",ii._jsonSchema={type:In("string",ii._jsonSchemaVersion),referencePath:In("string")};class Jj extends Zj{constructor(e,n,r){super(e,n,a$(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ii(this.firestore,null,new Ro(e))}withConverter(e){return new Jj(this.firestore,e,this._path)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1="AsyncQueue";class h1{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new c$(this,"async_queue_retry"),this.oc=()=>{const r=yx();r&&Ir(u1,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const n=yx();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=yx();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new hu;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!s$(e))throw e;Ir(u1,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const n=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,cA("INTERNAL UNHANDLED ERROR: ",m1(r)),r}).then(r=>(this.nc=!1,r))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const i=Xj.createAndSchedule(this,e,n,r,a=>this.lc(a));return this.ec.push(i),i}ac(){this.tc&&Uu(47125,{hc:m1(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function m1(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class h$ extends mA{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new h1,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new h1(e),this._firestoreClient=void 0,await e}}}function m$(t,e){const n=typeof t=="object"?t:$p(),r=typeof t=="string"?t:lv,i=po(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=Yk("firestore");a&&u$(i,...a)}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Vi(rl.fromBase64String(e))}catch(n){throw new Tt(Ct.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Vi(rl.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Vi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(xh(e,Vi._jsonSchema))return Vi.fromBase64String(e.bytes)}}Vi._jsonSchemaVersion="firestore/bytes/1.0",Vi._jsonSchema={type:In("string",Vi._jsonSchemaVersion),bytes:In("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Tt(Ct.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Eo(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Tt(Ct.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Tt(Ct.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Lr(this._lat,e._lat)||Lr(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Wo._jsonSchemaVersion}}static fromJSON(e){if(xh(e,Wo._jsonSchema))return new Wo(e.latitude,e.longitude)}}Wo._jsonSchemaVersion="firestore/geoPoint/1.0",Wo._jsonSchema={type:In("string",Wo._jsonSchemaVersion),latitude:In("number"),longitude:In("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Ko._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(xh(e,Ko._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Ko(e.vectorValues);throw new Tt(Ct.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ko._jsonSchemaVersion="firestore/vectorValue/1.0",Ko._jsonSchema={type:In("string",Ko._jsonSchemaVersion),vectorValues:In("object")};const f$=new RegExp("[~\\*/\\[\\]]");function p$(t,e,n){if(e.search(f$)>=0)throw f1(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t);try{return new fA(...e.split("."))._internalPath}catch{throw f1(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t)}}function f1(t,e,n,r,i){let a=`Function ${e}() called with invalid data`;a+=". ";let o="";return new Tt(Ct.INVALID_ARGUMENT,a+t+o)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new ii(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new g$(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(gA("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class g$ extends pA{data(){return super.data()}}function gA(t,e){return typeof e=="string"?p$(t,e):e instanceof fA?e._internalPath:e._delegate._internalPath}class bm{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class oc extends pA{constructor(e,n,r,i,a,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Gm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(gA("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Tt(Ct.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=oc._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}oc._jsonSchemaVersion="firestore/documentSnapshot/1.0",oc._jsonSchema={type:In("string",oc._jsonSchemaVersion),bundleSource:In("string","DocumentSnapshot"),bundleName:In("string"),bundle:In("string")};class Gm extends oc{data(e={}){return super.data(e)}}class mu{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new bm(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Gm(this._firestore,this._userDataWriter,r.key,r,new bm(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Tt(Ct.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(l=>{const c=new Gm(i._firestore,i._userDataWriter,l.doc.key,l.doc,new bm(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>a||l.type!==3).map(l=>{const c=new Gm(i._firestore,i._userDataWriter,l.doc.key,l.doc,new bm(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,h=-1;return l.type!==0&&(u=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),h=o.indexOf(l.doc.key)),{type:x$(l.type),doc:c,oldIndex:u,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Tt(Ct.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=mu._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=QV.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function x$(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Uu(61501,{type:t})}}mu._jsonSchemaVersion="firestore/querySnapshot/1.0",mu._jsonSchema={type:In("string",mu._jsonSchemaVersion),bundleSource:In("string","QuerySnapshot"),bundleName:In("string"),bundle:In("string")};(function(e,n=!0){(function(i){gh=i})(vl),Br(new fr("firestore",(r,{instanceIdentifier:i,options:a})=>{const o=r.getProvider("app").getImmediate(),l=new h$(new BV(r.getProvider("auth-internal")),new WV(o,r.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Tt(Ct.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ff(u.options.projectId,h)}(o,i),o);return a=Object.assign({useFetchStreams:n},a),l._setSettings(a),l},"PUBLIC").setMultipleInstances(!0)),Ds(ZN,JN,e),Ds(ZN,JN,"esm2017")})();var ri=function(){return ri=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ri.apply(this,arguments)};function yh(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function y$(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))}function xA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const v$=xA,yA=new yl("auth","Firebase",xA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lf=new Vp("@firebase/auth");function j$(t,...e){Lf.logLevel<=It.WARN&&Lf.warn(`Auth (${vl}): ${t}`,...e)}function Qm(t,...e){Lf.logLevel<=It.ERROR&&Lf.error(`Auth (${vl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zi(t,...e){throw e0(t,...e)}function ui(t,...e){return e0(t,...e)}function vA(t,e,n){const r=Object.assign(Object.assign({},v$()),{[e]:n});return new yl("auth","Firebase",r).create(e,{appName:t.name})}function Go(t){return vA(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function e0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return yA.create(t,...e)}function at(t,e,...n){if(!t)throw e0(e,...n)}function Bi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Qm(e),new Error(e)}function Ji(t,e){t||Bi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function w$(){return p1()==="http:"||p1()==="https:"}function p1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b$(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(w$()||eA()||"connection"in navigator)?navigator.onLine:!0}function N$(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ji(n>e,"Short delay should be less than long delay!"),this.isMobile=pU()||xU()}get(){return b$()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t0(t,e){Ji(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Bi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Bi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Bi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S$={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _$=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],C$=new vh(3e4,6e4);function n0(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function jl(t,e,n,r,i={}){return wA(t,i,async()=>{let a={},o={};r&&(e==="GET"?o=r:a={body:JSON.stringify(r)});const l=ph(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:c},a);return gU()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&id(t.emulatorConfig.host)&&(u.credentials="include"),jA.fetch()(await bA(t,t.config.apiHost,n,l),u)})}async function wA(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},S$),e);try{const i=new E$(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw Nm(t,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const l=a.ok?o.errorMessage:o.error.message,[c,u]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Nm(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Nm(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Nm(t,"user-disabled",o);const h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw vA(t,h,u);Zi(t,h)}}catch(i){if(i instanceof pr)throw i;Zi(t,"network-request-failed",{message:String(i)})}}async function T$(t,e,n,r,i={}){const a=await jl(t,e,n,r,i);return"mfaPendingCredential"in a&&Zi(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function bA(t,e,n,r){const i=`${e}${n}?${r}`,a=t,o=a.config.emulator?t0(t.config,i):`${t.config.apiScheme}://${i}`;return _$.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(o).toString():o}class E${clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ui(this.auth,"network-request-failed")),C$.get())})}}function Nm(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ui(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P$(t,e){return jl(t,"POST","/v1/accounts:delete",e)}async function Uf(t,e){return jl(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function k$(t,e=!1){const n=gr(t),r=await n.getIdToken(e),i=s0(r);at(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,o=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:fu(vx(i.auth_time)),issuedAtTime:fu(vx(i.iat)),expirationTime:fu(vx(i.exp)),signInProvider:o||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function vx(t){return Number(t)*1e3}function s0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Qm("JWT malformed, contained fewer than 3 sections"),null;try{const i=Gk(n);return i?JSON.parse(i):(Qm("Failed to decode base64 JWT payload"),null)}catch(i){return Qm("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function g1(t){const e=s0(t);return at(e,"internal-error"),at(typeof e.exp<"u","internal-error"),at(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof pr&&A$(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function A$({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I${constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=fu(this.lastLoginAt),this.creationTime=fu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vf(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Bc(t,Uf(n,{idToken:r}));at(i==null?void 0:i.users.length,n,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const o=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?NA(a.providerUserInfo):[],l=D$(t.providerData,o),c=t.isAnonymous,u=!(t.email&&a.passwordHash)&&!(l!=null&&l.length),h=c?u:!1,p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new dv(a.createdAt,a.lastLoginAt),isAnonymous:h};Object.assign(t,p)}async function R$(t){const e=gr(t);await Vf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function D$(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function NA(t){return t.map(e=>{var{providerId:n}=e,r=yh(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M$(t,e){const n=await wA(t,{},async()=>{const r=ph({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,o=await bA(t,i,"/v1/token",`key=${a}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:r};return t.emulatorConfig&&id(t.emulatorConfig.host)&&(c.credentials="include"),jA.fetch()(o,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function O$(t,e){return jl(t,"POST","/v2/accounts:revokeToken",n0(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){at(e.idToken,"internal-error"),at(typeof e.idToken<"u","internal-error"),at(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):g1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){at(e.length!==0,"internal-error");const n=g1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(at(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await M$(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,o=new lc;return r&&(at(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(at(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),a&&(at(typeof a=="number","internal-error",{appName:e}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new lc,this.toJSON())}_performRefresh(){return Bi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fa(t,e){at(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Rr{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,a=yh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new I$(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new dv(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Bc(this,this.stsTokenManager.getToken(this.auth,e));return at(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return k$(this,e)}reload(){return R$(this)}_assign(e){this!==e&&(at(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Rr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){at(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Vf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Pr(this.auth.app))return Promise.reject(Go(this.auth));const e=await this.getIdToken();return await Bc(this,P$(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,a,o,l,c,u,h;const p=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,v=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,_=(o=n.photoURL)!==null&&o!==void 0?o:void 0,j=(l=n.tenantId)!==null&&l!==void 0?l:void 0,E=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,N=(u=n.createdAt)!==null&&u!==void 0?u:void 0,y=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:w,emailVerified:T,isAnonymous:O,providerData:U,stsTokenManager:A}=n;at(w&&A,e,"internal-error");const S=lc.fromJSON(this.name,A);at(typeof w=="string",e,"internal-error"),fa(p,e.name),fa(f,e.name),at(typeof T=="boolean",e,"internal-error"),at(typeof O=="boolean",e,"internal-error"),fa(v,e.name),fa(_,e.name),fa(j,e.name),fa(E,e.name),fa(N,e.name),fa(y,e.name);const g=new Rr({uid:w,auth:e,email:f,emailVerified:T,displayName:p,isAnonymous:O,photoURL:_,phoneNumber:v,tenantId:j,stsTokenManager:S,createdAt:N,lastLoginAt:y});return U&&Array.isArray(U)&&(g.providerData=U.map(k=>Object.assign({},k))),E&&(g._redirectEventId=E),g}static async _fromIdTokenResponse(e,n,r=!1){const i=new lc;i.updateFromServerResponse(n);const a=new Rr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Vf(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];at(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?NA(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),l=new lc;l.updateFromIdToken(r);const c=new Rr({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new dv(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1=new Map;function qi(t){Ji(t instanceof Function,"Expected a class definition");let e=x1.get(t);return e?(Ji(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,x1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}SA.type="NONE";const y1=SA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ym(t,e,n){return`firebase:${t}:${e}:${n}`}class cc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=Ym(this.userKey,i.apiKey,a),this.fullPersistenceKey=Ym("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Uf(this.auth,{idToken:e}).catch(()=>{});return n?Rr._fromGetAccountInfoResponse(this.auth,n,e):null}return Rr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new cc(qi(y1),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let a=i[0]||qi(y1);const o=Ym(r,e.config.apiKey,e.name);let l=null;for(const u of n)try{const h=await u._get(o);if(h){let p;if(typeof h=="string"){const f=await Uf(e,{idToken:h}).catch(()=>{});if(!f)break;p=await Rr._fromGetAccountInfoResponse(e,f,h)}else p=Rr._fromJSON(e,h);u!==a&&(l=p),a=u;break}}catch{}const c=i.filter(u=>u._shouldAllowMigration);return!a._shouldAllowMigration||!c.length?new cc(a,e,r):(a=c[0],l&&await a._set(o,l.toJSON()),await Promise.all(n.map(async u=>{if(u!==a)try{await u._remove(o)}catch{}})),new cc(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(EA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(_A(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(kA(e))return"Blackberry";if(AA(e))return"Webos";if(CA(e))return"Safari";if((e.includes("chrome/")||TA(e))&&!e.includes("edge/"))return"Chrome";if(PA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function _A(t=ys()){return/firefox\//i.test(t)}function CA(t=ys()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function TA(t=ys()){return/crios\//i.test(t)}function EA(t=ys()){return/iemobile/i.test(t)}function PA(t=ys()){return/android/i.test(t)}function kA(t=ys()){return/blackberry/i.test(t)}function AA(t=ys()){return/webos/i.test(t)}function r0(t=ys()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function F$(t=ys()){var e;return r0(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function L$(){return yU()&&document.documentMode===10}function IA(t=ys()){return r0(t)||PA(t)||AA(t)||kA(t)||/windows phone/i.test(t)||EA(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RA(t,e=[]){let n;switch(t){case"Browser":n=v1(ys());break;case"Worker":n=`${v1(ys())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${vl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U${constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((o,l)=>{try{const c=e(a);o(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V$(t,e={}){return jl(t,"GET","/v2/passwordPolicy",n0(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $$=6;class z${constructor(e){var n,r,i,a;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:$$,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,a,o,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(a=c.containsUppercaseLetter)!==null&&a!==void 0?a:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B${constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new j1(this),this.idTokenSubscription=new j1(this),this.beforeStateQueue=new U$(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=yA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=qi(n)),this._initializationPromise=this.queue(async()=>{var r,i,a;if(!this._deleted&&(this.persistenceManager=await cc.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Uf(this,{idToken:e}),r=await Rr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Pr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&(c!=null&&c.user)&&(i=c.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return at(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Vf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=N$()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Pr(this.app))return Promise.reject(Go(this));const n=e?gr(e):null;return n&&at(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&at(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Pr(this.app)?Promise.reject(Go(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Pr(this.app)?Promise.reject(Go(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(qi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await V$(this),n=new z$(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new yl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await O$(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&qi(e)||this._popupRedirectResolver;at(n,this,"argument-error"),this.redirectPersistenceManager=await cc.create(this,[qi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(at(l,this,"internal-error"),l.then(()=>{o||a(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return at(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=RA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(Pr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&j$(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function i0(t){return gr(t)}class j1{constructor(e){this.auth=e,this.observer=null,this.addObserver=SU(n=>this.observer=n)}get next(){return at(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let a0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function q$(t){a0=t}function H$(t){return a0.loadJS(t)}function W$(){return a0.gapiScript}function K$(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G$(t,e){const n=po(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(eo(a,e??{}))return i;Zi(i,"already-initialized")}return n.initialize({options:e})}function Q$(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(qi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Y$(t,e,n){const r=i0(t);at(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=DA(e),{host:o,port:l}=X$(e),c=l===null?"":`:${l}`,u={url:`${a}//${o}${c}/`},h=Object.freeze({host:o,port:l,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){at(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),at(eo(u,r.config.emulator)&&eo(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,id(o)?(Wj(`${a}//${o}${c}`),Kj("Auth",!0)):Z$()}function DA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function X$(t){const e=DA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:w1(r.substr(a.length+1))}}else{const[a,o]=r.split(":");return{host:a,port:w1(o)}}}function w1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Z$(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Bi("not implemented")}_getIdTokenResponse(e){return Bi("not implemented")}_linkToIdToken(e,n){return Bi("not implemented")}_getReauthenticationResolver(e){return Bi("not implemented")}}async function J$(t,e){return jl(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dc(t,e){return T$(t,"POST","/v1/accounts:signInWithIdp",n0(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e8="http://localhost";class il extends MA{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new il(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Zi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,a=yh(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new il(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return dc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,dc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,dc(e,n)}buildRequest(){const e={requestUri:e8,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ph(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh extends OA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa extends jh{constructor(){super("facebook.com")}static credential(e){return il._fromParams({providerId:Sa.PROVIDER_ID,signInMethod:Sa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Sa.credentialFromTaggedObject(e)}static credentialFromError(e){return Sa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Sa.credential(e.oauthAccessToken)}catch{return null}}}Sa.FACEBOOK_SIGN_IN_METHOD="facebook.com";Sa.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a extends jh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return il._fromParams({providerId:_a.PROVIDER_ID,signInMethod:_a.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return _a.credentialFromTaggedObject(e)}static credentialFromError(e){return _a.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return _a.credential(n,r)}catch{return null}}}_a.GOOGLE_SIGN_IN_METHOD="google.com";_a.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca extends jh{constructor(){super("github.com")}static credential(e){return il._fromParams({providerId:Ca.PROVIDER_ID,signInMethod:Ca.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ca.credentialFromTaggedObject(e)}static credentialFromError(e){return Ca.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ca.credential(e.oauthAccessToken)}catch{return null}}}Ca.GITHUB_SIGN_IN_METHOD="github.com";Ca.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta extends jh{constructor(){super("twitter.com")}static credential(e,n){return il._fromParams({providerId:Ta.PROVIDER_ID,signInMethod:Ta.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ta.credentialFromTaggedObject(e)}static credentialFromError(e){return Ta.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ta.credential(n,r)}catch{return null}}}Ta.TWITTER_SIGN_IN_METHOD="twitter.com";Ta.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await Rr._fromIdTokenResponse(e,r,i),o=b1(r);return new qc({user:a,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=b1(r);return new qc({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function b1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f extends pr{constructor(e,n,r,i){var a;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,$f.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new $f(e,n,r,i)}}function FA(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?$f._fromErrorAndOperation(t,a,e,r):a})}async function t8(t,e,n=!1){const r=await Bc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return qc._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n8(t,e,n=!1){const{auth:r}=t;if(Pr(r.app))return Promise.reject(Go(r));const i="reauthenticate";try{const a=await Bc(t,FA(r,i,e,t),n);at(a.idToken,r,"internal-error");const o=s0(a.idToken);at(o,r,"internal-error");const{sub:l}=o;return at(t.uid===l,r,"user-mismatch"),qc._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Zi(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s8(t,e,n=!1){if(Pr(t.app))return Promise.reject(Go(t));const r="signIn",i=await FA(t,r,e),a=await qc._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}function r8(t,e){return i8(gr(t),null,e)}async function i8(t,e,n){const{auth:r}=t,a={idToken:await t.getIdToken(),returnSecureToken:!0};n&&(a.password=n);const o=await Bc(t,J$(r,a));await t._updateTokensIfNecessary(o,!0)}function a8(t,e,n,r){return gr(t).onIdTokenChanged(e,n,r)}function o8(t,e,n){return gr(t).beforeAuthStateChanged(e,n)}function LA(t,e,n,r){return gr(t).onAuthStateChanged(e,n,r)}function o0(t){return gr(t).signOut()}const zf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(zf,"1"),this.storage.removeItem(zf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l8=1e3,c8=10;class VA extends UA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=IA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},a=this.storage.getItem(r);L$()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,c8):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},l8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}VA.type="LOCAL";const d8=VA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A extends UA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}$A.type="SESSION";const zA=$A;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u8(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new zp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(o).map(async u=>u(n.origin,a)),c=await u8(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}zp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h8{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,o;return new Promise((l,c)=>{const u=l0("",20);i.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(p){const f=p;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(h),a=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),l(f.data.response);break;default:clearTimeout(h),clearTimeout(a),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hi(){return window}function m8(t){hi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BA(){return typeof hi().WorkerGlobalScope<"u"&&typeof hi().importScripts=="function"}async function f8(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function p8(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function g8(){return BA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qA="firebaseLocalStorageDb",x8=1,Bf="firebaseLocalStorage",HA="fbase_key";class wh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Bp(t,e){return t.transaction([Bf],e?"readwrite":"readonly").objectStore(Bf)}function y8(){const t=indexedDB.deleteDatabase(qA);return new wh(t).toPromise()}function uv(){const t=indexedDB.open(qA,x8);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Bf,{keyPath:HA})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Bf)?e(r):(r.close(),await y8(),e(await uv()))})})}async function N1(t,e,n){const r=Bp(t,!0).put({[HA]:e,value:n});return new wh(r).toPromise()}async function v8(t,e){const n=Bp(t,!1).get(e),r=await new wh(n).toPromise();return r===void 0?null:r.value}function S1(t,e){const n=Bp(t,!0).delete(e);return new wh(n).toPromise()}const j8=800,w8=3;class WA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await uv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>w8)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return BA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=zp._getInstance(g8()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await f8(),!this.activeServiceWorker)return;this.sender=new h8(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||p8()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await uv();return await N1(e,zf,"1"),await S1(e,zf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>N1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>v8(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>S1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=Bp(i,!1).getAll();return new wh(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),j8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}WA.type="LOCAL";const b8=WA;new vh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N8(t,e){return e?qi(e):(at(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0 extends MA{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return dc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return dc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return dc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function S8(t){return s8(t.auth,new c0(t),t.bypassAuthState)}function _8(t){const{auth:e,user:n}=t;return at(n,e,"internal-error"),n8(n,new c0(t),t.bypassAuthState)}async function C8(t){const{auth:e,user:n}=t;return at(n,e,"internal-error"),t8(n,new c0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:o,type:l}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return S8;case"linkViaPopup":case"linkViaRedirect":return C8;case"reauthViaPopup":case"reauthViaRedirect":return _8;default:Zi(this.auth,"internal-error")}}resolve(e){Ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T8=new vh(2e3,1e4);class Yl extends KA{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,Yl.currentPopupAction&&Yl.currentPopupAction.cancel(),Yl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return at(e,this.auth,"internal-error"),e}async onExecution(){Ji(this.filter.length===1,"Popup operations only handle one event");const e=l0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ui(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ui(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Yl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ui(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,T8.get())};e()}}Yl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E8="pendingRedirect",Xm=new Map;class P8 extends KA{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Xm.get(this.auth._key());if(!e){try{const r=await k8(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Xm.set(this.auth._key(),e)}return this.bypassAuthState||Xm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function k8(t,e){const n=R8(e),r=I8(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function A8(t,e){Xm.set(t._key(),e)}function I8(t){return qi(t._redirectPersistence)}function R8(t){return Ym(E8,t.config.apiKey,t.name)}async function D8(t,e,n=!1){if(Pr(t.app))return Promise.reject(Go(t));const r=i0(t),i=N8(r,e),o=await new P8(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M8=10*60*1e3;class O8{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!F8(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!GA(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ui(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=M8&&this.cachedEventUids.clear(),this.cachedEventUids.has(_1(e))}saveEventToCache(e){this.cachedEventUids.add(_1(e)),this.lastProcessedEventTime=Date.now()}}function _1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function GA({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function F8(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return GA(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L8(t,e={}){return jl(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U8=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,V8=/^https?/;async function $8(t){if(t.config.emulator)return;const{authorizedDomains:e}=await L8(t);for(const n of e)try{if(z8(n))return}catch{}Zi(t,"unauthorized-domain")}function z8(t){const e=cv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!V8.test(n))return!1;if(U8.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B8=new vh(3e4,6e4);function C1(){const t=hi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function q8(t){return new Promise((e,n)=>{var r,i,a;function o(){C1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{C1(),n(ui(t,"network-request-failed"))},timeout:B8.get()})}if(!((i=(r=hi().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=hi().gapi)===null||a===void 0)&&a.load)o();else{const l=K$("iframefcb");return hi()[l]=()=>{gapi.load?o():n(ui(t,"network-request-failed"))},H$(`${W$()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw Zm=null,e})}let Zm=null;function H8(t){return Zm=Zm||q8(t),Zm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W8=new vh(5e3,15e3),K8="__/auth/iframe",G8="emulator/auth/iframe",Q8={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Y8=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function X8(t){const e=t.config;at(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?t0(e,G8):`https://${t.config.authDomain}/${K8}`,r={apiKey:e.apiKey,appName:t.name,v:vl},i=Y8.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${ph(r).slice(1)}`}async function Z8(t){const e=await H8(t),n=hi().gapi;return at(n,t,"internal-error"),e.open({where:document.body,url:X8(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Q8,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const o=ui(t,"network-request-failed"),l=hi().setTimeout(()=>{a(o)},W8.get());function c(){hi().clearTimeout(l),i(r)}r.ping(c).then(c,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J8={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},e7=500,t7=600,n7="_blank",s7="http://localhost";class T1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function r7(t,e,n,r=e7,i=t7){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},J8),{width:r.toString(),height:i.toString(),top:a,left:o}),u=ys().toLowerCase();n&&(l=TA(u)?n7:n),_A(u)&&(e=e||s7,c.scrollbars="yes");const h=Object.entries(c).reduce((f,[v,_])=>`${f}${v}=${_},`,"");if(F$(u)&&l!=="_self")return i7(e||"",l),new T1(null);const p=window.open(e||"",l,h);at(p,t,"popup-blocked");try{p.focus()}catch{}return new T1(p)}function i7(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a7="__/auth/handler",o7="emulator/auth/handler",l7=encodeURIComponent("fac");async function E1(t,e,n,r,i,a){at(t.config.authDomain,t,"auth-domain-config-required"),at(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:vl,eventId:i};if(e instanceof OA){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",NU(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,p]of Object.entries({}))o[h]=p}if(e instanceof jh){const h=e.getScopes().filter(p=>p!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const h of Object.keys(l))l[h]===void 0&&delete l[h];const c=await t._getAppCheckToken(),u=c?`#${l7}=${encodeURIComponent(c)}`:"";return`${c7(t)}?${ph(l).slice(1)}${u}`}function c7({config:t}){return t.emulator?t0(t,o7):`https://${t.authDomain}/${a7}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jx="webStorageSupport";class d7{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zA,this._completeRedirectFn=D8,this._overrideRedirectResult=A8}async _openPopup(e,n,r,i){var a;Ji((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const o=await E1(e,n,r,cv(),i);return r7(e,o,l0())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await E1(e,n,r,cv(),i);return m8(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(Ji(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Z8(e),r=new O8(e);return n.register("authEvent",i=>(at(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(jx,{type:jx},i=>{var a;const o=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[jx];o!==void 0&&n(!!o),Zi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=$8(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return IA()||CA()||r0()}}const u7=d7;var P1="@firebase/auth",k1="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h7{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){at(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m7(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function f7(t){Br(new fr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;at(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:RA(t)},u=new B$(r,i,a,c);return Q$(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Br(new fr("auth-internal",e=>{const n=i0(e.getProvider("auth").getImmediate());return(r=>new h7(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ds(P1,k1,m7(t)),Ds(P1,k1,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p7=5*60,g7=Zk("authIdTokenMaxAge")||p7;let A1=null;const x7=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>g7)return;const i=n==null?void 0:n.token;A1!==i&&(A1=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function y7(t=$p()){const e=po(t,"auth");if(e.isInitialized())return e.getImmediate();const n=G$(t,{popupRedirectResolver:u7,persistence:[b8,d8,zA]}),r=Zk("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const o=x7(a.toString());o8(n,o,()=>o(n.currentUser)),a8(n,l=>o(l))}}const i=Qk("auth");return i&&Y$(n,`http://${i}`),n}function v7(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}q$({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=ui("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",v7().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});f7("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QA="firebasestorage.googleapis.com",j7="storageBucket",w7=2*60*1e3,b7=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi extends pr{constructor(e,n,r=0){super(wx(e),`Firebase Storage: ${n} (${wx(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,bi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return wx(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var xi;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(xi||(xi={}));function wx(t){return"storage/"+t}function N7(){const t="An unknown error occurred, please check the error payload for server response.";return new bi(xi.UNKNOWN,t)}function S7(){return new bi(xi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function _7(){return new bi(xi.CANCELED,"User canceled the upload/download.")}function C7(t){return new bi(xi.INVALID_URL,"Invalid URL '"+t+"'.")}function T7(t){return new bi(xi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function I1(t){return new bi(xi.INVALID_ARGUMENT,t)}function YA(){return new bi(xi.APP_DELETED,"The Firebase app was deleted.")}function E7(t){return new bi(xi.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Dr.makeFromUrl(e,n)}catch{return new Dr(e,"")}if(r.path==="")return r;throw T7(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function a(T){T.path.charAt(T.path.length-1)==="/"&&(T.path_=T.path_.slice(0,-1))}const o="(/(.*))?$",l=new RegExp("^gs://"+i+o,"i"),c={bucket:1,path:3};function u(T){T.path_=decodeURIComponent(T.path)}const h="v[A-Za-z0-9_]+",p=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",v=new RegExp(`^https?://${p}/${h}/b/${i}/o${f}`,"i"),_={bucket:1,path:3},j=n===QA?"(?:storage.googleapis.com|storage.cloud.google.com)":n,E="([^?#]*)",N=new RegExp(`^https?://${j}/${i}/${E}`,"i"),w=[{regex:l,indices:c,postModify:a},{regex:v,indices:_,postModify:u},{regex:N,indices:{bucket:1,path:2},postModify:u}];for(let T=0;T<w.length;T++){const O=w[T],U=O.regex.exec(e);if(U){const A=U[O.indices.bucket];let S=U[O.indices.path];S||(S=""),r=new Dr(A,S),O.postModify(r);break}}if(r==null)throw C7(e);return r}}class P7{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k7(t,e,n){let r=1,i=null,a=null,o=!1,l=0;function c(){return l===2}let u=!1;function h(...E){u||(u=!0,e.apply(null,E))}function p(E){i=setTimeout(()=>{i=null,t(v,c())},E)}function f(){a&&clearTimeout(a)}function v(E,...N){if(u){f();return}if(E){f(),h.call(null,E,...N);return}if(c()||o){f(),h.call(null,E,...N);return}r<64&&(r*=2);let w;l===1?(l=2,w=0):w=(r+Math.random())*1e3,p(w)}let _=!1;function j(E){_||(_=!0,f(),!u&&(i!==null?(E||(l=2),clearTimeout(i),p(0)):E||(l=1)))}return p(0),a=setTimeout(()=>{o=!0,j(!0)},n),j}function A7(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I7(t){return t!==void 0}function R1(t,e,n,r){if(r<e)throw I1(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw I1(`Invalid value for '${t}'. Expected ${n} or less.`)}function R7(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var qf;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(qf||(qf={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D7(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M7{constructor(e,n,r,i,a,o,l,c,u,h,p,f=!0,v=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=l,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=h,this.connectionFactory_=p,this.retry=f,this.isUsingEmulator=v,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((_,j)=>{this.resolve_=_,this.reject_=j,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Sm(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const o=l=>{const c=l.loaded,u=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&a.addUploadProgressListener(o),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(o),this.pendingConnection_=null;const l=a.getErrorCode()===qf.NO_ERROR,c=a.getStatus();if(!l||D7(c,this.additionalRetryCodes_)&&this.retry){const h=a.getErrorCode()===qf.ABORT;r(!1,new Sm(!1,null,h));return}const u=this.successCodes_.indexOf(c)!==-1;r(!0,new Sm(u,a))})},n=(r,i)=>{const a=this.resolve_,o=this.reject_,l=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());I7(c)?a(c):a()}catch(c){o(c)}else if(l!==null){const c=N7();c.serverResponse=l.getErrorText(),this.errorCallback_?o(this.errorCallback_(l,c)):o(c)}else if(i.canceled){const c=this.appDelete_?YA():_7();o(c)}else{const c=S7();o(c)}};this.canceled_?n(!1,new Sm(!1,null,!0)):this.backoffId_=k7(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&A7(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Sm{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function O7(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function F7(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function L7(t,e){e&&(t["X-Firebase-GMPID"]=e)}function U7(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function V7(t,e,n,r,i,a,o=!0,l=!1){const c=R7(t.urlParams),u=t.url+c,h=Object.assign({},t.headers);return L7(h,e),O7(h,n),F7(h,a),U7(h,r),new M7(u,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $7(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function z7(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(e,n){this._service=e,n instanceof Dr?this._location=n:this._location=Dr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Hf(e,n)}get root(){const e=new Dr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return z7(this._location.path)}get storage(){return this._service}get parent(){const e=$7(this._location.path);if(e===null)return null;const n=new Dr(this._location.bucket,e);return new Hf(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw E7(e)}}function D1(t,e){const n=e==null?void 0:e[j7];return n==null?null:Dr.makeFromBucketSpec(n,t)}function B7(t,e,n,r={}){t.host=`${e}:${n}`;const i=id(e);i&&(Wj(`https://${t.host}/b`),Kj("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:a}=r;a&&(t._overrideAuthToken=typeof a=="string"?a:Jk(a,t.app.options.projectId))}class q7{constructor(e,n,r,i,a,o=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=o,this._bucket=null,this._host=QA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=w7,this._maxUploadRetryTime=b7,this._requests=new Set,i!=null?this._bucket=Dr.makeFromBucketSpec(i,this._host):this._bucket=D1(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Dr.makeFromBucketSpec(this._url,e):this._bucket=D1(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){R1("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){R1("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Pr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Hf(this,e)}_makeRequest(e,n,r,i,a=!0){if(this._deleted)return new P7(YA());{const o=V7(e,this._appId,r,i,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const M1="@firebase/storage",O1="0.13.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XA="storage";function H7(t=$p(),e){t=gr(t);const r=po(t,XA).getImmediate({identifier:e}),i=Yk("storage");return i&&W7(r,...i),r}function W7(t,e,n,r={}){B7(t,e,n,r)}function K7(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new q7(n,r,i,e,vl)}function G7(){Br(new fr(XA,K7,"PUBLIC").setMultipleInstances(!0)),Ds(M1,O1,""),Ds(M1,O1,"esm2017")}G7();const ZA="@firebase/installations",d0="0.6.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JA=1e4,eI=`w:${d0}`,tI="FIS_v2",Q7="https://firebaseinstallations.googleapis.com/v1",Y7=60*60*1e3,X7="installations",Z7="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J7={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},al=new yl(X7,Z7,J7);function nI(t){return t instanceof pr&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sI({projectId:t}){return`${Q7}/projects/${t}/installations`}function rI(t){return{token:t.token,requestStatus:2,expiresIn:tz(t.expiresIn),creationTime:Date.now()}}async function iI(t,e){const r=(await e.json()).error;return al.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function aI({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function ez(t,{refreshToken:e}){const n=aI(t);return n.append("Authorization",nz(e)),n}async function oI(t){const e=await t();return e.status>=500&&e.status<600?t():e}function tz(t){return Number(t.replace("s","000"))}function nz(t){return`${tI} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sz({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=sI(t),i=aI(t),a=e.getImmediate({optional:!0});if(a){const u=await a.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={fid:n,authVersion:tI,appId:t.appId,sdkVersion:eI},l={method:"POST",headers:i,body:JSON.stringify(o)},c=await oI(()=>fetch(r,l));if(c.ok){const u=await c.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:rI(u.authToken)}}else throw await iI("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lI(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rz(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iz=/^[cdef][\w-]{21}$/,hv="";function az(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=oz(t);return iz.test(n)?n:hv}catch{return hv}}function oz(t){return rz(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qp(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI=new Map;function dI(t,e){const n=qp(t);uI(n,e),lz(n,e)}function uI(t,e){const n=cI.get(t);if(n)for(const r of n)r(e)}function lz(t,e){const n=cz();n&&n.postMessage({key:t,fid:e}),dz()}let Do=null;function cz(){return!Do&&"BroadcastChannel"in self&&(Do=new BroadcastChannel("[Firebase] FID Change"),Do.onmessage=t=>{uI(t.data.key,t.data.fid)}),Do}function dz(){cI.size===0&&Do&&(Do.close(),Do=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uz="firebase-installations-database",hz=1,ol="firebase-installations-store";let bx=null;function u0(){return bx||(bx=iA(uz,hz,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ol)}}})),bx}async function Wf(t,e){const n=qp(t),i=(await u0()).transaction(ol,"readwrite"),a=i.objectStore(ol),o=await a.get(n);return await a.put(e,n),await i.done,(!o||o.fid!==e.fid)&&dI(t,e.fid),e}async function hI(t){const e=qp(t),r=(await u0()).transaction(ol,"readwrite");await r.objectStore(ol).delete(e),await r.done}async function Hp(t,e){const n=qp(t),i=(await u0()).transaction(ol,"readwrite"),a=i.objectStore(ol),o=await a.get(n),l=e(o);return l===void 0?await a.delete(n):await a.put(l,n),await i.done,l&&(!o||o.fid!==l.fid)&&dI(t,l.fid),l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h0(t){let e;const n=await Hp(t.appConfig,r=>{const i=mz(r),a=fz(t,i);return e=a.registrationPromise,a.installationEntry});return n.fid===hv?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function mz(t){const e=t||{fid:az(),registrationStatus:0};return mI(e)}function fz(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(al.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=pz(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:gz(t)}:{installationEntry:e}}async function pz(t,e){try{const n=await sz(t,e);return Wf(t.appConfig,n)}catch(n){throw nI(n)&&n.customData.serverCode===409?await hI(t.appConfig):await Wf(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function gz(t){let e=await F1(t.appConfig);for(;e.registrationStatus===1;)await lI(100),e=await F1(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await h0(t);return r||n}return e}function F1(t){return Hp(t,e=>{if(!e)throw al.create("installation-not-found");return mI(e)})}function mI(t){return xz(t)?{fid:t.fid,registrationStatus:0}:t}function xz(t){return t.registrationStatus===1&&t.registrationTime+JA<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yz({appConfig:t,heartbeatServiceProvider:e},n){const r=vz(t,n),i=ez(t,n),a=e.getImmediate({optional:!0});if(a){const u=await a.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={installation:{sdkVersion:eI,appId:t.appId}},l={method:"POST",headers:i,body:JSON.stringify(o)},c=await oI(()=>fetch(r,l));if(c.ok){const u=await c.json();return rI(u)}else throw await iI("Generate Auth Token",c)}function vz(t,{fid:e}){return`${sI(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m0(t,e=!1){let n;const r=await Hp(t.appConfig,a=>{if(!fI(a))throw al.create("not-registered");const o=a.authToken;if(!e&&bz(o))return a;if(o.requestStatus===1)return n=jz(t,e),a;{if(!navigator.onLine)throw al.create("app-offline");const l=Sz(a);return n=wz(t,l),l}});return n?await n:r.authToken}async function jz(t,e){let n=await L1(t.appConfig);for(;n.authToken.requestStatus===1;)await lI(100),n=await L1(t.appConfig);const r=n.authToken;return r.requestStatus===0?m0(t,e):r}function L1(t){return Hp(t,e=>{if(!fI(e))throw al.create("not-registered");const n=e.authToken;return _z(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function wz(t,e){try{const n=await yz(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await Wf(t.appConfig,r),n}catch(n){if(nI(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await hI(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Wf(t.appConfig,r)}throw n}}function fI(t){return t!==void 0&&t.registrationStatus===2}function bz(t){return t.requestStatus===2&&!Nz(t)}function Nz(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+Y7}function Sz(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function _z(t){return t.requestStatus===1&&t.requestTime+JA<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cz(t){const e=t,{installationEntry:n,registrationPromise:r}=await h0(e);return r?r.catch(console.error):m0(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tz(t,e=!1){const n=t;return await Ez(n),(await m0(n,e)).token}async function Ez(t){const{registrationPromise:e}=await h0(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pz(t){if(!t||!t.options)throw Nx("App Configuration");if(!t.name)throw Nx("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Nx(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Nx(t){return al.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pI="installations",kz="installations-internal",Az=t=>{const e=t.getProvider("app").getImmediate(),n=Pz(e),r=po(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},Iz=t=>{const e=t.getProvider("app").getImmediate(),n=po(e,pI).getImmediate();return{getId:()=>Cz(n),getToken:i=>Tz(n,i)}};function Rz(){Br(new fr(pI,Az,"PUBLIC")),Br(new fr(kz,Iz,"PRIVATE"))}Rz();Ds(ZA,d0);Ds(ZA,d0,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kf="analytics",Dz="firebase_id",Mz="origin",Oz=60*1e3,Fz="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",f0="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ms=new Vp("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lz={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},qs=new yl("analytics","Analytics",Lz);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uz(t){if(!t.startsWith(f0)){const e=qs.create("invalid-gtag-resource",{gtagURL:t});return Ms.warn(e.message),""}return t}function gI(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function Vz(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function $z(t,e){const n=Vz("firebase-js-sdk-policy",{createScriptURL:Uz}),r=document.createElement("script"),i=`${f0}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function zz(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function Bz(t,e,n,r,i,a){const o=r[i];try{if(o)await e[o];else{const c=(await gI(n)).find(u=>u.measurementId===i);c&&await e[c.appId]}}catch(l){Ms.error(l)}t("config",i,a)}async function qz(t,e,n,r,i){try{let a=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const l=await gI(n);for(const c of o){const u=l.find(p=>p.measurementId===c),h=u&&e[u.appId];if(h)a.push(h);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),t("event",r,i||{})}catch(a){Ms.error(a)}}function Hz(t,e,n,r){async function i(a,...o){try{if(a==="event"){const[l,c]=o;await qz(t,e,n,l,c)}else if(a==="config"){const[l,c]=o;await Bz(t,e,n,r,l,c)}else if(a==="consent"){const[l,c]=o;t("consent",l,c)}else if(a==="get"){const[l,c,u]=o;t("get",l,c,u)}else if(a==="set"){const[l]=o;t("set",l)}else t(a,...o)}catch(l){Ms.error(l)}}return i}function Wz(t,e,n,r,i){let a=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(a=window[i]),window[i]=Hz(a,t,e,n),{gtagCore:a,wrappedGtag:window[i]}}function Kz(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(f0)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gz=30,Qz=1e3;class Yz{constructor(e={},n=Qz){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const xI=new Yz;function Xz(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function Zz(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:Xz(r)},a=Fz.replace("{app-id}",n),o=await fetch(a,i);if(o.status!==200&&o.status!==304){let l="";try{const c=await o.json();!((e=c.error)===null||e===void 0)&&e.message&&(l=c.error.message)}catch{}throw qs.create("config-fetch-failed",{httpStatus:o.status,responseMessage:l})}return o.json()}async function Jz(t,e=xI,n){const{appId:r,apiKey:i,measurementId:a}=t.options;if(!r)throw qs.create("no-app-id");if(!i){if(a)return{measurementId:a,appId:r};throw qs.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new nB;return setTimeout(async()=>{l.abort()},Oz),yI({appId:r,apiKey:i,measurementId:a},o,l,e)}async function yI(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=xI){var a;const{appId:o,measurementId:l}=t;try{await eB(r,e)}catch(c){if(l)return Ms.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:l};throw c}try{const c=await Zz(t);return i.deleteThrottleMetadata(o),c}catch(c){const u=c;if(!tB(u)){if(i.deleteThrottleMetadata(o),l)return Ms.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:l};throw c}const h=Number((a=u==null?void 0:u.customData)===null||a===void 0?void 0:a.httpStatus)===503?zN(n,i.intervalMillis,Gz):zN(n,i.intervalMillis),p={throttleEndTimeMillis:Date.now()+h,backoffCount:n+1};return i.setThrottleMetadata(o,p),Ms.debug(`Calling attemptFetch again in ${h} millis`),yI(t,p,r,i)}}function eB(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),a=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(a),r(qs.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function tB(t){if(!(t instanceof pr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class nB{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function sB(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const a=await e,o=Object.assign(Object.assign({},r),{send_to:a});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rB(){if(tA())try{await nA()}catch(t){return Ms.warn(qs.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Ms.warn(qs.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function iB(t,e,n,r,i,a,o){var l;const c=Jz(t);c.then(v=>{n[v.measurementId]=v.appId,t.options.measurementId&&v.measurementId!==t.options.measurementId&&Ms.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${v.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(v=>Ms.error(v)),e.push(c);const u=rB().then(v=>{if(v)return r.getId()}),[h,p]=await Promise.all([c,u]);Kz(a)||$z(a,h.measurementId),i("js",new Date);const f=(l=o==null?void 0:o.config)!==null&&l!==void 0?l:{};return f[Mz]="firebase",f.update=!0,p!=null&&(f[Dz]=p),i("config",h.measurementId,f),h.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aB{constructor(e){this.app=e}_delete(){return delete pu[this.app.options.appId],Promise.resolve()}}let pu={},U1=[];const V1={};let Sx="dataLayer",oB="gtag",$1,vI,z1=!1;function lB(){const t=[];if(eA()&&t.push("This is a browser extension environment."),vU()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=qs.create("invalid-analytics-context",{errorInfo:e});Ms.warn(n.message)}}function cB(t,e,n){lB();const r=t.options.appId;if(!r)throw qs.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Ms.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw qs.create("no-api-key");if(pu[r]!=null)throw qs.create("already-exists",{id:r});if(!z1){zz(Sx);const{wrappedGtag:a,gtagCore:o}=Wz(pu,U1,V1,Sx,oB);vI=a,$1=o,z1=!0}return pu[r]=iB(t,U1,V1,e,$1,Sx,n),new aB(t)}function dB(t=$p()){t=gr(t);const e=po(t,Kf);return e.isInitialized()?e.getImmediate():uB(t)}function uB(t,e={}){const n=po(t,Kf);if(n.isInitialized()){const i=n.getImmediate();if(eo(e,n.getOptions()))return i;throw qs.create("already-initialized")}return n.initialize({options:e})}function hB(t,e,n,r){t=gr(t),sB(vI,pu[t.app.options.appId],e,n,r).catch(i=>Ms.error(i))}const B1="@firebase/analytics",q1="0.10.17";function mB(){Br(new fr(Kf,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return cB(r,i,n)},"PUBLIC")),Br(new fr("analytics-internal",t,"PRIVATE")),Ds(B1,q1),Ds(B1,q1,"esm2017");function t(e){try{const n=e.getProvider(Kf).getImmediate();return{logEvent:(r,i,a)=>hB(n,r,i,a)}}catch(n){throw qs.create("interop-component-reg-failed",{reason:n})}}}mB();const fB={apiKey:void 0,authDomain:"vibestrat.firebaseapp.com",projectId:void 0,storageBucket:"vibestrat.firebasestorage.app",messagingSenderId:"749470346923",appId:void 0,measurementId:"G-2VTTNG9386"},Wp=aA(fB);m$(Wp);const to=y7(Wp);H7(Wp);typeof window<"u"&&dB(Wp);async function jI(t){if(!t.ok){const e=await t.text()||t.statusText;throw console.error("🚨 API Request Failed:",{status:t.status,statusText:t.statusText,responseText:e}),new Error(`${t.status}: ${e}`)}}async function wI(){const t={};if(to.currentUser)try{const e=await to.currentUser.getIdToken();t.Authorization=`Bearer ${e}`}catch(e){console.warn("Failed to get Firebase token:",e)}return t}async function Be(t,e,n){const r=await wI();if(console.log("🔧 API Request Debug:",{method:t,url:e,hasAuthHeaders:Object.keys(r).length>0,authHeaders:r,hasFirebaseUser:!!to.currentUser,data:n}),t==="POST"&&e.includes("/api/admin/")){console.log("🧪 Testing server connectivity for admin POST...");try{const o=await fetch("/api/test-post",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({test:"connectivity"})});console.log("🧪 Test response:",{status:o.status,ok:o.ok,contentType:o.headers.get("content-type")});const l=await o.text();console.log("🧪 Test response body (first 200 chars):",l.substring(0,200))}catch(o){console.error("🧪 Test failed:",o)}}const i=n instanceof FormData,a=await fetch(e,{method:t,headers:{...n&&!i?{"Content-Type":"application/json"}:{},...r},body:i?n:n?JSON.stringify(n):void 0,credentials:"include"});return console.log("🔧 API Response:",{status:a.status,statusText:a.statusText,ok:a.ok}),await jI(a),a}const pB=({on401:t})=>async({queryKey:e})=>{const n=await wI(),r=await fetch(e[0],{credentials:"include",headers:n});return t==="returnNull"&&r.status===401?null:(await jI(r),await r.json())},uc=new $9({defaultOptions:{queries:{queryFn:pB({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),gB=1,xB=1e6;let _x=0;function yB(){return _x=(_x+1)%Number.MAX_SAFE_INTEGER,_x.toString()}const Cx=new Map,H1=t=>{if(Cx.has(t))return;const e=setTimeout(()=>{Cx.delete(t),gu({type:"REMOVE_TOAST",toastId:t})},xB);Cx.set(t,e)},vB=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,gB)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?H1(n):t.toasts.forEach(r=>{H1(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Jm=[];let ef={toasts:[]};function gu(t){ef=vB(ef,t),Jm.forEach(e=>{e(ef)})}function jB({...t}){const e=yB(),n=i=>gu({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>gu({type:"DISMISS_TOAST",toastId:e});return gu({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function xn(){const[t,e]=m.useState(ef);return m.useEffect(()=>(Jm.push(e),()=>{const n=Jm.indexOf(e);n>-1&&Jm.splice(n,1)}),[t]),{...t,toast:jB,dismiss:n=>gu({type:"DISMISS_TOAST",toastId:n})}}function Te(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function W1(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Kp(...t){return e=>{let n=!1;const r=t.map(i=>{const a=W1(i,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():W1(t[i],null)}}}}function ft(...t){return m.useCallback(Kp(...t),t)}function wB(t,e){const n=m.createContext(e),r=a=>{const{children:o,...l}=a,c=m.useMemo(()=>l,Object.values(l));return s.jsx(n.Provider,{value:c,children:o})};r.displayName=t+"Provider";function i(a){const o=m.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${t}\``)}return[r,i]}function os(t,e=[]){let n=[];function r(a,o){const l=m.createContext(o),c=n.length;n=[...n,o];const u=p=>{var N;const{scope:f,children:v,..._}=p,j=((N=f==null?void 0:f[t])==null?void 0:N[c])||l,E=m.useMemo(()=>_,Object.values(_));return s.jsx(j.Provider,{value:E,children:v})};u.displayName=a+"Provider";function h(p,f){var j;const v=((j=f==null?void 0:f[t])==null?void 0:j[c])||l,_=m.useContext(v);if(_)return _;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${a}\``)}return[u,h]}const i=()=>{const a=n.map(o=>m.createContext(o));return function(l){const c=(l==null?void 0:l[t])||a;return m.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return i.scopeName=t,[r,bB(i,...e)]}function bB(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=r.reduce((l,{useScope:c,scopeName:u})=>{const p=c(a)[`__scope${u}`];return{...l,...p}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function no(t){const e=NB(t),n=m.forwardRef((r,i)=>{const{children:a,...o}=r,l=m.Children.toArray(a),c=l.find(SB);if(c){const u=c.props.children,h=l.map(p=>p===c?m.Children.count(u)>1?m.Children.only(null):m.isValidElement(u)?u.props.children:null:p);return s.jsx(e,{...o,ref:i,children:m.isValidElement(u)?m.cloneElement(u,void 0,h):null})}return s.jsx(e,{...o,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}var bI=no("Slot");function NB(t){const e=m.forwardRef((n,r)=>{const{children:i,...a}=n;if(m.isValidElement(i)){const o=CB(i),l=_B(a,i.props);return i.type!==m.Fragment&&(l.ref=r?Kp(r,o):o),m.cloneElement(i,l)}return m.Children.count(i)>1?m.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var NI=Symbol("radix.slottable");function SI(t){const e=({children:n})=>s.jsx(s.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=NI,e}function SB(t){return m.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===NI}function _B(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...l)=>{a(...l),i(...l)}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function CB(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Gp(t){const e=t+"CollectionProvider",[n,r]=os(e),[i,a]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=j=>{const{scope:E,children:N}=j,y=pt.useRef(null),w=pt.useRef(new Map).current;return s.jsx(i,{scope:E,itemMap:w,collectionRef:y,children:N})};o.displayName=e;const l=t+"CollectionSlot",c=no(l),u=pt.forwardRef((j,E)=>{const{scope:N,children:y}=j,w=a(l,N),T=ft(E,w.collectionRef);return s.jsx(c,{ref:T,children:y})});u.displayName=l;const h=t+"CollectionItemSlot",p="data-radix-collection-item",f=no(h),v=pt.forwardRef((j,E)=>{const{scope:N,children:y,...w}=j,T=pt.useRef(null),O=ft(E,T),U=a(h,N);return pt.useEffect(()=>(U.itemMap.set(T,{ref:T,...w}),()=>void U.itemMap.delete(T))),s.jsx(f,{[p]:"",ref:O,children:y})});v.displayName=h;function _(j){const E=a(t+"CollectionConsumer",j);return pt.useCallback(()=>{const y=E.collectionRef.current;if(!y)return[];const w=Array.from(y.querySelectorAll(`[${p}]`));return Array.from(E.itemMap.values()).sort((U,A)=>w.indexOf(U.ref.current)-w.indexOf(A.ref.current))},[E.collectionRef,E.itemMap])}return[{Provider:o,Slot:u,ItemSlot:v},_,r]}var TB=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ye=TB.reduce((t,e)=>{const n=no(`Primitive.${e}`),r=m.forwardRef((i,a)=>{const{asChild:o,...l}=i,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:a})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function p0(t,e){t&&xl.flushSync(()=>t.dispatchEvent(e))}function tn(t){const e=m.useRef(t);return m.useEffect(()=>{e.current=t}),m.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function EB(t,e=globalThis==null?void 0:globalThis.document){const n=tn(t);m.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var PB="DismissableLayer",mv="dismissableLayer.update",kB="dismissableLayer.pointerDownOutside",AB="dismissableLayer.focusOutside",K1,_I=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),wl=m.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:l,...c}=t,u=m.useContext(_I),[h,p]=m.useState(null),f=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,v]=m.useState({}),_=ft(e,A=>p(A)),j=Array.from(u.layers),[E]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),N=j.indexOf(E),y=h?j.indexOf(h):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,T=y>=N,O=RB(A=>{const S=A.target,g=[...u.branches].some(k=>k.contains(S));!T||g||(i==null||i(A),o==null||o(A),A.defaultPrevented||l==null||l())},f),U=DB(A=>{const S=A.target;[...u.branches].some(k=>k.contains(S))||(a==null||a(A),o==null||o(A),A.defaultPrevented||l==null||l())},f);return EB(A=>{y===u.layers.size-1&&(r==null||r(A),!A.defaultPrevented&&l&&(A.preventDefault(),l()))},f),m.useEffect(()=>{if(h)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(K1=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(h)),u.layers.add(h),G1(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=K1)}},[h,f,n,u]),m.useEffect(()=>()=>{h&&(u.layers.delete(h),u.layersWithOutsidePointerEventsDisabled.delete(h),G1())},[h,u]),m.useEffect(()=>{const A=()=>v({});return document.addEventListener(mv,A),()=>document.removeEventListener(mv,A)},[]),s.jsx(Ye.div,{...c,ref:_,style:{pointerEvents:w?T?"auto":"none":void 0,...t.style},onFocusCapture:Te(t.onFocusCapture,U.onFocusCapture),onBlurCapture:Te(t.onBlurCapture,U.onBlurCapture),onPointerDownCapture:Te(t.onPointerDownCapture,O.onPointerDownCapture)})});wl.displayName=PB;var IB="DismissableLayerBranch",CI=m.forwardRef((t,e)=>{const n=m.useContext(_I),r=m.useRef(null),i=ft(e,r);return m.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),s.jsx(Ye.div,{...t,ref:i})});CI.displayName=IB;function RB(t,e=globalThis==null?void 0:globalThis.document){const n=tn(t),r=m.useRef(!1),i=m.useRef(()=>{});return m.useEffect(()=>{const a=l=>{if(l.target&&!r.current){let c=function(){TI(kB,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=c,e.addEventListener("click",i.current,{once:!0})):c()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function DB(t,e=globalThis==null?void 0:globalThis.document){const n=tn(t),r=m.useRef(!1);return m.useEffect(()=>{const i=a=>{a.target&&!r.current&&TI(AB,n,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function G1(){const t=new CustomEvent(mv);document.dispatchEvent(t)}function TI(t,e,n,{discrete:r}){const i=n.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?p0(i,a):i.dispatchEvent(a)}var MB=wl,OB=CI,Rn=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},FB="Portal",ad=m.forwardRef((t,e)=>{var l;const{container:n,...r}=t,[i,a]=m.useState(!1);Rn(()=>a(!0),[]);const o=n||i&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?Y6.createPortal(s.jsx(Ye.div,{...r,ref:e}),o):null});ad.displayName=FB;function LB(t,e){return m.useReducer((n,r)=>e[n][r]??n,t)}var qn=t=>{const{present:e,children:n}=t,r=UB(e),i=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),a=ft(r.ref,VB(i));return typeof n=="function"||r.isPresent?m.cloneElement(i,{ref:a}):null};qn.displayName="Presence";function UB(t){const[e,n]=m.useState(),r=m.useRef({}),i=m.useRef(t),a=m.useRef("none"),o=t?"mounted":"unmounted",[l,c]=LB(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const u=_m(r.current);a.current=l==="mounted"?u:"none"},[l]),Rn(()=>{const u=r.current,h=i.current;if(h!==t){const f=a.current,v=_m(u);t?c("MOUNT"):v==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(h&&f!==v?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,c]),Rn(()=>{if(e){let u;const h=e.ownerDocument.defaultView??window,p=v=>{const j=_m(r.current).includes(v.animationName);if(v.target===e&&j&&(c("ANIMATION_END"),!i.current)){const E=e.style.animationFillMode;e.style.animationFillMode="forwards",u=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=E)})}},f=v=>{v.target===e&&(a.current=_m(r.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",p),e.addEventListener("animationend",p),()=>{h.clearTimeout(u),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",p),e.removeEventListener("animationend",p)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:m.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function _m(t){return(t==null?void 0:t.animationName)||"none"}function VB(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function yi({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=$B({defaultProp:e,onChange:n}),a=t!==void 0,o=a?t:r,l=tn(n),c=m.useCallback(u=>{if(a){const p=typeof u=="function"?u(t):u;p!==t&&l(p)}else i(u)},[a,t,i,l]);return[o,c]}function $B({defaultProp:t,onChange:e}){const n=m.useState(t),[r]=n,i=m.useRef(r),a=tn(e);return m.useEffect(()=>{i.current!==r&&(a(r),i.current=r)},[r,i,a]),n}var zB="VisuallyHidden",bh=m.forwardRef((t,e)=>s.jsx(Ye.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));bh.displayName=zB;var BB=bh,g0="ToastProvider",[x0,qB,HB]=Gp("Toast"),[EI,ane]=os("Toast",[HB]),[WB,Qp]=EI(g0),PI=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:o}=t,[l,c]=m.useState(null),[u,h]=m.useState(0),p=m.useRef(!1),f=m.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${g0}\`. Expected non-empty \`string\`.`),s.jsx(x0.Provider,{scope:e,children:s.jsx(WB,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:a,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:m.useCallback(()=>h(v=>v+1),[]),onToastRemove:m.useCallback(()=>h(v=>v-1),[]),isFocusedToastEscapeKeyDownRef:p,isClosePausedRef:f,children:o})})};PI.displayName=g0;var kI="ToastViewport",KB=["F8"],fv="toast.viewportPause",pv="toast.viewportResume",AI=m.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=KB,label:i="Notifications ({hotkey})",...a}=t,o=Qp(kI,n),l=qB(n),c=m.useRef(null),u=m.useRef(null),h=m.useRef(null),p=m.useRef(null),f=ft(e,p,o.onViewportChange),v=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),_=o.toastCount>0;m.useEffect(()=>{const E=N=>{var w;r.length!==0&&r.every(T=>N[T]||N.code===T)&&((w=p.current)==null||w.focus())};return document.addEventListener("keydown",E),()=>document.removeEventListener("keydown",E)},[r]),m.useEffect(()=>{const E=c.current,N=p.current;if(_&&E&&N){const y=()=>{if(!o.isClosePausedRef.current){const U=new CustomEvent(fv);N.dispatchEvent(U),o.isClosePausedRef.current=!0}},w=()=>{if(o.isClosePausedRef.current){const U=new CustomEvent(pv);N.dispatchEvent(U),o.isClosePausedRef.current=!1}},T=U=>{!E.contains(U.relatedTarget)&&w()},O=()=>{E.contains(document.activeElement)||w()};return E.addEventListener("focusin",y),E.addEventListener("focusout",T),E.addEventListener("pointermove",y),E.addEventListener("pointerleave",O),window.addEventListener("blur",y),window.addEventListener("focus",w),()=>{E.removeEventListener("focusin",y),E.removeEventListener("focusout",T),E.removeEventListener("pointermove",y),E.removeEventListener("pointerleave",O),window.removeEventListener("blur",y),window.removeEventListener("focus",w)}}},[_,o.isClosePausedRef]);const j=m.useCallback(({tabbingDirection:E})=>{const y=l().map(w=>{const T=w.ref.current,O=[T,...aq(T)];return E==="forwards"?O:O.reverse()});return(E==="forwards"?y.reverse():y).flat()},[l]);return m.useEffect(()=>{const E=p.current;if(E){const N=y=>{var O,U,A;const w=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!w){const S=document.activeElement,g=y.shiftKey;if(y.target===E&&g){(O=u.current)==null||O.focus();return}const I=j({tabbingDirection:g?"backwards":"forwards"}),R=I.findIndex(Q=>Q===S);Tx(I.slice(R+1))?y.preventDefault():g?(U=u.current)==null||U.focus():(A=h.current)==null||A.focus()}};return E.addEventListener("keydown",N),()=>E.removeEventListener("keydown",N)}},[l,j]),s.jsxs(OB,{ref:c,role:"region","aria-label":i.replace("{hotkey}",v),tabIndex:-1,style:{pointerEvents:_?void 0:"none"},children:[_&&s.jsx(gv,{ref:u,onFocusFromOutsideViewport:()=>{const E=j({tabbingDirection:"forwards"});Tx(E)}}),s.jsx(x0.Slot,{scope:n,children:s.jsx(Ye.ol,{tabIndex:-1,...a,ref:f})}),_&&s.jsx(gv,{ref:h,onFocusFromOutsideViewport:()=>{const E=j({tabbingDirection:"backwards"});Tx(E)}})]})});AI.displayName=kI;var II="ToastFocusProxy",gv=m.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,a=Qp(II,n);return s.jsx(bh,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=a.viewport)!=null&&u.contains(l))&&r()}})});gv.displayName=II;var Yp="Toast",GB="toast.swipeStart",QB="toast.swipeMove",YB="toast.swipeCancel",XB="toast.swipeEnd",RI=m.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:a,...o}=t,[l=!0,c]=yi({prop:r,defaultProp:i,onChange:a});return s.jsx(qn,{present:n||l,children:s.jsx(eq,{open:l,...o,ref:e,onClose:()=>c(!1),onPause:tn(t.onPause),onResume:tn(t.onResume),onSwipeStart:Te(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Te(t.onSwipeMove,u=>{const{x:h,y:p}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${p}px`)}),onSwipeCancel:Te(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Te(t.onSwipeEnd,u=>{const{x:h,y:p}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${p}px`),c(!1)})})})});RI.displayName=Yp;var[ZB,JB]=EI(Yp,{onClose(){}}),eq=m.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:a,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:h,onSwipeMove:p,onSwipeCancel:f,onSwipeEnd:v,..._}=t,j=Qp(Yp,n),[E,N]=m.useState(null),y=ft(e,Q=>N(Q)),w=m.useRef(null),T=m.useRef(null),O=i||j.duration,U=m.useRef(0),A=m.useRef(O),S=m.useRef(0),{onToastAdd:g,onToastRemove:k}=j,P=tn(()=>{var Ne;(E==null?void 0:E.contains(document.activeElement))&&((Ne=j.viewport)==null||Ne.focus()),o()}),I=m.useCallback(Q=>{!Q||Q===1/0||(window.clearTimeout(S.current),U.current=new Date().getTime(),S.current=window.setTimeout(P,Q))},[P]);m.useEffect(()=>{const Q=j.viewport;if(Q){const Ne=()=>{I(A.current),u==null||u()},de=()=>{const K=new Date().getTime()-U.current;A.current=A.current-K,window.clearTimeout(S.current),c==null||c()};return Q.addEventListener(fv,de),Q.addEventListener(pv,Ne),()=>{Q.removeEventListener(fv,de),Q.removeEventListener(pv,Ne)}}},[j.viewport,O,c,u,I]),m.useEffect(()=>{a&&!j.isClosePausedRef.current&&I(O)},[a,O,j.isClosePausedRef,I]),m.useEffect(()=>(g(),()=>k()),[g,k]);const R=m.useMemo(()=>E?VI(E):null,[E]);return j.viewport?s.jsxs(s.Fragment,{children:[R&&s.jsx(tq,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:R}),s.jsx(ZB,{scope:n,onClose:P,children:xl.createPortal(s.jsx(x0.ItemSlot,{scope:n,children:s.jsx(MB,{asChild:!0,onEscapeKeyDown:Te(l,()=>{j.isFocusedToastEscapeKeyDownRef.current||P(),j.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(Ye.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":j.swipeDirection,..._,ref:y,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Te(t.onKeyDown,Q=>{Q.key==="Escape"&&(l==null||l(Q.nativeEvent),Q.nativeEvent.defaultPrevented||(j.isFocusedToastEscapeKeyDownRef.current=!0,P()))}),onPointerDown:Te(t.onPointerDown,Q=>{Q.button===0&&(w.current={x:Q.clientX,y:Q.clientY})}),onPointerMove:Te(t.onPointerMove,Q=>{if(!w.current)return;const Ne=Q.clientX-w.current.x,de=Q.clientY-w.current.y,K=!!T.current,F=["left","right"].includes(j.swipeDirection),z=["left","up"].includes(j.swipeDirection)?Math.min:Math.max,W=F?z(0,Ne):0,se=F?0:z(0,de),Ce=Q.pointerType==="touch"?10:2,Me={x:W,y:se},q={originalEvent:Q,delta:Me};K?(T.current=Me,Cm(QB,p,q,{discrete:!1})):Q1(Me,j.swipeDirection,Ce)?(T.current=Me,Cm(GB,h,q,{discrete:!1}),Q.target.setPointerCapture(Q.pointerId)):(Math.abs(Ne)>Ce||Math.abs(de)>Ce)&&(w.current=null)}),onPointerUp:Te(t.onPointerUp,Q=>{const Ne=T.current,de=Q.target;if(de.hasPointerCapture(Q.pointerId)&&de.releasePointerCapture(Q.pointerId),T.current=null,w.current=null,Ne){const K=Q.currentTarget,F={originalEvent:Q,delta:Ne};Q1(Ne,j.swipeDirection,j.swipeThreshold)?Cm(XB,v,F,{discrete:!0}):Cm(YB,f,F,{discrete:!0}),K.addEventListener("click",z=>z.preventDefault(),{once:!0})}})})})}),j.viewport)})]}):null}),tq=t=>{const{__scopeToast:e,children:n,...r}=t,i=Qp(Yp,e),[a,o]=m.useState(!1),[l,c]=m.useState(!1);return rq(()=>o(!0)),m.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:s.jsx(ad,{asChild:!0,children:s.jsx(bh,{...r,children:a&&s.jsxs(s.Fragment,{children:[i.label," ",n]})})})},nq="ToastTitle",DI=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return s.jsx(Ye.div,{...r,ref:e})});DI.displayName=nq;var sq="ToastDescription",MI=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return s.jsx(Ye.div,{...r,ref:e})});MI.displayName=sq;var OI="ToastAction",FI=m.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?s.jsx(UI,{altText:n,asChild:!0,children:s.jsx(y0,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${OI}\`. Expected non-empty \`string\`.`),null)});FI.displayName=OI;var LI="ToastClose",y0=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=JB(LI,n);return s.jsx(UI,{asChild:!0,children:s.jsx(Ye.button,{type:"button",...r,ref:e,onClick:Te(t.onClick,i.onClose)})})});y0.displayName=LI;var UI=m.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return s.jsx(Ye.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function VI(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),iq(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",a=r.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...VI(r))}}),e}function Cm(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,a=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?p0(i,a):i.dispatchEvent(a)}var Q1=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),a=r>i;return e==="left"||e==="right"?a&&r>n:!a&&i>n};function rq(t=()=>{}){const e=tn(t);Rn(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function iq(t){return t.nodeType===t.ELEMENT_NODE}function aq(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Tx(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var oq=PI,$I=AI,zI=RI,BI=DI,qI=MI,HI=FI,WI=y0;function KI(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=KI(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function GI(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=KI(t))&&(r&&(r+=" "),r+=e);return r}const Y1=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,X1=GI,Nh=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return X1(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:a}=e,o=Object.keys(i).map(u=>{const h=n==null?void 0:n[u],p=a==null?void 0:a[u];if(h===null)return null;const f=Y1(h)||Y1(p);return i[u][f]}),l=n&&Object.entries(n).reduce((u,h)=>{let[p,f]=h;return f===void 0||(u[p]=f),u},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,h)=>{let{class:p,className:f,...v}=h;return Object.entries(v).every(_=>{let[j,E]=_;return Array.isArray(E)?E.includes({...a,...l}[j]):{...a,...l}[j]===E})?[...u,p,f]:u},[]);return X1(t,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lq=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),QI=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var cq={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dq=m.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:o,...l},c)=>m.createElement("svg",{ref:c,...cq,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:QI("lucide",i),...l},[...o.map(([u,h])=>m.createElement(u,h)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=(t,e)=>{const n=m.forwardRef(({className:r,...i},a)=>m.createElement(dq,{ref:a,iconNode:e,className:QI(`lucide-${lq(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uq=Pe("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v0=Pe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qo=Pe("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hq=Pe("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xv=Pe("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vs=Pe("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ss=Pe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mq=Pe("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YI=Pe("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fq=Pe("ChartNoAxesColumnIncreasing",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j0=Pe("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ts=Pe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w0=Pe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pq=Pe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b0=Pe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XI=Pe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ai=Pe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ur=Pe("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tf=Pe("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gq=Pe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xq=Pe("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hs=Pe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yq=Pe("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZI=Pe("Construction",[["rect",{x:"2",y:"6",width:"20",height:"8",rx:"1",key:"1estib"}],["path",{d:"M17 14v7",key:"7m2elx"}],["path",{d:"M7 14v7",key:"1cm7wv"}],["path",{d:"M17 3v3",key:"1v4jwn"}],["path",{d:"M7 3v3",key:"7o6guu"}],["path",{d:"M10 14 2.3 6.3",key:"1023jk"}],["path",{d:"m14 6 7.7 7.7",key:"1s8pl2"}],["path",{d:"m8 6 8 8",key:"hl96qh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vq=Pe("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z1=Pe("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dr=Pe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hc=Pe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jq=Pe("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gd=Pe("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JI=Pe("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ex=Pe("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nn=Pe("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wq=Pe("Fence",[["path",{d:"M4 3 2 5v15c0 .6.4 1 1 1h2c.6 0 1-.4 1-1V5Z",key:"1n2rgs"}],["path",{d:"M6 8h4",key:"utf9t1"}],["path",{d:"M6 18h4",key:"12yh4b"}],["path",{d:"m12 3-2 2v15c0 .6.4 1 1 1h2c.6 0 1-.4 1-1V5Z",key:"3ha7mj"}],["path",{d:"M14 8h4",key:"1r8wg2"}],["path",{d:"M14 18h4",key:"1t3kbu"}],["path",{d:"m20 3-2 2v15c0 .6.4 1 1 1h2c.6 0 1-.4 1-1V5Z",key:"dfd4e2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J1=Pe("FileImage",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vt=Pe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eS=Pe("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bq=Pe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tS=Pe("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ol=Pe("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nq=Pe("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nS=Pe("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sh=Pe("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sS=Pe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vu=Pe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sq=Pe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const od=Pe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xp=Pe("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hc=Pe("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _q=Pe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xl=Pe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Px=Pe("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cq=Pe("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tq=Pe("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N0=Pe("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const en=Pe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eq=Pe("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kx=Pe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pq=Pe("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yv=Pe("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gf=Pe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eR=Pe("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mo=Pe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Es=Pe("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vv=Pe("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rS=Pe("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=Pe("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ax=Pe("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ix=Pe("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Un=Pe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kq=Pe("Trees",[["path",{d:"M10 10v.2A3 3 0 0 1 8.9 16H5a3 3 0 0 1-1-5.8V10a3 3 0 0 1 6 0Z",key:"1l6gj6"}],["path",{d:"M7 16v6",key:"1a82de"}],["path",{d:"M13 19v3",key:"13sx9i"}],["path",{d:"M12 19h8.3a1 1 0 0 0 .7-1.7L18 14h.3a1 1 0 0 0 .7-1.7L16 9h.2a1 1 0 0 0 .8-1.7L13 3l-1.4 1.5",key:"1sj9kv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jv=Pe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S0=Pe("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mc=Pe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tR=Pe("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nR=Pe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $s=Pe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sR=Pe("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aq=Pe("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oi=Pe("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mi=Pe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rR=Pe("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),_0="-",Iq=t=>{const e=Dq(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const l=o.split(_0);return l[0]===""&&l.length!==1&&l.shift(),iR(l,e)||Rq(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&r[o]?[...c,...r[o]]:c}}},iR=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?iR(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const a=t.join(_0);return(o=e.validators.find(({validator:l})=>l(a)))==null?void 0:o.classGroupId},iS=/^\[(.+)\]$/,Rq=t=>{if(iS.test(t)){const e=iS.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},Dq=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return Oq(Object.entries(t.classGroups),n).forEach(([a,o])=>{wv(o,r,a,e)}),r},wv=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const a=i===""?e:aS(e,i);a.classGroupId=n;return}if(typeof i=="function"){if(Mq(i)){wv(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([a,o])=>{wv(o,aS(e,a),n,r)})})},aS=(t,e)=>{let n=t;return e.split(_0).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},Mq=t=>t.isThemeGetter,Oq=(t,e)=>e?t.map(([n,r])=>{const i=r.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,l])=>[e+o,l])):a);return[n,i]}):t,Fq=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(a,o)=>{n.set(a,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(a){let o=n.get(a);if(o!==void 0)return o;if((o=r.get(a))!==void 0)return i(a,o),o},set(a,o){n.has(a)?n.set(a,o):i(a,o)}}},aR="!",Lq=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],a=e.length,o=l=>{const c=[];let u=0,h=0,p;for(let E=0;E<l.length;E++){let N=l[E];if(u===0){if(N===i&&(r||l.slice(E,E+a)===e)){c.push(l.slice(h,E)),h=E+a;continue}if(N==="/"){p=E;continue}}N==="["?u++:N==="]"&&u--}const f=c.length===0?l:l.substring(h),v=f.startsWith(aR),_=v?f.substring(1):f,j=p&&p>h?p-h:void 0;return{modifiers:c,hasImportantModifier:v,baseClassName:_,maybePostfixModifierPosition:j}};return n?l=>n({className:l,parseClassName:o}):o},Uq=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},Vq=t=>({cache:Fq(t.cacheSize),parseClassName:Lq(t),...Iq(t)}),$q=/\s+/,zq=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,a=[],o=t.trim().split($q);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:h,hasImportantModifier:p,baseClassName:f,maybePostfixModifierPosition:v}=n(u);let _=!!v,j=r(_?f.substring(0,v):f);if(!j){if(!_){l=u+(l.length>0?" "+l:l);continue}if(j=r(f),!j){l=u+(l.length>0?" "+l:l);continue}_=!1}const E=Uq(h).join(":"),N=p?E+aR:E,y=N+j;if(a.includes(y))continue;a.push(y);const w=i(j,_);for(let T=0;T<w.length;++T){const O=w[T];a.push(N+O)}l=u+(l.length>0?" "+l:l)}return l};function Bq(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=oR(e))&&(r&&(r+=" "),r+=n);return r}const oR=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=oR(t[r]))&&(n&&(n+=" "),n+=e);return n};function qq(t,...e){let n,r,i,a=o;function o(c){const u=e.reduce((h,p)=>p(h),t());return n=Vq(u),r=n.cache.get,i=n.cache.set,a=l,l(c)}function l(c){const u=r(c);if(u)return u;const h=zq(c,n);return i(c,h),h}return function(){return a(Bq.apply(null,arguments))}}const Wt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},lR=/^\[(?:([a-z-]+):)?(.+)\]$/i,Hq=/^\d+\/\d+$/,Wq=new Set(["px","full","screen"]),Kq=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Gq=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Qq=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Yq=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Xq=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ai=t=>fc(t)||Wq.has(t)||Hq.test(t),pa=t=>ld(t,"length",iH),fc=t=>!!t&&!Number.isNaN(Number(t)),Rx=t=>ld(t,"number",fc),Fd=t=>!!t&&Number.isInteger(Number(t)),Zq=t=>t.endsWith("%")&&fc(t.slice(0,-1)),yt=t=>lR.test(t),ga=t=>Kq.test(t),Jq=new Set(["length","size","percentage"]),eH=t=>ld(t,Jq,cR),tH=t=>ld(t,"position",cR),nH=new Set(["image","url"]),sH=t=>ld(t,nH,oH),rH=t=>ld(t,"",aH),Ld=()=>!0,ld=(t,e,n)=>{const r=lR.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},iH=t=>Gq.test(t)&&!Qq.test(t),cR=()=>!1,aH=t=>Yq.test(t),oH=t=>Xq.test(t),lH=()=>{const t=Wt("colors"),e=Wt("spacing"),n=Wt("blur"),r=Wt("brightness"),i=Wt("borderColor"),a=Wt("borderRadius"),o=Wt("borderSpacing"),l=Wt("borderWidth"),c=Wt("contrast"),u=Wt("grayscale"),h=Wt("hueRotate"),p=Wt("invert"),f=Wt("gap"),v=Wt("gradientColorStops"),_=Wt("gradientColorStopPositions"),j=Wt("inset"),E=Wt("margin"),N=Wt("opacity"),y=Wt("padding"),w=Wt("saturate"),T=Wt("scale"),O=Wt("sepia"),U=Wt("skew"),A=Wt("space"),S=Wt("translate"),g=()=>["auto","contain","none"],k=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto",yt,e],I=()=>[yt,e],R=()=>["",Ai,pa],Q=()=>["auto",fc,yt],Ne=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],de=()=>["solid","dashed","dotted","double","none"],K=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],F=()=>["start","end","center","between","around","evenly","stretch"],z=()=>["","0",yt],W=()=>["auto","avoid","all","avoid-page","page","left","right","column"],se=()=>[fc,yt];return{cacheSize:500,separator:":",theme:{colors:[Ld],spacing:[Ai,pa],blur:["none","",ga,yt],brightness:se(),borderColor:[t],borderRadius:["none","","full",ga,yt],borderSpacing:I(),borderWidth:R(),contrast:se(),grayscale:z(),hueRotate:se(),invert:z(),gap:I(),gradientColorStops:[t],gradientColorStopPositions:[Zq,pa],inset:P(),margin:P(),opacity:se(),padding:I(),saturate:se(),scale:se(),sepia:z(),skew:se(),space:I(),translate:I()},classGroups:{aspect:[{aspect:["auto","square","video",yt]}],container:["container"],columns:[{columns:[ga]}],"break-after":[{"break-after":W()}],"break-before":[{"break-before":W()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Ne(),yt]}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:g()}],"overscroll-x":[{"overscroll-x":g()}],"overscroll-y":[{"overscroll-y":g()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[j]}],"inset-x":[{"inset-x":[j]}],"inset-y":[{"inset-y":[j]}],start:[{start:[j]}],end:[{end:[j]}],top:[{top:[j]}],right:[{right:[j]}],bottom:[{bottom:[j]}],left:[{left:[j]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Fd,yt]}],basis:[{basis:P()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",yt]}],grow:[{grow:z()}],shrink:[{shrink:z()}],order:[{order:["first","last","none",Fd,yt]}],"grid-cols":[{"grid-cols":[Ld]}],"col-start-end":[{col:["auto",{span:["full",Fd,yt]},yt]}],"col-start":[{"col-start":Q()}],"col-end":[{"col-end":Q()}],"grid-rows":[{"grid-rows":[Ld]}],"row-start-end":[{row:["auto",{span:[Fd,yt]},yt]}],"row-start":[{"row-start":Q()}],"row-end":[{"row-end":Q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",yt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",yt]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...F()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...F(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...F(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[E]}],mx:[{mx:[E]}],my:[{my:[E]}],ms:[{ms:[E]}],me:[{me:[E]}],mt:[{mt:[E]}],mr:[{mr:[E]}],mb:[{mb:[E]}],ml:[{ml:[E]}],"space-x":[{"space-x":[A]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[A]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",yt,e]}],"min-w":[{"min-w":[yt,e,"min","max","fit"]}],"max-w":[{"max-w":[yt,e,"none","full","min","max","fit","prose",{screen:[ga]},ga]}],h:[{h:[yt,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[yt,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[yt,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[yt,e,"auto","min","max","fit"]}],"font-size":[{text:["base",ga,pa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Rx]}],"font-family":[{font:[Ld]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",yt]}],"line-clamp":[{"line-clamp":["none",fc,Rx]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ai,yt]}],"list-image":[{"list-image":["none",yt]}],"list-style-type":[{list:["none","disc","decimal",yt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[N]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[N]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...de(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ai,pa]}],"underline-offset":[{"underline-offset":["auto",Ai,yt]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",yt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",yt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[N]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Ne(),tH]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",eH]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},sH]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[_]}],"gradient-via-pos":[{via:[_]}],"gradient-to-pos":[{to:[_]}],"gradient-from":[{from:[v]}],"gradient-via":[{via:[v]}],"gradient-to":[{to:[v]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[N]}],"border-style":[{border:[...de(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[N]}],"divide-style":[{divide:de()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...de()]}],"outline-offset":[{"outline-offset":[Ai,yt]}],"outline-w":[{outline:[Ai,pa]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[N]}],"ring-offset-w":[{"ring-offset":[Ai,pa]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",ga,rH]}],"shadow-color":[{shadow:[Ld]}],opacity:[{opacity:[N]}],"mix-blend":[{"mix-blend":[...K(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":K()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",ga,yt]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[p]}],saturate:[{saturate:[w]}],sepia:[{sepia:[O]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[N]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[O]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",yt]}],duration:[{duration:se()}],ease:[{ease:["linear","in","out","in-out",yt]}],delay:[{delay:se()}],animate:[{animate:["none","spin","ping","pulse","bounce",yt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[T]}],"scale-x":[{"scale-x":[T]}],"scale-y":[{"scale-y":[T]}],rotate:[{rotate:[Fd,yt]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[U]}],"skew-y":[{"skew-y":[U]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",yt]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",yt]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",yt]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Ai,pa,Rx]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},cH=qq(lH);function Re(...t){return cH(GI(t))}const dH=oq,dR=m.forwardRef(({className:t,...e},n)=>s.jsx($I,{ref:n,className:Re("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));dR.displayName=$I.displayName;const uH=Nh("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),uR=m.forwardRef(({className:t,variant:e,...n},r)=>s.jsx(zI,{ref:r,className:Re(uH({variant:e}),t),...n}));uR.displayName=zI.displayName;const hH=m.forwardRef(({className:t,...e},n)=>s.jsx(HI,{ref:n,className:Re("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));hH.displayName=HI.displayName;const hR=m.forwardRef(({className:t,...e},n)=>s.jsx(WI,{ref:n,className:Re("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:s.jsx(mi,{className:"h-4 w-4"})}));hR.displayName=WI.displayName;const mR=m.forwardRef(({className:t,...e},n)=>s.jsx(BI,{ref:n,className:Re("text-sm font-semibold",t),...e}));mR.displayName=BI.displayName;const fR=m.forwardRef(({className:t,...e},n)=>s.jsx(qI,{ref:n,className:Re("text-sm opacity-90",t),...e}));fR.displayName=qI.displayName;function mH(){const{toasts:t}=xn();return s.jsxs(dH,{children:[t.map(function({id:e,title:n,description:r,action:i,...a}){return s.jsxs(uR,{...a,children:[s.jsxs("div",{className:"grid gap-1",children:[n&&s.jsx(mR,{children:n}),r&&s.jsx(fR,{children:r})]}),i,s.jsx(hR,{})]},e)}),s.jsx(dR,{})]})}var fH=yE[" useId ".trim().toString()]||(()=>{}),pH=0;function Vr(t){const[e,n]=m.useState(fH());return Rn(()=>{t||n(r=>r??String(pH++))},[t]),t||(e?`radix-${e}`:"")}const gH=["top","right","bottom","left"],so=Math.min,Us=Math.max,Qf=Math.round,Tm=Math.floor,fi=t=>({x:t,y:t}),xH={left:"right",right:"left",bottom:"top",top:"bottom"},yH={start:"end",end:"start"};function bv(t,e,n){return Us(t,so(e,n))}function ea(t,e){return typeof t=="function"?t(e):t}function ta(t){return t.split("-")[0]}function cd(t){return t.split("-")[1]}function C0(t){return t==="x"?"y":"x"}function T0(t){return t==="y"?"height":"width"}function ro(t){return["top","bottom"].includes(ta(t))?"y":"x"}function E0(t){return C0(ro(t))}function vH(t,e,n){n===void 0&&(n=!1);const r=cd(t),i=E0(t),a=T0(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(o=Yf(o)),[o,Yf(o)]}function jH(t){const e=Yf(t);return[Nv(t),e,Nv(e)]}function Nv(t){return t.replace(/start|end/g,e=>yH[e])}function wH(t,e,n){const r=["left","right"],i=["right","left"],a=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?a:o;default:return[]}}function bH(t,e,n,r){const i=cd(t);let a=wH(ta(t),n==="start",r);return i&&(a=a.map(o=>o+"-"+i),e&&(a=a.concat(a.map(Nv)))),a}function Yf(t){return t.replace(/left|right|bottom|top/g,e=>xH[e])}function NH(t){return{top:0,right:0,bottom:0,left:0,...t}}function pR(t){return typeof t!="number"?NH(t):{top:t,right:t,bottom:t,left:t}}function Xf(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function oS(t,e,n){let{reference:r,floating:i}=t;const a=ro(e),o=E0(e),l=T0(o),c=ta(e),u=a==="y",h=r.x+r.width/2-i.width/2,p=r.y+r.height/2-i.height/2,f=r[l]/2-i[l]/2;let v;switch(c){case"top":v={x:h,y:r.y-i.height};break;case"bottom":v={x:h,y:r.y+r.height};break;case"right":v={x:r.x+r.width,y:p};break;case"left":v={x:r.x-i.width,y:p};break;default:v={x:r.x,y:r.y}}switch(cd(e)){case"start":v[o]-=f*(n&&u?-1:1);break;case"end":v[o]+=f*(n&&u?-1:1);break}return v}const SH=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:o}=n,l=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:h,y:p}=oS(u,r,c),f=r,v={},_=0;for(let j=0;j<l.length;j++){const{name:E,fn:N}=l[j],{x:y,y:w,data:T,reset:O}=await N({x:h,y:p,initialPlacement:r,placement:f,strategy:i,middlewareData:v,rects:u,platform:o,elements:{reference:t,floating:e}});h=y??h,p=w??p,v={...v,[E]:{...v[E],...T}},O&&_<=50&&(_++,typeof O=="object"&&(O.placement&&(f=O.placement),O.rects&&(u=O.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):O.rects),{x:h,y:p}=oS(u,f,c)),j=-1)}return{x:h,y:p,placement:f,strategy:i,middlewareData:v}};async function $u(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:a,rects:o,elements:l,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:h="viewport",elementContext:p="floating",altBoundary:f=!1,padding:v=0}=ea(e,t),_=pR(v),E=l[f?p==="floating"?"reference":"floating":p],N=Xf(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(E)))==null||n?E:E.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:u,rootBoundary:h,strategy:c})),y=p==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,w=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),T=await(a.isElement==null?void 0:a.isElement(w))?await(a.getScale==null?void 0:a.getScale(w))||{x:1,y:1}:{x:1,y:1},O=Xf(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:w,strategy:c}):y);return{top:(N.top-O.top+_.top)/T.y,bottom:(O.bottom-N.bottom+_.bottom)/T.y,left:(N.left-O.left+_.left)/T.x,right:(O.right-N.right+_.right)/T.x}}const _H=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:a,platform:o,elements:l,middlewareData:c}=e,{element:u,padding:h=0}=ea(t,e)||{};if(u==null)return{};const p=pR(h),f={x:n,y:r},v=E0(i),_=T0(v),j=await o.getDimensions(u),E=v==="y",N=E?"top":"left",y=E?"bottom":"right",w=E?"clientHeight":"clientWidth",T=a.reference[_]+a.reference[v]-f[v]-a.floating[_],O=f[v]-a.reference[v],U=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let A=U?U[w]:0;(!A||!await(o.isElement==null?void 0:o.isElement(U)))&&(A=l.floating[w]||a.floating[_]);const S=T/2-O/2,g=A/2-j[_]/2-1,k=so(p[N],g),P=so(p[y],g),I=k,R=A-j[_]-P,Q=A/2-j[_]/2+S,Ne=bv(I,Q,R),de=!c.arrow&&cd(i)!=null&&Q!==Ne&&a.reference[_]/2-(Q<I?k:P)-j[_]/2<0,K=de?Q<I?Q-I:Q-R:0;return{[v]:f[v]+K,data:{[v]:Ne,centerOffset:Q-Ne-K,...de&&{alignmentOffset:K}},reset:de}}}),CH=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:a,rects:o,initialPlacement:l,platform:c,elements:u}=e,{mainAxis:h=!0,crossAxis:p=!0,fallbackPlacements:f,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:j=!0,...E}=ea(t,e);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const N=ta(i),y=ro(l),w=ta(l)===l,T=await(c.isRTL==null?void 0:c.isRTL(u.floating)),O=f||(w||!j?[Yf(l)]:jH(l)),U=_!=="none";!f&&U&&O.push(...bH(l,j,_,T));const A=[l,...O],S=await $u(e,E),g=[];let k=((r=a.flip)==null?void 0:r.overflows)||[];if(h&&g.push(S[N]),p){const Q=vH(i,o,T);g.push(S[Q[0]],S[Q[1]])}if(k=[...k,{placement:i,overflows:g}],!g.every(Q=>Q<=0)){var P,I;const Q=(((P=a.flip)==null?void 0:P.index)||0)+1,Ne=A[Q];if(Ne)return{data:{index:Q,overflows:k},reset:{placement:Ne}};let de=(I=k.filter(K=>K.overflows[0]<=0).sort((K,F)=>K.overflows[1]-F.overflows[1])[0])==null?void 0:I.placement;if(!de)switch(v){case"bestFit":{var R;const K=(R=k.filter(F=>{if(U){const z=ro(F.placement);return z===y||z==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(z=>z>0).reduce((z,W)=>z+W,0)]).sort((F,z)=>F[1]-z[1])[0])==null?void 0:R[0];K&&(de=K);break}case"initialPlacement":de=l;break}if(i!==de)return{reset:{placement:de}}}return{}}}};function lS(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function cS(t){return gH.some(e=>t[e]>=0)}const TH=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=ea(t,e);switch(r){case"referenceHidden":{const a=await $u(e,{...i,elementContext:"reference"}),o=lS(a,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:cS(o)}}}case"escaped":{const a=await $u(e,{...i,altBoundary:!0}),o=lS(a,n.floating);return{data:{escapedOffsets:o,escaped:cS(o)}}}default:return{}}}}};async function EH(t,e){const{placement:n,platform:r,elements:i}=t,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=ta(n),l=cd(n),c=ro(n)==="y",u=["left","top"].includes(o)?-1:1,h=a&&c?-1:1,p=ea(e,t);let{mainAxis:f,crossAxis:v,alignmentAxis:_}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return l&&typeof _=="number"&&(v=l==="end"?_*-1:_),c?{x:v*h,y:f*u}:{x:f*u,y:v*h}}const PH=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:a,placement:o,middlewareData:l}=e,c=await EH(e,t);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:a+c.y,data:{...c,placement:o}}}}},kH=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:a=!0,crossAxis:o=!1,limiter:l={fn:E=>{let{x:N,y}=E;return{x:N,y}}},...c}=ea(t,e),u={x:n,y:r},h=await $u(e,c),p=ro(ta(i)),f=C0(p);let v=u[f],_=u[p];if(a){const E=f==="y"?"top":"left",N=f==="y"?"bottom":"right",y=v+h[E],w=v-h[N];v=bv(y,v,w)}if(o){const E=p==="y"?"top":"left",N=p==="y"?"bottom":"right",y=_+h[E],w=_-h[N];_=bv(y,_,w)}const j=l.fn({...e,[f]:v,[p]:_});return{...j,data:{x:j.x-n,y:j.y-r,enabled:{[f]:a,[p]:o}}}}}},AH=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:a,middlewareData:o}=e,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=ea(t,e),h={x:n,y:r},p=ro(i),f=C0(p);let v=h[f],_=h[p];const j=ea(l,e),E=typeof j=="number"?{mainAxis:j,crossAxis:0}:{mainAxis:0,crossAxis:0,...j};if(c){const w=f==="y"?"height":"width",T=a.reference[f]-a.floating[w]+E.mainAxis,O=a.reference[f]+a.reference[w]-E.mainAxis;v<T?v=T:v>O&&(v=O)}if(u){var N,y;const w=f==="y"?"width":"height",T=["top","left"].includes(ta(i)),O=a.reference[p]-a.floating[w]+(T&&((N=o.offset)==null?void 0:N[p])||0)+(T?0:E.crossAxis),U=a.reference[p]+a.reference[w]+(T?0:((y=o.offset)==null?void 0:y[p])||0)-(T?E.crossAxis:0);_<O?_=O:_>U&&(_=U)}return{[f]:v,[p]:_}}}},IH=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:a,platform:o,elements:l}=e,{apply:c=()=>{},...u}=ea(t,e),h=await $u(e,u),p=ta(i),f=cd(i),v=ro(i)==="y",{width:_,height:j}=a.floating;let E,N;p==="top"||p==="bottom"?(E=p,N=f===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(N=p,E=f==="end"?"top":"bottom");const y=j-h.top-h.bottom,w=_-h.left-h.right,T=so(j-h[E],y),O=so(_-h[N],w),U=!e.middlewareData.shift;let A=T,S=O;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(S=w),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(A=y),U&&!f){const k=Us(h.left,0),P=Us(h.right,0),I=Us(h.top,0),R=Us(h.bottom,0);v?S=_-2*(k!==0||P!==0?k+P:Us(h.left,h.right)):A=j-2*(I!==0||R!==0?I+R:Us(h.top,h.bottom))}await c({...e,availableWidth:S,availableHeight:A});const g=await o.getDimensions(l.floating);return _!==g.width||j!==g.height?{reset:{rects:!0}}:{}}}};function Zp(){return typeof window<"u"}function dd(t){return gR(t)?(t.nodeName||"").toLowerCase():"#document"}function Ws(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Ni(t){var e;return(e=(gR(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function gR(t){return Zp()?t instanceof Node||t instanceof Ws(t).Node:!1}function qr(t){return Zp()?t instanceof Element||t instanceof Ws(t).Element:!1}function vi(t){return Zp()?t instanceof HTMLElement||t instanceof Ws(t).HTMLElement:!1}function dS(t){return!Zp()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ws(t).ShadowRoot}function _h(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Hr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function RH(t){return["table","td","th"].includes(dd(t))}function Jp(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function P0(t){const e=k0(),n=qr(t)?Hr(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function DH(t){let e=io(t);for(;vi(e)&&!Wc(e);){if(P0(e))return e;if(Jp(e))return null;e=io(e)}return null}function k0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Wc(t){return["html","body","#document"].includes(dd(t))}function Hr(t){return Ws(t).getComputedStyle(t)}function eg(t){return qr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function io(t){if(dd(t)==="html")return t;const e=t.assignedSlot||t.parentNode||dS(t)&&t.host||Ni(t);return dS(e)?e.host:e}function xR(t){const e=io(t);return Wc(e)?t.ownerDocument?t.ownerDocument.body:t.body:vi(e)&&_h(e)?e:xR(e)}function zu(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=xR(t),a=i===((r=t.ownerDocument)==null?void 0:r.body),o=Ws(i);if(a){const l=Sv(o);return e.concat(o,o.visualViewport||[],_h(i)?i:[],l&&n?zu(l):[])}return e.concat(i,zu(i,[],n))}function Sv(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function yR(t){const e=Hr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=vi(t),a=i?t.offsetWidth:n,o=i?t.offsetHeight:r,l=Qf(n)!==a||Qf(r)!==o;return l&&(n=a,r=o),{width:n,height:r,$:l}}function A0(t){return qr(t)?t:t.contextElement}function pc(t){const e=A0(t);if(!vi(e))return fi(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:a}=yR(e);let o=(a?Qf(n.width):n.width)/r,l=(a?Qf(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const MH=fi(0);function vR(t){const e=Ws(t);return!k0()||!e.visualViewport?MH:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function OH(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Ws(t)?!1:e}function ll(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),a=A0(t);let o=fi(1);e&&(r?qr(r)&&(o=pc(r)):o=pc(t));const l=OH(a,n,r)?vR(a):fi(0);let c=(i.left+l.x)/o.x,u=(i.top+l.y)/o.y,h=i.width/o.x,p=i.height/o.y;if(a){const f=Ws(a),v=r&&qr(r)?Ws(r):r;let _=f,j=Sv(_);for(;j&&r&&v!==_;){const E=pc(j),N=j.getBoundingClientRect(),y=Hr(j),w=N.left+(j.clientLeft+parseFloat(y.paddingLeft))*E.x,T=N.top+(j.clientTop+parseFloat(y.paddingTop))*E.y;c*=E.x,u*=E.y,h*=E.x,p*=E.y,c+=w,u+=T,_=Ws(j),j=Sv(_)}}return Xf({width:h,height:p,x:c,y:u})}function I0(t,e){const n=eg(t).scrollLeft;return e?e.left+n:ll(Ni(t)).left+n}function jR(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:I0(t,r)),a=r.top+e.scrollTop;return{x:i,y:a}}function FH(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const a=i==="fixed",o=Ni(r),l=e?Jp(e.floating):!1;if(r===o||l&&a)return n;let c={scrollLeft:0,scrollTop:0},u=fi(1);const h=fi(0),p=vi(r);if((p||!p&&!a)&&((dd(r)!=="body"||_h(o))&&(c=eg(r)),vi(r))){const v=ll(r);u=pc(r),h.x=v.x+r.clientLeft,h.y=v.y+r.clientTop}const f=o&&!p&&!a?jR(o,c,!0):fi(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+h.x+f.x,y:n.y*u.y-c.scrollTop*u.y+h.y+f.y}}function LH(t){return Array.from(t.getClientRects())}function UH(t){const e=Ni(t),n=eg(t),r=t.ownerDocument.body,i=Us(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),a=Us(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+I0(t);const l=-n.scrollTop;return Hr(r).direction==="rtl"&&(o+=Us(e.clientWidth,r.clientWidth)-i),{width:i,height:a,x:o,y:l}}function VH(t,e){const n=Ws(t),r=Ni(t),i=n.visualViewport;let a=r.clientWidth,o=r.clientHeight,l=0,c=0;if(i){a=i.width,o=i.height;const u=k0();(!u||u&&e==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}return{width:a,height:o,x:l,y:c}}function $H(t,e){const n=ll(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,a=vi(t)?pc(t):fi(1),o=t.clientWidth*a.x,l=t.clientHeight*a.y,c=i*a.x,u=r*a.y;return{width:o,height:l,x:c,y:u}}function uS(t,e,n){let r;if(e==="viewport")r=VH(t,n);else if(e==="document")r=UH(Ni(t));else if(qr(e))r=$H(e,n);else{const i=vR(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Xf(r)}function wR(t,e){const n=io(t);return n===e||!qr(n)||Wc(n)?!1:Hr(n).position==="fixed"||wR(n,e)}function zH(t,e){const n=e.get(t);if(n)return n;let r=zu(t,[],!1).filter(l=>qr(l)&&dd(l)!=="body"),i=null;const a=Hr(t).position==="fixed";let o=a?io(t):t;for(;qr(o)&&!Wc(o);){const l=Hr(o),c=P0(o);!c&&l.position==="fixed"&&(i=null),(a?!c&&!i:!c&&l.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||_h(o)&&!c&&wR(t,o))?r=r.filter(h=>h!==o):i=l,o=io(o)}return e.set(t,r),r}function BH(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?Jp(e)?[]:zH(e,this._c):[].concat(n),r],l=o[0],c=o.reduce((u,h)=>{const p=uS(e,h,i);return u.top=Us(p.top,u.top),u.right=so(p.right,u.right),u.bottom=so(p.bottom,u.bottom),u.left=Us(p.left,u.left),u},uS(e,l,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function qH(t){const{width:e,height:n}=yR(t);return{width:e,height:n}}function HH(t,e,n){const r=vi(e),i=Ni(e),a=n==="fixed",o=ll(t,!0,a,e);let l={scrollLeft:0,scrollTop:0};const c=fi(0);if(r||!r&&!a)if((dd(e)!=="body"||_h(i))&&(l=eg(e)),r){const f=ll(e,!0,a,e);c.x=f.x+e.clientLeft,c.y=f.y+e.clientTop}else i&&(c.x=I0(i));const u=i&&!r&&!a?jR(i,l):fi(0),h=o.left+l.scrollLeft-c.x-u.x,p=o.top+l.scrollTop-c.y-u.y;return{x:h,y:p,width:o.width,height:o.height}}function Dx(t){return Hr(t).position==="static"}function hS(t,e){if(!vi(t)||Hr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Ni(t)===n&&(n=n.ownerDocument.body),n}function bR(t,e){const n=Ws(t);if(Jp(t))return n;if(!vi(t)){let i=io(t);for(;i&&!Wc(i);){if(qr(i)&&!Dx(i))return i;i=io(i)}return n}let r=hS(t,e);for(;r&&RH(r)&&Dx(r);)r=hS(r,e);return r&&Wc(r)&&Dx(r)&&!P0(r)?n:r||DH(t)||n}const WH=async function(t){const e=this.getOffsetParent||bR,n=this.getDimensions,r=await n(t.floating);return{reference:HH(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function KH(t){return Hr(t).direction==="rtl"}const GH={convertOffsetParentRelativeRectToViewportRelativeRect:FH,getDocumentElement:Ni,getClippingRect:BH,getOffsetParent:bR,getElementRects:WH,getClientRects:LH,getDimensions:qH,getScale:pc,isElement:qr,isRTL:KH};function NR(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function QH(t,e){let n=null,r;const i=Ni(t);function a(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const u=t.getBoundingClientRect(),{left:h,top:p,width:f,height:v}=u;if(l||e(),!f||!v)return;const _=Tm(p),j=Tm(i.clientWidth-(h+f)),E=Tm(i.clientHeight-(p+v)),N=Tm(h),w={rootMargin:-_+"px "+-j+"px "+-E+"px "+-N+"px",threshold:Us(0,so(1,c))||1};let T=!0;function O(U){const A=U[0].intersectionRatio;if(A!==c){if(!T)return o();A?o(!1,A):r=setTimeout(()=>{o(!1,1e-7)},1e3)}A===1&&!NR(u,t.getBoundingClientRect())&&o(),T=!1}try{n=new IntersectionObserver(O,{...w,root:i.ownerDocument})}catch{n=new IntersectionObserver(O,w)}n.observe(t)}return o(!0),a}function YH(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=A0(t),h=i||a?[...u?zu(u):[],...zu(e)]:[];h.forEach(N=>{i&&N.addEventListener("scroll",n,{passive:!0}),a&&N.addEventListener("resize",n)});const p=u&&l?QH(u,n):null;let f=-1,v=null;o&&(v=new ResizeObserver(N=>{let[y]=N;y&&y.target===u&&v&&(v.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var w;(w=v)==null||w.observe(e)})),n()}),u&&!c&&v.observe(u),v.observe(e));let _,j=c?ll(t):null;c&&E();function E(){const N=ll(t);j&&!NR(j,N)&&n(),j=N,_=requestAnimationFrame(E)}return n(),()=>{var N;h.forEach(y=>{i&&y.removeEventListener("scroll",n),a&&y.removeEventListener("resize",n)}),p==null||p(),(N=v)==null||N.disconnect(),v=null,c&&cancelAnimationFrame(_)}}const XH=PH,ZH=kH,JH=CH,eW=IH,tW=TH,mS=_H,nW=AH,sW=(t,e,n)=>{const r=new Map,i={platform:GH,...n},a={...i.platform,_c:r};return SH(t,e,{...i,platform:a})};var nf=typeof document<"u"?m.useLayoutEffect:m.useEffect;function Zf(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Zf(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const a=i[r];if(!(a==="_owner"&&t.$$typeof)&&!Zf(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function SR(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function fS(t,e){const n=SR(t);return Math.round(e*n)/n}function Mx(t){const e=m.useRef(t);return nf(()=>{e.current=t}),e}function rW(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=t,[h,p]=m.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[f,v]=m.useState(r);Zf(f,r)||v(r);const[_,j]=m.useState(null),[E,N]=m.useState(null),y=m.useCallback(F=>{F!==U.current&&(U.current=F,j(F))},[]),w=m.useCallback(F=>{F!==A.current&&(A.current=F,N(F))},[]),T=a||_,O=o||E,U=m.useRef(null),A=m.useRef(null),S=m.useRef(h),g=c!=null,k=Mx(c),P=Mx(i),I=Mx(u),R=m.useCallback(()=>{if(!U.current||!A.current)return;const F={placement:e,strategy:n,middleware:f};P.current&&(F.platform=P.current),sW(U.current,A.current,F).then(z=>{const W={...z,isPositioned:I.current!==!1};Q.current&&!Zf(S.current,W)&&(S.current=W,xl.flushSync(()=>{p(W)}))})},[f,e,n,P,I]);nf(()=>{u===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,p(F=>({...F,isPositioned:!1})))},[u]);const Q=m.useRef(!1);nf(()=>(Q.current=!0,()=>{Q.current=!1}),[]),nf(()=>{if(T&&(U.current=T),O&&(A.current=O),T&&O){if(k.current)return k.current(T,O,R);R()}},[T,O,R,k,g]);const Ne=m.useMemo(()=>({reference:U,floating:A,setReference:y,setFloating:w}),[y,w]),de=m.useMemo(()=>({reference:T,floating:O}),[T,O]),K=m.useMemo(()=>{const F={position:n,left:0,top:0};if(!de.floating)return F;const z=fS(de.floating,h.x),W=fS(de.floating,h.y);return l?{...F,transform:"translate("+z+"px, "+W+"px)",...SR(de.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:z,top:W}},[n,l,de.floating,h.x,h.y]);return m.useMemo(()=>({...h,update:R,refs:Ne,elements:de,floatingStyles:K}),[h,R,Ne,de,K])}const iW=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?mS({element:r.current,padding:i}).fn(n):{}:r?mS({element:r,padding:i}).fn(n):{}}}},aW=(t,e)=>({...XH(t),options:[t,e]}),oW=(t,e)=>({...ZH(t),options:[t,e]}),lW=(t,e)=>({...nW(t),options:[t,e]}),cW=(t,e)=>({...JH(t),options:[t,e]}),dW=(t,e)=>({...eW(t),options:[t,e]}),uW=(t,e)=>({...tW(t),options:[t,e]}),hW=(t,e)=>({...iW(t),options:[t,e]});var mW="Arrow",_R=m.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...a}=t;return s.jsx(Ye.svg,{...a,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});_R.displayName=mW;var fW=_R;function R0(t){const[e,n]=m.useState(void 0);return Rn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let o,l;if("borderBoxSize"in a){const c=a.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=t.offsetWidth,l=t.offsetHeight;n({width:o,height:l})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var D0="Popper",[CR,go]=os(D0),[pW,TR]=CR(D0),ER=t=>{const{__scopePopper:e,children:n}=t,[r,i]=m.useState(null);return s.jsx(pW,{scope:e,anchor:r,onAnchorChange:i,children:n})};ER.displayName=D0;var PR="PopperAnchor",kR=m.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,a=TR(PR,n),o=m.useRef(null),l=ft(e,o);return m.useEffect(()=>{a.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:s.jsx(Ye.div,{...i,ref:l})});kR.displayName=PR;var M0="PopperContent",[gW,xW]=CR(M0),AR=m.forwardRef((t,e)=>{var we,fe,Y,X,je,Oe;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:a="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:h=0,sticky:p="partial",hideWhenDetached:f=!1,updatePositionStrategy:v="optimized",onPlaced:_,...j}=t,E=TR(M0,n),[N,y]=m.useState(null),w=ft(e,lt=>y(lt)),[T,O]=m.useState(null),U=R0(T),A=(U==null?void 0:U.width)??0,S=(U==null?void 0:U.height)??0,g=r+(a!=="center"?"-"+a:""),k=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},P=Array.isArray(u)?u:[u],I=P.length>0,R={padding:k,boundary:P.filter(vW),altBoundary:I},{refs:Q,floatingStyles:Ne,placement:de,isPositioned:K,middlewareData:F}=rW({strategy:"fixed",placement:g,whileElementsMounted:(...lt)=>YH(...lt,{animationFrame:v==="always"}),elements:{reference:E.anchor},middleware:[aW({mainAxis:i+S,alignmentAxis:o}),c&&oW({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?lW():void 0,...R}),c&&cW({...R}),dW({...R,apply:({elements:lt,rects:Dt,availableWidth:yn,availableHeight:un})=>{const{width:hn,height:Xt}=Dt.reference,Ss=lt.floating.style;Ss.setProperty("--radix-popper-available-width",`${yn}px`),Ss.setProperty("--radix-popper-available-height",`${un}px`),Ss.setProperty("--radix-popper-anchor-width",`${hn}px`),Ss.setProperty("--radix-popper-anchor-height",`${Xt}px`)}}),T&&hW({element:T,padding:l}),jW({arrowWidth:A,arrowHeight:S}),f&&uW({strategy:"referenceHidden",...R})]}),[z,W]=DR(de),se=tn(_);Rn(()=>{K&&(se==null||se())},[K,se]);const Ce=(we=F.arrow)==null?void 0:we.x,Me=(fe=F.arrow)==null?void 0:fe.y,q=((Y=F.arrow)==null?void 0:Y.centerOffset)!==0,[ve,Ue]=m.useState();return Rn(()=>{N&&Ue(window.getComputedStyle(N).zIndex)},[N]),s.jsx("div",{ref:Q.setFloating,"data-radix-popper-content-wrapper":"",style:{...Ne,transform:K?Ne.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ve,"--radix-popper-transform-origin":[(X=F.transformOrigin)==null?void 0:X.x,(je=F.transformOrigin)==null?void 0:je.y].join(" "),...((Oe=F.hide)==null?void 0:Oe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:s.jsx(gW,{scope:n,placedSide:z,onArrowChange:O,arrowX:Ce,arrowY:Me,shouldHideArrow:q,children:s.jsx(Ye.div,{"data-side":z,"data-align":W,...j,ref:w,style:{...j.style,animation:K?void 0:"none"}})})})});AR.displayName=M0;var IR="PopperArrow",yW={top:"bottom",right:"left",bottom:"top",left:"right"},RR=m.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,a=xW(IR,r),o=yW[a.placedSide];return s.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:s.jsx(fW,{...i,ref:n,style:{...i.style,display:"block"}})})});RR.displayName=IR;function vW(t){return t!==null}var jW=t=>({name:"transformOrigin",options:t,fn(e){var E,N,y;const{placement:n,rects:r,middlewareData:i}=e,o=((E=i.arrow)==null?void 0:E.centerOffset)!==0,l=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[u,h]=DR(n),p={start:"0%",center:"50%",end:"100%"}[h],f=(((N=i.arrow)==null?void 0:N.x)??0)+l/2,v=(((y=i.arrow)==null?void 0:y.y)??0)+c/2;let _="",j="";return u==="bottom"?(_=o?p:`${f}px`,j=`${-c}px`):u==="top"?(_=o?p:`${f}px`,j=`${r.floating.height+c}px`):u==="right"?(_=`${-c}px`,j=o?p:`${v}px`):u==="left"&&(_=`${r.floating.width+c}px`,j=o?p:`${v}px`),{data:{x:_,y:j}}}});function DR(t){const[e,n="center"]=t.split("-");return[e,n]}var O0=ER,Ch=kR,tg=AR,ng=RR,[sg,one]=os("Tooltip",[go]),F0=go(),MR="TooltipProvider",wW=700,pS="tooltip.open",[bW,OR]=sg(MR),FR=t=>{const{__scopeTooltip:e,delayDuration:n=wW,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:a}=t,o=m.useRef(!0),l=m.useRef(!1),c=m.useRef(0);return m.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),s.jsx(bW,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:m.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:m.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:m.useCallback(u=>{l.current=u},[]),disableHoverableContent:i,children:a})};FR.displayName=MR;var LR="Tooltip",[lne,rg]=sg(LR),_v="TooltipTrigger",NW=m.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=rg(_v,n),a=OR(_v,n),o=F0(n),l=m.useRef(null),c=ft(e,l,i.onTriggerChange),u=m.useRef(!1),h=m.useRef(!1),p=m.useCallback(()=>u.current=!1,[]);return m.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),s.jsx(Ch,{asChild:!0,...o,children:s.jsx(Ye.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:c,onPointerMove:Te(t.onPointerMove,f=>{f.pointerType!=="touch"&&!h.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),h.current=!0)}),onPointerLeave:Te(t.onPointerLeave,()=>{i.onTriggerLeave(),h.current=!1}),onPointerDown:Te(t.onPointerDown,()=>{i.open&&i.onClose(),u.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:Te(t.onFocus,()=>{u.current||i.onOpen()}),onBlur:Te(t.onBlur,i.onClose),onClick:Te(t.onClick,i.onClose)})})});NW.displayName=_v;var SW="TooltipPortal",[cne,_W]=sg(SW,{forceMount:void 0}),Kc="TooltipContent",UR=m.forwardRef((t,e)=>{const n=_W(Kc,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...a}=t,o=rg(Kc,t.__scopeTooltip);return s.jsx(qn,{present:r||o.open,children:o.disableHoverableContent?s.jsx(VR,{side:i,...a,ref:e}):s.jsx(CW,{side:i,...a,ref:e})})}),CW=m.forwardRef((t,e)=>{const n=rg(Kc,t.__scopeTooltip),r=OR(Kc,t.__scopeTooltip),i=m.useRef(null),a=ft(e,i),[o,l]=m.useState(null),{trigger:c,onClose:u}=n,h=i.current,{onPointerInTransitChange:p}=r,f=m.useCallback(()=>{l(null),p(!1)},[p]),v=m.useCallback((_,j)=>{const E=_.currentTarget,N={x:_.clientX,y:_.clientY},y=AW(N,E.getBoundingClientRect()),w=IW(N,y),T=RW(j.getBoundingClientRect()),O=MW([...w,...T]);l(O),p(!0)},[p]);return m.useEffect(()=>()=>f(),[f]),m.useEffect(()=>{if(c&&h){const _=E=>v(E,h),j=E=>v(E,c);return c.addEventListener("pointerleave",_),h.addEventListener("pointerleave",j),()=>{c.removeEventListener("pointerleave",_),h.removeEventListener("pointerleave",j)}}},[c,h,v,f]),m.useEffect(()=>{if(o){const _=j=>{const E=j.target,N={x:j.clientX,y:j.clientY},y=(c==null?void 0:c.contains(E))||(h==null?void 0:h.contains(E)),w=!DW(N,o);y?f():w&&(f(),u())};return document.addEventListener("pointermove",_),()=>document.removeEventListener("pointermove",_)}},[c,h,o,u,f]),s.jsx(VR,{...t,ref:a})}),[TW,EW]=sg(LR,{isInside:!1}),PW=SI("TooltipContent"),VR=m.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:o,...l}=t,c=rg(Kc,n),u=F0(n),{onClose:h}=c;return m.useEffect(()=>(document.addEventListener(pS,h),()=>document.removeEventListener(pS,h)),[h]),m.useEffect(()=>{if(c.trigger){const p=f=>{const v=f.target;v!=null&&v.contains(c.trigger)&&h()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[c.trigger,h]),s.jsx(wl,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:p=>p.preventDefault(),onDismiss:h,children:s.jsxs(tg,{"data-state":c.stateAttribute,...u,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(PW,{children:r}),s.jsx(TW,{scope:n,isInside:!0,children:s.jsx(BB,{id:c.contentId,role:"tooltip",children:i||r})})]})})});UR.displayName=Kc;var $R="TooltipArrow",kW=m.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=F0(n);return EW($R,n).isInside?null:s.jsx(ng,{...i,...r,ref:e})});kW.displayName=$R;function AW(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),a=Math.abs(e.left-t.x);switch(Math.min(n,r,i,a)){case a:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function IW(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function RW(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function DW(t,e){const{x:n,y:r}=t;let i=!1;for(let a=0,o=e.length-1;a<e.length;o=a++){const l=e[a].x,c=e[a].y,u=e[o].x,h=e[o].y;c>r!=h>r&&n<(u-l)*(r-c)/(h-c)+l&&(i=!i)}return i}function MW(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),OW(e)}function OW(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const a=e[e.length-1],o=e[e.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const a=n[n.length-1],o=n[n.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var FW=FR,zR=UR;const LW=FW,UW=m.forwardRef(({className:t,sideOffset:e=4,...n},r)=>s.jsx(zR,{ref:r,sideOffset:e,className:Re("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...n}));UW.displayName=zR.displayName;const BR=m.createContext(void 0);function VW({children:t}){const[e,n]=m.useState(null),[r,i]=m.useState(!0),{toast:a}=xn();m.useEffect(()=>{const c=LA(to,u=>{n(u),i(!1)});return()=>c()},[]);const l={user:e,isLoading:r,isAuthenticated:!!e,signOut:async()=>{try{await o0(to),a({title:"Signed Out",description:"You have been successfully signed out."})}catch{a({title:"Error",description:"Failed to sign out.",variant:"destructive"})}}};return s.jsx(BR.Provider,{value:l,children:t})}function xr(){const t=m.useContext(BR);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t}const qR=m.createContext(void 0);function $W({children:t}){const{user:e}=xr(),[n,r]=m.useState(null),i=(e==null?void 0:e.email)==="rfinnbogason@gmail.com",{data:a=[],isLoading:o}=ot({queryKey:i?["/api/admin/strata"]:["/api/strata"],enabled:!!e});m.useEffect(()=>{const h=localStorage.getItem("selectedStrata");if(h&&a.some(p=>p.id===h))r(h);else if(a.length>0&&!n){const p=a[0];r(p.id),localStorage.setItem("selectedStrata",p.id),localStorage.setItem("currentStrata",JSON.stringify(p))}},[a,n]);const l=h=>{r(h),localStorage.setItem("selectedStrata",h);const p=a.find(f=>f.id===h);p&&localStorage.setItem("currentStrata",JSON.stringify(p)),window.dispatchEvent(new CustomEvent("strataChanged",{detail:{strataId:h}}))},c=n&&a.find(h=>h.id===n)||null,u={selectedStrataId:n,selectedStrata:c,availableStrata:a,isLoading:o,setSelectedStrata:l};return s.jsx(qR.Provider,{value:u,children:t})}function ra(){const t=m.useContext(qR);if(t===void 0)throw new Error("useStrata must be used within a StrataProvider");return t}const L0=Nh("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),$=m.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},a)=>{const o=r?bI:"button";return s.jsx(o,{className:Re(L0({variant:e,size:n,className:t})),ref:a,...i})});$.displayName="Button";const ge=m.forwardRef(({className:t,...e},n)=>s.jsx("div",{ref:n,className:Re("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));ge.displayName="Card";const Ge=m.forwardRef(({className:t,...e},n)=>s.jsx("div",{ref:n,className:Re("flex flex-col space-y-1.5 p-6",t),...e}));Ge.displayName="CardHeader";const Qe=m.forwardRef(({className:t,...e},n)=>s.jsx("div",{ref:n,className:Re("text-2xl font-semibold leading-none tracking-tight",t),...e}));Qe.displayName="CardTitle";const pi=m.forwardRef(({className:t,...e},n)=>s.jsx("div",{ref:n,className:Re("text-sm text-muted-foreground",t),...e}));pi.displayName="CardDescription";const be=m.forwardRef(({className:t,...e},n)=>s.jsx("div",{ref:n,className:Re("p-6 pt-0",t),...e}));be.displayName="CardContent";const zW=m.forwardRef(({className:t,...e},n)=>s.jsx("div",{ref:n,className:Re("flex items-center p-6 pt-0",t),...e}));zW.displayName="CardFooter";const BW=Nh("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function He({className:t,variant:e,...n}){return s.jsx("div",{className:Re(BW({variant:e}),t),...n})}function qW(){const t=()=>{window.location.href="/login"},e=()=>{window.location.href="/signup"};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50",children:[s.jsx("header",{className:"sticky top-0 z-50 border-b bg-white/95 backdrop-blur-md shadow-sm",children:s.jsxs("div",{className:"container mx-auto px-4 lg:px-6 py-3 lg:py-4 flex justify-between items-center",children:[s.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"VibeStrat"}),s.jsxs("div",{className:"flex gap-2 lg:gap-3",children:[s.jsx($,{onClick:t,variant:"outline",size:"sm",className:"text-sm lg:text-base",children:"Sign In"}),s.jsx($,{onClick:e,size:"sm",className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-sm lg:text-base",children:"Get Started"})]})]})}),s.jsxs("section",{className:"container mx-auto px-4 lg:px-6 py-12 lg:py-20 text-center",children:[s.jsx(He,{className:"mb-4 bg-gradient-to-r from-blue-600 to-purple-600 text-white border-none",children:"🚀 AI-Powered Platform"}),s.jsxs("h1",{className:"text-3xl sm:text-4xl lg:text-6xl font-bold mb-4 lg:mb-6 leading-tight",children:[s.jsx("span",{className:"bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-600 bg-clip-text text-transparent",children:"Transform Your Strata"}),s.jsx("br",{}),s.jsx("span",{className:"text-gray-900",children:"Management Experience"})]}),s.jsx("p",{className:"text-lg lg:text-xl text-gray-600 mb-8 lg:mb-10 max-w-3xl mx-auto leading-relaxed",children:"The complete platform for modern strata management. AI-powered document processing, real-time communications, automated workflows, and professional reporting - all in one place."}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 lg:gap-4 justify-center mb-8 lg:mb-12",children:[s.jsxs($,{size:"lg",onClick:e,className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white px-8 py-4 text-lg font-semibold shadow-lg hover:shadow-xl transition-all duration-200",children:["Start Free Trial ",s.jsx(v0,{className:"ml-2 h-5 w-5"})]}),s.jsx($,{size:"lg",onClick:t,variant:"outline",className:"px-8 py-4 text-lg font-semibold border-2 hover:bg-gray-50 transition-all duration-200",children:"Sign In"})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4 lg:gap-8 text-sm text-gray-500",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Es,{className:"h-4 w-4 text-green-500"}),s.jsx("span",{children:"Bank-level security"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Hs,{className:"h-4 w-4 text-blue-500"}),s.jsx("span",{children:"30-day free trial"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Nq,{className:"h-4 w-4 text-purple-500"}),s.jsx("span",{children:"Expert support"})]})]})]}),s.jsxs("section",{className:"container mx-auto px-4 lg:px-6 py-12 lg:py-16",children:[s.jsxs("div",{className:"text-center mb-12 lg:mb-16",children:[s.jsx("h2",{className:"text-2xl lg:text-4xl font-bold text-gray-900 mb-4",children:"Why Property Managers Choose VibeStrat"}),s.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Everything you need to run a professional strata operation, designed by experts who understand your challenges."})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 lg:gap-8",children:[{icon:hq,title:"AI Document Processing",desc:"Upload quotes, invoices, and contracts - AI automatically extracts and organizes all data"},{icon:dr,title:"Complete Financial Suite",desc:"Budgets, expenses, fee tracking, reserve funds, and automated payment reminders"},{icon:Xl,title:"Smart Communications",desc:"Messenger-style chat, announcements, notifications, and resident directory"},{icon:ss,title:"Meeting Management",desc:"Scheduling, invitations, agenda management, and AI-powered transcription"},{icon:vv,title:"Mobile-First Design",desc:"Perfect experience on any device - manage your strata from anywhere"},{icon:YI,title:"Professional Reports",desc:"Financial reports, meeting packages, and home sale documentation"}].map((n,r)=>s.jsx(ge,{className:"border-0 shadow-lg hover:shadow-xl transition-all duration-300 bg-gradient-to-br from-blue-50 to-indigo-50",children:s.jsxs(Ge,{className:"text-center pb-4",children:[s.jsx("div",{className:"mx-auto mb-4 p-3 bg-gradient-to-br from-blue-600 to-indigo-600 rounded-2xl w-fit",children:s.jsx(n.icon,{className:"h-8 w-8 text-white"})}),s.jsx(Qe,{className:"text-xl font-bold text-gray-900",children:n.title}),s.jsx(pi,{className:"text-gray-600",children:n.desc})]})},r))})]})]})}const re=m.forwardRef(({className:t,type:e,...n},r)=>s.jsx("input",{type:e,className:Re("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));re.displayName="Input";function HW(){const[t,e]=m.useState(""),[n,r]=m.useState(""),i=a=>{a.preventDefault(),window.location.href="/dashboard"};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50",children:s.jsxs(ge,{className:"w-full max-w-md mx-auto p-6",children:[s.jsx(Ge,{className:"mb-4 text-center",children:s.jsx(Qe,{className:"text-2xl font-bold",children:"Login to VibeStrat"})}),s.jsx(be,{children:s.jsxs("form",{onSubmit:i,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),s.jsx(re,{id:"email",type:"email",value:t,onChange:a=>e(a.target.value),required:!0,className:"w-full"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),s.jsx(re,{id:"password",type:"password",value:n,onChange:a=>r(a.target.value),required:!0,className:"w-full"})]}),s.jsx($,{type:"submit",className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white py-2",children:"Sign In"})]})})]})})}function WW(){const[t,e]=m.useState(""),[n,r]=m.useState(""),[i,a]=m.useState(!1),[o,l]=m.useState(null),{toast:c}=xn(),[,u]=fo();m.useEffect(()=>LA(to,f=>{l(f),f||u("/login")}),[u]);const h=async p=>{p.preventDefault(),a(!0);try{if(t!==n){c({title:"Password Mismatch",description:"New password and confirmation don't match.",variant:"destructive"});return}if(t.length<6){c({title:"Password Too Short",description:"Password must be at least 6 characters long.",variant:"destructive"});return}if(!o){c({title:"Authentication Error",description:"You must be logged in to change your password.",variant:"destructive"});return}await r8(o,t);try{await Be("PATCH","/api/user/password-changed",{})}catch(f){console.log("Database update error (non-critical):",f)}c({title:"Password Updated",description:"Your password has been successfully changed!"}),u("/dashboard")}catch(f){console.error("Password change error:",f);let v="Failed to update password. Please try again.";f.code==="auth/weak-password"?v="Password is too weak. Please choose a stronger password.":f.code==="auth/requires-recent-login"&&(v="Please log out and log back in, then try changing your password."),c({title:"Password Change Failed",description:v,variant:"destructive"})}finally{a(!1)}};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 dark:from-gray-900 dark:via-blue-900 dark:to-indigo-900 flex items-center justify-center p-4",children:s.jsxs(ge,{className:"w-full max-w-md shadow-lg",children:[s.jsxs(Ge,{className:"text-center space-y-4",children:[s.jsx("div",{className:"mx-auto w-16 h-16 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center",children:s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx("div",{className:"w-6 h-8 bg-blue-600 rounded-sm transform -rotate-12"}),s.jsx("div",{className:"w-4 h-6 bg-green-500 rounded-sm transform rotate-12"})]})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"VibeStrat"}),s.jsx(Qe,{className:"text-xl mt-4",children:"Change Your Password"}),s.jsx(pi,{children:"For security, you must set a new password before continuing."})]})]}),s.jsxs(be,{children:[s.jsx("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg p-4 mb-6",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(S0,{className:"h-5 w-5 text-amber-600 dark:text-amber-400 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-amber-800 dark:text-amber-200 font-medium",children:"Password Change Required"}),s.jsx("p",{className:"text-sm text-amber-700 dark:text-amber-300 mt-1",children:"Your account was created with a temporary password. Please set a new, secure password to continue."})]})]})}),s.jsxs("form",{onSubmit:h,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{htmlFor:"newPassword",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"New Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(Vu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx(re,{id:"newPassword",type:"password",placeholder:"Enter new password",value:t,onChange:p=>e(p.target.value),className:"pl-10",required:!0,minLength:6})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{htmlFor:"confirmPassword",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Confirm New Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(Vu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx(re,{id:"confirmPassword",type:"password",placeholder:"Confirm new password",value:n,onChange:p=>r(p.target.value),className:"pl-10",required:!0,minLength:6})]})]}),s.jsx($,{type:"submit",className:"w-full bg-slate-900 hover:bg-slate-800 text-white",disabled:i,children:i?"Updating Password...":"Update Password"})]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"© 2025 VibeStrat. All rights reserved."})})]})]})})}function KW({metrics:t}){const n=t||{totalProperties:0,outstandingFees:"$0",pendingApprovals:0,openMaintenance:0};return s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 lg:gap-6",children:[s.jsx(ge,{className:"metric-card text-white card-hover shadow-lg",children:s.jsx(be,{className:"p-4 sm:p-5 lg:p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-300 text-xs sm:text-sm",children:"Total Properties"}),s.jsx("p",{className:"text-2xl sm:text-3xl font-bold mt-1 sm:mt-2",children:n.totalProperties})]}),s.jsx(vs,{className:"h-6 w-6 sm:h-8 sm:w-8 text-secondary"})]})})}),s.jsx(ge,{className:"bg-white shadow-lg card-hover border border-border",children:s.jsx(be,{className:"p-4 sm:p-5 lg:p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground text-xs sm:text-sm",children:"Outstanding Fees"}),s.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-foreground mt-1 sm:mt-2",children:n.outstandingFees})]}),s.jsx(dr,{className:"h-6 w-6 sm:h-8 sm:w-8 text-accent"})]})})}),s.jsx(ge,{className:"bg-white shadow-lg card-hover border border-border",children:s.jsx(be,{className:"p-4 sm:p-5 lg:p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground text-xs sm:text-sm",children:"Pending Approvals"}),s.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-foreground mt-1 sm:mt-2",children:n.pendingApprovals})]}),s.jsx(Hs,{className:"h-6 w-6 sm:h-8 sm:w-8 text-accent"})]})})}),s.jsx(ge,{className:"bg-white shadow-lg card-hover border border-border",children:s.jsx(be,{className:"p-4 sm:p-5 lg:p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground text-xs sm:text-sm",children:"Open Maintenance"}),s.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-foreground mt-1 sm:mt-2",children:n.openMaintenance})]}),s.jsx(oi,{className:"h-6 w-6 sm:h-8 sm:w-8 text-secondary"})]})})})]})}function GW({strataId:t}){const{data:e=[]}=ot({queryKey:[`/api/strata/${t}/quotes`],enabled:!!t}),{data:n=[]}=ot({queryKey:[`/api/strata/${t}/expenses`],enabled:!!t}),r=[...e.slice(0,2).map(a=>({id:a.id,type:"quote",title:`New quote received: ${a.description}`,subtitle:`${a.amount} | ${new Date(a.createdAt).toLocaleString()}`,status:a.status})),...n.slice(0,2).map(a=>({id:a.id,type:"expense",title:`Expense submitted: ${a.description}`,subtitle:`${a.amount} | ${new Date(a.createdAt).toLocaleString()}`,status:a.status}))].sort((a,o)=>new Date(o.subtitle.split(" | ")[1]).getTime()-new Date(a.subtitle.split(" | ")[1]).getTime()),i=a=>{switch(a){case"pending":return"status-pending";case"approved":return"status-approved";case"rejected":return"status-rejected";default:return"status-pending"}};return s.jsxs(ge,{className:"bg-white shadow-lg border border-border",children:[s.jsx(Ge,{className:"border-b border-border",children:s.jsxs(Qe,{className:"flex items-center",children:[s.jsx(nS,{className:"mr-3 h-5 w-5 text-secondary"}),"Recent Activity"]})}),s.jsx(be,{className:"p-6",children:r.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(nS,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No recent activity to display"}),s.jsx("p",{className:"text-sm",children:"Activities will appear here as they occur"})]}):s.jsxs("div",{className:"space-y-4",children:[r.map(a=>s.jsxs("div",{className:"flex items-start space-x-4 p-4 bg-muted/30 rounded-lg",children:[s.jsx("div",{className:"w-2 h-2 bg-secondary rounded-full mt-2"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-foreground font-medium",children:a.title}),s.jsx("p",{className:"text-muted-foreground text-sm",children:a.subtitle})]}),s.jsx(He,{className:i(a.status),children:a.status})]},a.id)),s.jsx("div",{className:"mt-4 text-center",children:s.jsxs($,{variant:"ghost",className:"text-secondary hover:text-primary",children:["View All Activity ",s.jsx(v0,{className:"ml-1 h-4 w-4"})]})})]})})]})}function QW(){const{toast:t}=xn(),[,e]=fo(),n=localStorage.getItem("selectedStrata"),{data:r=[]}=ot({queryKey:[`/api/strata/${n}/meetings`],enabled:!!n}),i=r.filter(o=>{const l=new Date(o.scheduledAt),c=new Date,u=new Date;return u.setDate(c.getDate()+30),l>c&&l<u&&o.status==="scheduled"}).slice(0,3).map((o,l)=>({id:o.id,title:o.title,date:new Date(o.scheduledAt).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}),color:l%2===0?"bg-accent":"bg-secondary"})),a=o=>{if(o==="Request Quote"){e("/quotes");return}if(o==="Schedule Meeting"){e("/meetings?action=schedule");return}if(o==="Add Expense"){e("/financial?action=add-expense");return}if(o==="Send Announcement"){e("/communications?action=new-announcement");return}t({title:"Quick Action",description:`${o} functionality coming soon!`})};return s.jsxs(ge,{className:"bg-white shadow-lg border border-border",children:[s.jsx(Ge,{className:"border-b border-border",children:s.jsxs(Qe,{className:"flex items-center",children:[s.jsx(rR,{className:"mr-3 h-5 w-5 text-accent"}),"Quick Actions"]})}),s.jsxs(be,{className:"p-6 space-y-4",children:[s.jsxs($,{className:"w-full bg-secondary text-white hover:bg-secondary/90",onClick:()=>a("Request Quote"),children:[s.jsx(Vt,{className:"mr-2 h-4 w-4"}),"Request Quote"]}),s.jsxs($,{className:"w-full bg-primary text-white hover:bg-primary/90",onClick:()=>a("Schedule Meeting"),children:[s.jsx(ss,{className:"mr-2 h-4 w-4"}),"Schedule Meeting"]}),s.jsxs($,{variant:"outline",className:"w-full border-border hover:bg-muted",onClick:()=>a("Add Expense"),children:[s.jsx(Eq,{className:"mr-2 h-4 w-4"}),"Add Expense"]}),s.jsxs($,{variant:"outline",className:"w-full border-border hover:bg-muted",onClick:()=>a("Send Announcement"),children:[s.jsx(hc,{className:"mr-2 h-4 w-4"}),"Send Announcement"]}),s.jsxs("div",{className:"border-t border-border pt-6",children:[s.jsxs("h4",{className:"font-semibold text-foreground mb-4 flex items-center",children:[s.jsx(ss,{className:"mr-2 h-4 w-4 text-secondary"}),"Upcoming Events"]}),s.jsx("div",{className:"space-y-3",children:i.length>0?i.map(o=>s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:`w-3 h-3 ${o.color} rounded-full`}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-foreground",children:o.title}),s.jsx("p",{className:"text-xs text-muted-foreground",children:o.date})]})]},o.id)):s.jsxs("div",{className:"text-center py-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"No upcoming events scheduled"}),s.jsx($,{variant:"outline",size:"sm",className:"mt-2",onClick:()=>e("/meetings?action=schedule"),children:"Schedule Meeting"})]})})]})]})]})}const Ks=m.forwardRef(({className:t,...e},n)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:n,className:Re("w-full caption-bottom text-sm",t),...e})}));Ks.displayName="Table";const Gs=m.forwardRef(({className:t,...e},n)=>s.jsx("thead",{ref:n,className:Re("[&_tr]:border-b",t),...e}));Gs.displayName="TableHeader";const Qs=m.forwardRef(({className:t,...e},n)=>s.jsx("tbody",{ref:n,className:Re("[&_tr:last-child]:border-0",t),...e}));Qs.displayName="TableBody";const YW=m.forwardRef(({className:t,...e},n)=>s.jsx("tfoot",{ref:n,className:Re("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));YW.displayName="TableFooter";const Ft=m.forwardRef(({className:t,...e},n)=>s.jsx("tr",{ref:n,className:Re("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));Ft.displayName="TableRow";const Ie=m.forwardRef(({className:t,...e},n)=>s.jsx("th",{ref:n,className:Re("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));Ie.displayName="TableHead";const Ee=m.forwardRef(({className:t,...e},n)=>s.jsx("td",{ref:n,className:Re("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));Ee.displayName="TableCell";const XW=m.forwardRef(({className:t,...e},n)=>s.jsx("caption",{ref:n,className:Re("mt-4 text-sm text-muted-foreground",t),...e}));XW.displayName="TableCaption";function ZW({strataId:t}){const{toast:e}=xn(),n=as(),{data:r=[],isLoading:i}=ot({queryKey:[`/api/strata/${t}/pending-approvals`],enabled:!!t}),a=ze({mutationFn:async({id:h,type:p})=>{const f=p==="quote"?`/api/quotes/${h}`:`/api/expenses/${h}`;await Be("PATCH",f,{status:"approved"})},onSuccess:()=>{n.invalidateQueries({queryKey:[`/api/strata/${t}/pending-approvals`]}),n.invalidateQueries({queryKey:[`/api/strata/${t}/metrics`]}),e({title:"Approved",description:"Item has been approved successfully."})},onError:h=>{e({title:"Error",description:"Failed to approve item. Please try again.",variant:"destructive"})}}),o=ze({mutationFn:async({id:h,type:p})=>{const f=p==="quote"?`/api/quotes/${h}`:`/api/expenses/${h}`;await Be("PATCH",f,{status:"rejected"})},onSuccess:()=>{n.invalidateQueries({queryKey:[`/api/strata/${t}/pending-approvals`]}),n.invalidateQueries({queryKey:[`/api/strata/${t}/metrics`]}),e({title:"Rejected",description:"Item has been rejected."})},onError:h=>{e({title:"Error",description:"Failed to reject item. Please try again.",variant:"destructive"})}}),l=(h,p)=>{a.mutate({id:h,type:p})},c=(h,p)=>{o.mutate({id:h,type:p})},u=h=>h==="quote"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800";return i?s.jsxs(ge,{className:"bg-white shadow-lg border border-border",children:[s.jsx(Ge,{children:s.jsx(Qe,{children:"Pending Approvals"})}),s.jsx(be,{children:s.jsx("div",{className:"animate-pulse space-y-4",children:[...Array(3)].map((h,p)=>s.jsx("div",{className:"h-12 bg-gray-200 rounded"},p))})})]}):s.jsxs(ge,{className:"bg-white shadow-lg border border-border",children:[s.jsxs(Ge,{className:"border-b border-border flex flex-row items-center justify-between",children:[s.jsxs(Qe,{className:"flex items-center",children:[s.jsx(xq,{className:"mr-3 h-5 w-5 text-accent"}),"Pending Approvals"]}),s.jsx($,{variant:"ghost",className:"text-secondary hover:text-primary",children:"View All"})]}),s.jsx(be,{className:"p-0",children:r.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(Ur,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No pending approvals"}),s.jsx("p",{className:"text-sm",children:"All items are up to date"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Ks,{children:[s.jsx(Gs,{children:s.jsxs(Ft,{className:"bg-muted/30",children:[s.jsx(Ie,{children:"Type"}),s.jsx(Ie,{children:"Description"}),s.jsx(Ie,{children:"Amount"}),s.jsx(Ie,{children:"Submitted"}),s.jsx(Ie,{children:"Actions"})]})}),s.jsx(Qs,{children:r.map(h=>s.jsxs(Ft,{className:"hover:bg-muted/30",children:[s.jsx(Ee,{children:s.jsx(He,{className:u(h.vendorId?"quote":"expense"),children:h.vendorId?"Quote":"Expense"})}),s.jsxs(Ee,{children:[s.jsx("div",{className:"text-sm font-medium text-foreground",children:h.description}),h.vendorId&&s.jsx("div",{className:"text-sm text-muted-foreground",children:"Vendor Quote"})]}),s.jsxs(Ee,{className:"font-medium",children:["$",h.amount]}),s.jsx(Ee,{className:"text-muted-foreground text-sm",children:new Date(h.createdAt).toLocaleDateString()}),s.jsx(Ee,{children:s.jsxs("div",{className:"flex space-x-2",children:[s.jsx($,{size:"sm",variant:"ghost",className:"text-secondary hover:text-primary",onClick:()=>l(h.id,h.vendorId?"quote":"expense"),disabled:a.isPending||o.isPending,children:s.jsx(Ur,{className:"h-4 w-4"})}),s.jsx($,{size:"sm",variant:"ghost",className:"text-destructive hover:text-destructive/80",onClick:()=>c(h.id,h.vendorId?"quote":"expense"),disabled:a.isPending||o.isPending,children:s.jsx(tf,{className:"h-4 w-4"})}),s.jsx($,{size:"sm",variant:"ghost",className:"text-muted-foreground hover:text-foreground",children:s.jsx(Nn,{className:"h-4 w-4"})})]})})]},h.id))})]})})})]})}function Em({className:t,...e}){return s.jsx("div",{className:Re("animate-pulse rounded-md bg-muted",t),...e})}function JW({strataId:t}){const[,e]=fo(),{data:n,isLoading:r}=ot({queryKey:[`/api/financial/summary/${t}`],enabled:!!t}),i=(n==null?void 0:n.monthlyRevenue)||0,a=i-((n==null?void 0:n.monthlyExpenses)||0),o=l=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(l);return s.jsxs(ge,{className:"bg-white shadow-lg border border-border",children:[s.jsx(Ge,{className:"border-b border-border",children:s.jsxs(Qe,{className:"flex items-center",children:[s.jsx(j0,{className:"mr-3 h-5 w-5 text-secondary"}),"Financial Overview"]})}),s.jsxs(be,{className:"p-6",children:[r?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-muted-foreground",children:"Monthly Revenue"}),s.jsx(Em,{className:"h-4 w-16"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-muted-foreground",children:"Monthly Expenses"}),s.jsx(Em,{className:"h-4 w-16"})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-muted-foreground",children:"Reserve Fund"}),s.jsx(Em,{className:"h-4 w-16"})]}),s.jsx("div",{className:"border-t border-border pt-4",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-foreground font-medium",children:"Net Income"}),s.jsx(Em,{className:"h-4 w-16"})]})})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-muted-foreground",children:"Monthly Revenue"}),s.jsx("span",{className:"font-semibold text-foreground",children:o(i)})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-muted-foreground",children:"Monthly Expenses"}),s.jsx("span",{className:"font-semibold text-foreground",children:o((n==null?void 0:n.monthlyExpenses)||0)})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-muted-foreground",children:"Reserve Fund"}),s.jsx("span",{className:"font-semibold text-foreground",children:o((n==null?void 0:n.reserveFund)||0)})]}),s.jsx("div",{className:"border-t border-border pt-4",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-foreground font-medium",children:"Net Income"}),s.jsx("span",{className:`font-bold ${a>=0?"text-green-600":"text-red-600"}`,children:o(a)})]})})]}),s.jsx("div",{className:"mt-6 pt-6 border-t border-border",children:s.jsx($,{className:"w-full bg-primary text-white hover:bg-primary/90",onClick:()=>e("/financial"),children:"View Detailed Reports"})})]})]})}function eK({strataId:t}){const{data:e=[],isLoading:n}=ot({queryKey:[`/api/strata/${t}/maintenance`],enabled:!!t}),r=o=>{switch(o){case"submitted":return"status-pending";case"in_progress":return"status-pending";case"completed":return"status-approved";default:return"status-pending"}},i=o=>{switch(o){case"submitted":return"Submitted";case"in_progress":return"In Progress";case"completed":return"Completed";default:return o}};if(n)return s.jsxs(ge,{className:"bg-white shadow-lg border border-border",children:[s.jsx(Ge,{children:s.jsx(Qe,{children:"Recent Maintenance"})}),s.jsx(be,{children:s.jsx("div",{className:"animate-pulse space-y-4",children:[...Array(2)].map((o,l)=>s.jsxs("div",{className:"border border-border rounded-lg p-4",children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded mb-2"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]},l))})})]});const a=e.slice(0,3);return s.jsxs(ge,{className:"bg-white shadow-lg border border-border",children:[s.jsx(Ge,{className:"border-b border-border",children:s.jsxs(Qe,{className:"flex items-center",children:[s.jsx(oi,{className:"mr-3 h-5 w-5 text-accent"}),"Recent Maintenance"]})}),s.jsx(be,{className:"p-6 space-y-4",children:a.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(oi,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No maintenance requests"}),s.jsx("p",{className:"text-sm",children:"New requests will appear here"})]}):s.jsxs(s.Fragment,{children:[a.map(o=>s.jsx("div",{className:"border border-border rounded-lg p-4",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-medium text-foreground",children:o.title}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:o.description}),s.jsxs("div",{className:"flex items-center mt-2 space-x-4",children:[s.jsxs("span",{className:"text-xs text-muted-foreground",children:["Submitted: ",new Date(o.createdAt).toLocaleDateString()]}),s.jsx(He,{className:r(o.status),children:i(o.status)})]})]}),s.jsx($,{variant:"ghost",size:"sm",className:"text-primary hover:text-secondary",children:s.jsx(JI,{className:"h-4 w-4"})})]})},o.id)),s.jsx("div",{className:"text-center pt-4",children:s.jsxs($,{variant:"ghost",className:"text-secondary hover:text-primary",children:["View All Requests ",s.jsx(v0,{className:"ml-1 h-4 w-4"})]})})]})})]})}function tK(){const{selectedStrataId:t,selectedStrata:e,isLoading:n}=ra(),r=t,{data:i,isLoading:a}=ot({queryKey:[`/api/strata/${r}/metrics`],enabled:!!r});return n||a?s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"animate-pulse space-y-6",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[...Array(4)].map((o,l)=>s.jsx("div",{className:"h-32 bg-gray-200 rounded-xl"},l))})})}):!r||!e?s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"text-center text-gray-500",children:s.jsx("p",{children:"Please select a strata organization to view the dashboard."})})}):s.jsxs("div",{className:"p-3 sm:p-6 space-y-6",children:[s.jsxs("div",{className:"border-b pb-4",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Dashboard"}),s.jsxs("p",{className:"text-gray-600 mt-1",children:["Overview for ",e.name]})]}),s.jsx(KW,{strataId:r,metrics:i}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsx(JW,{strataId:r}),s.jsx(GW,{strataId:r})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsx(QW,{}),s.jsx(ZW,{strataId:r}),s.jsx(eK,{strataId:r})]})]})]})}var nK="Label",HR=m.forwardRef((t,e)=>s.jsx(Ye.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));HR.displayName=nK;var WR=HR;const sK=Nh("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),me=m.forwardRef(({className:t,...e},n)=>s.jsx(WR,{ref:n,className:Re(sK(),t),...e}));me.displayName=WR.displayName;var rK=m.createContext(void 0);function Th(t){const e=m.useContext(rK);return t||e||"ltr"}var Ox="rovingFocusGroup.onEntryFocus",iK={bubbles:!1,cancelable:!0},ig="RovingFocusGroup",[Cv,KR,aK]=Gp(ig),[oK,ag]=os(ig,[aK]),[lK,cK]=oK(ig),GR=m.forwardRef((t,e)=>s.jsx(Cv.Provider,{scope:t.__scopeRovingFocusGroup,children:s.jsx(Cv.Slot,{scope:t.__scopeRovingFocusGroup,children:s.jsx(dK,{...t,ref:e})})}));GR.displayName=ig;var dK=m.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:h=!1,...p}=t,f=m.useRef(null),v=ft(e,f),_=Th(a),[j=null,E]=yi({prop:o,defaultProp:l,onChange:c}),[N,y]=m.useState(!1),w=tn(u),T=KR(n),O=m.useRef(!1),[U,A]=m.useState(0);return m.useEffect(()=>{const S=f.current;if(S)return S.addEventListener(Ox,w),()=>S.removeEventListener(Ox,w)},[w]),s.jsx(lK,{scope:n,orientation:r,dir:_,loop:i,currentTabStopId:j,onItemFocus:m.useCallback(S=>E(S),[E]),onItemShiftTab:m.useCallback(()=>y(!0),[]),onFocusableItemAdd:m.useCallback(()=>A(S=>S+1),[]),onFocusableItemRemove:m.useCallback(()=>A(S=>S-1),[]),children:s.jsx(Ye.div,{tabIndex:N||U===0?-1:0,"data-orientation":r,...p,ref:v,style:{outline:"none",...t.style},onMouseDown:Te(t.onMouseDown,()=>{O.current=!0}),onFocus:Te(t.onFocus,S=>{const g=!O.current;if(S.target===S.currentTarget&&g&&!N){const k=new CustomEvent(Ox,iK);if(S.currentTarget.dispatchEvent(k),!k.defaultPrevented){const P=T().filter(de=>de.focusable),I=P.find(de=>de.active),R=P.find(de=>de.id===j),Ne=[I,R,...P].filter(Boolean).map(de=>de.ref.current);XR(Ne,h)}}O.current=!1}),onBlur:Te(t.onBlur,()=>y(!1))})})}),QR="RovingFocusGroupItem",YR=m.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:a,...o}=t,l=Vr(),c=a||l,u=cK(QR,n),h=u.currentTabStopId===c,p=KR(n),{onFocusableItemAdd:f,onFocusableItemRemove:v}=u;return m.useEffect(()=>{if(r)return f(),()=>v()},[r,f,v]),s.jsx(Cv.ItemSlot,{scope:n,id:c,focusable:r,active:i,children:s.jsx(Ye.span,{tabIndex:h?0:-1,"data-orientation":u.orientation,...o,ref:e,onMouseDown:Te(t.onMouseDown,_=>{r?u.onItemFocus(c):_.preventDefault()}),onFocus:Te(t.onFocus,()=>u.onItemFocus(c)),onKeyDown:Te(t.onKeyDown,_=>{if(_.key==="Tab"&&_.shiftKey){u.onItemShiftTab();return}if(_.target!==_.currentTarget)return;const j=mK(_,u.orientation,u.dir);if(j!==void 0){if(_.metaKey||_.ctrlKey||_.altKey||_.shiftKey)return;_.preventDefault();let N=p().filter(y=>y.focusable).map(y=>y.ref.current);if(j==="last")N.reverse();else if(j==="prev"||j==="next"){j==="prev"&&N.reverse();const y=N.indexOf(_.currentTarget);N=u.loop?fK(N,y+1):N.slice(y+1)}setTimeout(()=>XR(N))}})})})});YR.displayName=QR;var uK={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function hK(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function mK(t,e,n){const r=hK(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return uK[r]}function XR(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function fK(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var ZR=GR,JR=YR,U0="Tabs",[pK,dne]=os(U0,[ag]),e4=ag(),[gK,V0]=pK(U0),t4=m.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:a,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=t,h=Th(l),[p,f]=yi({prop:r,onChange:i,defaultProp:a});return s.jsx(gK,{scope:n,baseId:Vr(),value:p,onValueChange:f,orientation:o,dir:h,activationMode:c,children:s.jsx(Ye.div,{dir:h,"data-orientation":o,...u,ref:e})})});t4.displayName=U0;var n4="TabsList",s4=m.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,a=V0(n4,n),o=e4(n);return s.jsx(ZR,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:r,children:s.jsx(Ye.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:e})})});s4.displayName=n4;var r4="TabsTrigger",i4=m.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...a}=t,o=V0(r4,n),l=e4(n),c=l4(o.baseId,r),u=c4(o.baseId,r),h=r===o.value;return s.jsx(JR,{asChild:!0,...l,focusable:!i,active:h,children:s.jsx(Ye.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":u,"data-state":h?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...a,ref:e,onMouseDown:Te(t.onMouseDown,p=>{!i&&p.button===0&&p.ctrlKey===!1?o.onValueChange(r):p.preventDefault()}),onKeyDown:Te(t.onKeyDown,p=>{[" ","Enter"].includes(p.key)&&o.onValueChange(r)}),onFocus:Te(t.onFocus,()=>{const p=o.activationMode!=="manual";!h&&!i&&p&&o.onValueChange(r)})})})});i4.displayName=r4;var a4="TabsContent",o4=m.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:a,...o}=t,l=V0(a4,n),c=l4(l.baseId,r),u=c4(l.baseId,r),h=r===l.value,p=m.useRef(h);return m.useEffect(()=>{const f=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(f)},[]),s.jsx(qn,{present:i||h,children:({present:f})=>s.jsx(Ye.div,{"data-state":h?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!f,id:u,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:p.current?"0s":void 0},children:f&&a})})});o4.displayName=a4;function l4(t,e){return`${t}-trigger-${e}`}function c4(t,e){return`${t}-content-${e}`}var xK=t4,d4=s4,u4=i4,h4=o4;const ud=xK,bl=m.forwardRef(({className:t,...e},n)=>s.jsx(d4,{ref:n,className:Re("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));bl.displayName=d4.displayName;const Qt=m.forwardRef(({className:t,...e},n)=>s.jsx(u4,{ref:n,className:Re("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Qt.displayName=u4.displayName;const Sn=m.forwardRef(({className:t,...e},n)=>s.jsx(h4,{ref:n,className:Re("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Sn.displayName=h4.displayName;var Fx="focusScope.autoFocusOnMount",Lx="focusScope.autoFocusOnUnmount",gS={bubbles:!1,cancelable:!0},yK="FocusScope",Eh=m.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...o}=t,[l,c]=m.useState(null),u=tn(i),h=tn(a),p=m.useRef(null),f=ft(e,j=>c(j)),v=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(r){let j=function(w){if(v.paused||!l)return;const T=w.target;l.contains(T)?p.current=T:va(p.current,{select:!0})},E=function(w){if(v.paused||!l)return;const T=w.relatedTarget;T!==null&&(l.contains(T)||va(p.current,{select:!0}))},N=function(w){if(document.activeElement===document.body)for(const O of w)O.removedNodes.length>0&&va(l)};document.addEventListener("focusin",j),document.addEventListener("focusout",E);const y=new MutationObserver(N);return l&&y.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",j),document.removeEventListener("focusout",E),y.disconnect()}}},[r,l,v.paused]),m.useEffect(()=>{if(l){yS.add(v);const j=document.activeElement;if(!l.contains(j)){const N=new CustomEvent(Fx,gS);l.addEventListener(Fx,u),l.dispatchEvent(N),N.defaultPrevented||(vK(SK(m4(l)),{select:!0}),document.activeElement===j&&va(l))}return()=>{l.removeEventListener(Fx,u),setTimeout(()=>{const N=new CustomEvent(Lx,gS);l.addEventListener(Lx,h),l.dispatchEvent(N),N.defaultPrevented||va(j??document.body,{select:!0}),l.removeEventListener(Lx,h),yS.remove(v)},0)}}},[l,u,h,v]);const _=m.useCallback(j=>{if(!n&&!r||v.paused)return;const E=j.key==="Tab"&&!j.altKey&&!j.ctrlKey&&!j.metaKey,N=document.activeElement;if(E&&N){const y=j.currentTarget,[w,T]=jK(y);w&&T?!j.shiftKey&&N===T?(j.preventDefault(),n&&va(w,{select:!0})):j.shiftKey&&N===w&&(j.preventDefault(),n&&va(T,{select:!0})):N===y&&j.preventDefault()}},[n,r,v.paused]);return s.jsx(Ye.div,{tabIndex:-1,...o,ref:f,onKeyDown:_})});Eh.displayName=yK;function vK(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(va(r,{select:e}),document.activeElement!==n)return}function jK(t){const e=m4(t),n=xS(e,t),r=xS(e.reverse(),t);return[n,r]}function m4(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function xS(t,e){for(const n of t)if(!wK(n,{upTo:e}))return n}function wK(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function bK(t){return t instanceof HTMLInputElement&&"select"in t}function va(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&bK(t)&&e&&t.select()}}var yS=NK();function NK(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=vS(t,e),t.unshift(e)},remove(e){var n;t=vS(t,e),(n=t[0])==null||n.resume()}}}function vS(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function SK(t){return t.filter(e=>e.tagName!=="A")}var Ux=0;function og(){m.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??jS()),document.body.insertAdjacentElement("beforeend",t[1]??jS()),Ux++,()=>{Ux===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Ux--}},[])}function jS(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var sf="right-scroll-bar-position",rf="width-before-scroll-bar",_K="with-scroll-bars-hidden",CK="--removed-body-scroll-bar-size";function Vx(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function TK(t,e){var n=m.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var EK=typeof window<"u"?m.useLayoutEffect:m.useEffect,wS=new WeakMap;function PK(t,e){var n=TK(null,function(r){return t.forEach(function(i){return Vx(i,r)})});return EK(function(){var r=wS.get(n);if(r){var i=new Set(r),a=new Set(t),o=n.current;i.forEach(function(l){a.has(l)||Vx(l,null)}),a.forEach(function(l){i.has(l)||Vx(l,o)})}wS.set(n,t)},[t]),n}function kK(t){return t}function AK(t,e){e===void 0&&(e=kK);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(a){var o=e(a,r);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(a){for(r=!0;n.length;){var o=n;n=[],o.forEach(a)}n={push:function(l){return a(l)},filter:function(){return n}}},assignMedium:function(a){r=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(a),o=n}var c=function(){var h=o;o=[],h.forEach(a)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(h){o.push(h),u()},filter:function(h){return o=o.filter(h),n}}}};return i}function IK(t){t===void 0&&(t={});var e=AK(null);return e.options=ri({async:!0,ssr:!1},t),e}var f4=function(t){var e=t.sideCar,n=yh(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return m.createElement(r,ri({},n))};f4.isSideCarExport=!0;function RK(t,e){return t.useMedium(e),f4}var p4=IK(),$x=function(){},lg=m.forwardRef(function(t,e){var n=m.useRef(null),r=m.useState({onScrollCapture:$x,onWheelCapture:$x,onTouchMoveCapture:$x}),i=r[0],a=r[1],o=t.forwardProps,l=t.children,c=t.className,u=t.removeScrollBar,h=t.enabled,p=t.shards,f=t.sideCar,v=t.noIsolation,_=t.inert,j=t.allowPinchZoom,E=t.as,N=E===void 0?"div":E,y=t.gapMode,w=yh(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),T=f,O=PK([n,e]),U=ri(ri({},w),i);return m.createElement(m.Fragment,null,h&&m.createElement(T,{sideCar:p4,removeScrollBar:u,shards:p,noIsolation:v,inert:_,setCallbacks:a,allowPinchZoom:!!j,lockRef:n,gapMode:y}),o?m.cloneElement(m.Children.only(l),ri(ri({},U),{ref:O})):m.createElement(N,ri({},U,{className:c,ref:O}),l))});lg.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};lg.classNames={fullWidth:rf,zeroRight:sf};var DK=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function MK(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=DK();return e&&t.setAttribute("nonce",e),t}function OK(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function FK(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var LK=function(){var t=0,e=null;return{add:function(n){t==0&&(e=MK())&&(OK(e,n),FK(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},UK=function(){var t=LK();return function(e,n){m.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},g4=function(){var t=UK(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},VK={left:0,top:0,right:0,gap:0},zx=function(t){return parseInt(t||"",10)||0},$K=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[zx(n),zx(r),zx(i)]},zK=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return VK;var e=$K(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},BK=g4(),gc="data-scroll-locked",qK=function(t,e,n,r){var i=t.left,a=t.top,o=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(_K,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(gc,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(sf,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(rf,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(sf," .").concat(sf,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(rf," .").concat(rf,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(gc,`] {
    `).concat(CK,": ").concat(l,`px;
  }
`)},bS=function(){var t=parseInt(document.body.getAttribute(gc)||"0",10);return isFinite(t)?t:0},HK=function(){m.useEffect(function(){return document.body.setAttribute(gc,(bS()+1).toString()),function(){var t=bS()-1;t<=0?document.body.removeAttribute(gc):document.body.setAttribute(gc,t.toString())}},[])},WK=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;HK();var a=m.useMemo(function(){return zK(i)},[i]);return m.createElement(BK,{styles:qK(a,!e,i,n?"":"!important")})},Tv=!1;if(typeof window<"u")try{var Pm=Object.defineProperty({},"passive",{get:function(){return Tv=!0,!0}});window.addEventListener("test",Pm,Pm),window.removeEventListener("test",Pm,Pm)}catch{Tv=!1}var kl=Tv?{passive:!1}:!1,KK=function(t){return t.tagName==="TEXTAREA"},x4=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!KK(t)&&n[e]==="visible")},GK=function(t){return x4(t,"overflowY")},QK=function(t){return x4(t,"overflowX")},NS=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=y4(t,r);if(i){var a=v4(t,r),o=a[1],l=a[2];if(o>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},YK=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},XK=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},y4=function(t,e){return t==="v"?GK(e):QK(e)},v4=function(t,e){return t==="v"?YK(e):XK(e)},ZK=function(t,e){return t==="h"&&e==="rtl"?-1:1},JK=function(t,e,n,r,i){var a=ZK(t,window.getComputedStyle(e).direction),o=a*r,l=n.target,c=e.contains(l),u=!1,h=o>0,p=0,f=0;do{var v=v4(t,l),_=v[0],j=v[1],E=v[2],N=j-E-a*_;(_||N)&&y4(t,l)&&(p+=N,f+=_),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(h&&(Math.abs(p)<1||!i)||!h&&(Math.abs(f)<1||!i))&&(u=!0),u},km=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},SS=function(t){return[t.deltaX,t.deltaY]},_S=function(t){return t&&"current"in t?t.current:t},eG=function(t,e){return t[0]===e[0]&&t[1]===e[1]},tG=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},nG=0,Al=[];function sG(t){var e=m.useRef([]),n=m.useRef([0,0]),r=m.useRef(),i=m.useState(nG++)[0],a=m.useState(g4)[0],o=m.useRef(t);m.useEffect(function(){o.current=t},[t]),m.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var j=y$([t.lockRef.current],(t.shards||[]).map(_S),!0).filter(Boolean);return j.forEach(function(E){return E.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),j.forEach(function(E){return E.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var l=m.useCallback(function(j,E){if("touches"in j&&j.touches.length===2||j.type==="wheel"&&j.ctrlKey)return!o.current.allowPinchZoom;var N=km(j),y=n.current,w="deltaX"in j?j.deltaX:y[0]-N[0],T="deltaY"in j?j.deltaY:y[1]-N[1],O,U=j.target,A=Math.abs(w)>Math.abs(T)?"h":"v";if("touches"in j&&A==="h"&&U.type==="range")return!1;var S=NS(A,U);if(!S)return!0;if(S?O=A:(O=A==="v"?"h":"v",S=NS(A,U)),!S)return!1;if(!r.current&&"changedTouches"in j&&(w||T)&&(r.current=O),!O)return!0;var g=r.current||O;return JK(g,E,j,g==="h"?w:T,!0)},[]),c=m.useCallback(function(j){var E=j;if(!(!Al.length||Al[Al.length-1]!==a)){var N="deltaY"in E?SS(E):km(E),y=e.current.filter(function(O){return O.name===E.type&&(O.target===E.target||E.target===O.shadowParent)&&eG(O.delta,N)})[0];if(y&&y.should){E.cancelable&&E.preventDefault();return}if(!y){var w=(o.current.shards||[]).map(_S).filter(Boolean).filter(function(O){return O.contains(E.target)}),T=w.length>0?l(E,w[0]):!o.current.noIsolation;T&&E.cancelable&&E.preventDefault()}}},[]),u=m.useCallback(function(j,E,N,y){var w={name:j,delta:E,target:N,should:y,shadowParent:rG(N)};e.current.push(w),setTimeout(function(){e.current=e.current.filter(function(T){return T!==w})},1)},[]),h=m.useCallback(function(j){n.current=km(j),r.current=void 0},[]),p=m.useCallback(function(j){u(j.type,SS(j),j.target,l(j,t.lockRef.current))},[]),f=m.useCallback(function(j){u(j.type,km(j),j.target,l(j,t.lockRef.current))},[]);m.useEffect(function(){return Al.push(a),t.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:f}),document.addEventListener("wheel",c,kl),document.addEventListener("touchmove",c,kl),document.addEventListener("touchstart",h,kl),function(){Al=Al.filter(function(j){return j!==a}),document.removeEventListener("wheel",c,kl),document.removeEventListener("touchmove",c,kl),document.removeEventListener("touchstart",h,kl)}},[]);var v=t.removeScrollBar,_=t.inert;return m.createElement(m.Fragment,null,_?m.createElement(a,{styles:tG(i)}):null,v?m.createElement(WK,{gapMode:t.gapMode}):null)}function rG(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const iG=RK(p4,sG);var Ph=m.forwardRef(function(t,e){return m.createElement(lg,ri({},t,{ref:e,sideCar:iG}))});Ph.classNames=lg.classNames;var aG=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Il=new WeakMap,Am=new WeakMap,Im={},Bx=0,j4=function(t){return t&&(t.host||j4(t.parentNode))},oG=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=j4(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},lG=function(t,e,n,r){var i=oG(e,Array.isArray(t)?t:[t]);Im[n]||(Im[n]=new WeakMap);var a=Im[n],o=[],l=new Set,c=new Set(i),u=function(p){!p||l.has(p)||(l.add(p),u(p.parentNode))};i.forEach(u);var h=function(p){!p||c.has(p)||Array.prototype.forEach.call(p.children,function(f){if(l.has(f))h(f);else try{var v=f.getAttribute(r),_=v!==null&&v!=="false",j=(Il.get(f)||0)+1,E=(a.get(f)||0)+1;Il.set(f,j),a.set(f,E),o.push(f),j===1&&_&&Am.set(f,!0),E===1&&f.setAttribute(n,"true"),_||f.setAttribute(r,"true")}catch(N){console.error("aria-hidden: cannot operate on ",f,N)}})};return h(e),l.clear(),Bx++,function(){o.forEach(function(p){var f=Il.get(p)-1,v=a.get(p)-1;Il.set(p,f),a.set(p,v),f||(Am.has(p)||p.removeAttribute(r),Am.delete(p)),v||p.removeAttribute(n)}),Bx--,Bx||(Il=new WeakMap,Il=new WeakMap,Am=new WeakMap,Im={})}},cg=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=aG(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),lG(r,i,n,"aria-hidden")):function(){return null}},$0="Dialog",[w4,b4]=os($0),[cG,Kr]=w4($0),N4=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:a,modal:o=!0}=t,l=m.useRef(null),c=m.useRef(null),[u=!1,h]=yi({prop:r,defaultProp:i,onChange:a});return s.jsx(cG,{scope:e,triggerRef:l,contentRef:c,contentId:Vr(),titleId:Vr(),descriptionId:Vr(),open:u,onOpenChange:h,onOpenToggle:m.useCallback(()=>h(p=>!p),[h]),modal:o,children:n})};N4.displayName=$0;var S4="DialogTrigger",_4=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Kr(S4,n),a=ft(e,i.triggerRef);return s.jsx(Ye.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":q0(i.open),...r,ref:a,onClick:Te(t.onClick,i.onOpenToggle)})});_4.displayName=S4;var z0="DialogPortal",[dG,C4]=w4(z0,{forceMount:void 0}),T4=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,a=Kr(z0,e);return s.jsx(dG,{scope:e,forceMount:n,children:m.Children.map(r,o=>s.jsx(qn,{present:n||a.open,children:s.jsx(ad,{asChild:!0,container:i,children:o})}))})};T4.displayName=z0;var Jf="DialogOverlay",E4=m.forwardRef((t,e)=>{const n=C4(Jf,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,a=Kr(Jf,t.__scopeDialog);return a.modal?s.jsx(qn,{present:r||a.open,children:s.jsx(hG,{...i,ref:e})}):null});E4.displayName=Jf;var uG=no("DialogOverlay.RemoveScroll"),hG=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Kr(Jf,n);return s.jsx(Ph,{as:uG,allowPinchZoom:!0,shards:[i.contentRef],children:s.jsx(Ye.div,{"data-state":q0(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),cl="DialogContent",P4=m.forwardRef((t,e)=>{const n=C4(cl,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,a=Kr(cl,t.__scopeDialog);return s.jsx(qn,{present:r||a.open,children:a.modal?s.jsx(mG,{...i,ref:e}):s.jsx(fG,{...i,ref:e})})});P4.displayName=cl;var mG=m.forwardRef((t,e)=>{const n=Kr(cl,t.__scopeDialog),r=m.useRef(null),i=ft(e,n.contentRef,r);return m.useEffect(()=>{const a=r.current;if(a)return cg(a)},[]),s.jsx(k4,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Te(t.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Te(t.onPointerDownOutside,a=>{const o=a.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&a.preventDefault()}),onFocusOutside:Te(t.onFocusOutside,a=>a.preventDefault())})}),fG=m.forwardRef((t,e)=>{const n=Kr(cl,t.__scopeDialog),r=m.useRef(!1),i=m.useRef(!1);return s.jsx(k4,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=t.onCloseAutoFocus)==null||o.call(t,a),a.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),a.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:a=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),k4=m.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,...o}=t,l=Kr(cl,n),c=m.useRef(null),u=ft(e,c);return og(),s.jsxs(s.Fragment,{children:[s.jsx(Eh,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a,children:s.jsx(wl,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":q0(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(gG,{titleId:l.titleId}),s.jsx(yG,{contentRef:c,descriptionId:l.descriptionId})]})]})}),B0="DialogTitle",A4=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Kr(B0,n);return s.jsx(Ye.h2,{id:i.titleId,...r,ref:e})});A4.displayName=B0;var I4="DialogDescription",R4=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Kr(I4,n);return s.jsx(Ye.p,{id:i.descriptionId,...r,ref:e})});R4.displayName=I4;var D4="DialogClose",M4=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Kr(D4,n);return s.jsx(Ye.button,{type:"button",...r,ref:e,onClick:Te(t.onClick,()=>i.onOpenChange(!1))})});M4.displayName=D4;function q0(t){return t?"open":"closed"}var O4="DialogTitleWarning",[pG,F4]=wB(O4,{contentName:cl,titleName:B0,docsSlug:"dialog"}),gG=({titleId:t})=>{const e=F4(O4),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return m.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},xG="DialogDescriptionWarning",yG=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${F4(xG).contentName}}.`;return m.useEffect(()=>{var a;const i=(a=t.current)==null?void 0:a.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},H0=N4,W0=_4,K0=T4,kh=E4,Ah=P4,Ih=A4,Rh=R4,dg=M4;const ut=H0,Fn=W0,vG=K0,L4=m.forwardRef(({className:t,...e},n)=>s.jsx(kh,{ref:n,className:Re("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));L4.displayName=kh.displayName;const ct=m.forwardRef(({className:t,children:e,...n},r)=>s.jsxs(vG,{children:[s.jsx(L4,{}),s.jsxs(Ah,{ref:r,className:Re("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,s.jsxs(dg,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(mi,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ct.displayName=Ah.displayName;const ht=({className:t,...e})=>s.jsx("div",{className:Re("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});ht.displayName="DialogHeader";const mt=m.forwardRef(({className:t,...e},n)=>s.jsx(Ih,{ref:n,className:Re("text-lg font-semibold leading-none tracking-tight",t),...e}));mt.displayName=Ih.displayName;const Zt=m.forwardRef(({className:t,...e},n)=>s.jsx(Rh,{ref:n,className:Re("text-sm text-muted-foreground",t),...e}));Zt.displayName=Rh.displayName;function Ev(t,[e,n]){return Math.min(n,Math.max(e,t))}function G0(t){const e=m.useRef({value:t,previous:t});return m.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var jG=[" ","Enter","ArrowUp","ArrowDown"],wG=[" ","Enter"],Dh="Select",[ug,hg,bG]=Gp(Dh),[hd,une]=os(Dh,[bG,go]),mg=go(),[NG,xo]=hd(Dh),[SG,_G]=hd(Dh),U4=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:a,value:o,defaultValue:l,onValueChange:c,dir:u,name:h,autoComplete:p,disabled:f,required:v,form:_}=t,j=mg(e),[E,N]=m.useState(null),[y,w]=m.useState(null),[T,O]=m.useState(!1),U=Th(u),[A=!1,S]=yi({prop:r,defaultProp:i,onChange:a}),[g,k]=yi({prop:o,defaultProp:l,onChange:c}),P=m.useRef(null),I=E?_||!!E.closest("form"):!0,[R,Q]=m.useState(new Set),Ne=Array.from(R).map(de=>de.props.value).join(";");return s.jsx(O0,{...j,children:s.jsxs(NG,{required:v,scope:e,trigger:E,onTriggerChange:N,valueNode:y,onValueNodeChange:w,valueNodeHasChildren:T,onValueNodeHasChildrenChange:O,contentId:Vr(),value:g,onValueChange:k,open:A,onOpenChange:S,dir:U,triggerPointerDownPosRef:P,disabled:f,children:[s.jsx(ug.Provider,{scope:e,children:s.jsx(SG,{scope:t.__scopeSelect,onNativeOptionAdd:m.useCallback(de=>{Q(K=>new Set(K).add(de))},[]),onNativeOptionRemove:m.useCallback(de=>{Q(K=>{const F=new Set(K);return F.delete(de),F})},[]),children:n})}),I?s.jsxs(dD,{"aria-hidden":!0,required:v,tabIndex:-1,name:h,autoComplete:p,value:g,onChange:de=>k(de.target.value),disabled:f,form:_,children:[g===void 0?s.jsx("option",{value:""}):null,Array.from(R)]},Ne):null]})})};U4.displayName=Dh;var V4="SelectTrigger",$4=m.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,a=mg(n),o=xo(V4,n),l=o.disabled||r,c=ft(e,o.onTriggerChange),u=hg(n),h=m.useRef("touch"),[p,f,v]=uD(j=>{const E=u().filter(w=>!w.disabled),N=E.find(w=>w.value===o.value),y=hD(E,j,N);y!==void 0&&o.onValueChange(y.value)}),_=j=>{l||(o.onOpenChange(!0),v()),j&&(o.triggerPointerDownPosRef.current={x:Math.round(j.pageX),y:Math.round(j.pageY)})};return s.jsx(Ch,{asChild:!0,...a,children:s.jsx(Ye.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":cD(o.value)?"":void 0,...i,ref:c,onClick:Te(i.onClick,j=>{j.currentTarget.focus(),h.current!=="mouse"&&_(j)}),onPointerDown:Te(i.onPointerDown,j=>{h.current=j.pointerType;const E=j.target;E.hasPointerCapture(j.pointerId)&&E.releasePointerCapture(j.pointerId),j.button===0&&j.ctrlKey===!1&&j.pointerType==="mouse"&&(_(j),j.preventDefault())}),onKeyDown:Te(i.onKeyDown,j=>{const E=p.current!=="";!(j.ctrlKey||j.altKey||j.metaKey)&&j.key.length===1&&f(j.key),!(E&&j.key===" ")&&jG.includes(j.key)&&(_(),j.preventDefault())})})})});$4.displayName=V4;var z4="SelectValue",B4=m.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:a,placeholder:o="",...l}=t,c=xo(z4,n),{onValueNodeHasChildrenChange:u}=c,h=a!==void 0,p=ft(e,c.onValueNodeChange);return Rn(()=>{u(h)},[u,h]),s.jsx(Ye.span,{...l,ref:p,style:{pointerEvents:"none"},children:cD(c.value)?s.jsx(s.Fragment,{children:o}):a})});B4.displayName=z4;var CG="SelectIcon",q4=m.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return s.jsx(Ye.span,{"aria-hidden":!0,...i,ref:e,children:r||"▼"})});q4.displayName=CG;var TG="SelectPortal",H4=t=>s.jsx(ad,{asChild:!0,...t});H4.displayName=TG;var dl="SelectContent",W4=m.forwardRef((t,e)=>{const n=xo(dl,t.__scopeSelect),[r,i]=m.useState();if(Rn(()=>{i(new DocumentFragment)},[]),!n.open){const a=r;return a?xl.createPortal(s.jsx(K4,{scope:t.__scopeSelect,children:s.jsx(ug.Slot,{scope:t.__scopeSelect,children:s.jsx("div",{children:t.children})})}),a):null}return s.jsx(G4,{...t,ref:e})});W4.displayName=dl;var br=10,[K4,yo]=hd(dl),EG="SelectContentImpl",PG=no("SelectContent.RemoveScroll"),G4=m.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:h,arrowPadding:p,collisionBoundary:f,collisionPadding:v,sticky:_,hideWhenDetached:j,avoidCollisions:E,...N}=t,y=xo(dl,n),[w,T]=m.useState(null),[O,U]=m.useState(null),A=ft(e,we=>T(we)),[S,g]=m.useState(null),[k,P]=m.useState(null),I=hg(n),[R,Q]=m.useState(!1),Ne=m.useRef(!1);m.useEffect(()=>{if(w)return cg(w)},[w]),og();const de=m.useCallback(we=>{const[fe,...Y]=I().map(Oe=>Oe.ref.current),[X]=Y.slice(-1),je=document.activeElement;for(const Oe of we)if(Oe===je||(Oe==null||Oe.scrollIntoView({block:"nearest"}),Oe===fe&&O&&(O.scrollTop=0),Oe===X&&O&&(O.scrollTop=O.scrollHeight),Oe==null||Oe.focus(),document.activeElement!==je))return},[I,O]),K=m.useCallback(()=>de([S,w]),[de,S,w]);m.useEffect(()=>{R&&K()},[R,K]);const{onOpenChange:F,triggerPointerDownPosRef:z}=y;m.useEffect(()=>{if(w){let we={x:0,y:0};const fe=X=>{var je,Oe;we={x:Math.abs(Math.round(X.pageX)-(((je=z.current)==null?void 0:je.x)??0)),y:Math.abs(Math.round(X.pageY)-(((Oe=z.current)==null?void 0:Oe.y)??0))}},Y=X=>{we.x<=10&&we.y<=10?X.preventDefault():w.contains(X.target)||F(!1),document.removeEventListener("pointermove",fe),z.current=null};return z.current!==null&&(document.addEventListener("pointermove",fe),document.addEventListener("pointerup",Y,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",fe),document.removeEventListener("pointerup",Y,{capture:!0})}}},[w,F,z]),m.useEffect(()=>{const we=()=>F(!1);return window.addEventListener("blur",we),window.addEventListener("resize",we),()=>{window.removeEventListener("blur",we),window.removeEventListener("resize",we)}},[F]);const[W,se]=uD(we=>{const fe=I().filter(je=>!je.disabled),Y=fe.find(je=>je.ref.current===document.activeElement),X=hD(fe,we,Y);X&&setTimeout(()=>X.ref.current.focus())}),Ce=m.useCallback((we,fe,Y)=>{const X=!Ne.current&&!Y;(y.value!==void 0&&y.value===fe||X)&&(g(we),X&&(Ne.current=!0))},[y.value]),Me=m.useCallback(()=>w==null?void 0:w.focus(),[w]),q=m.useCallback((we,fe,Y)=>{const X=!Ne.current&&!Y;(y.value!==void 0&&y.value===fe||X)&&P(we)},[y.value]),ve=r==="popper"?Pv:Q4,Ue=ve===Pv?{side:l,sideOffset:c,align:u,alignOffset:h,arrowPadding:p,collisionBoundary:f,collisionPadding:v,sticky:_,hideWhenDetached:j,avoidCollisions:E}:{};return s.jsx(K4,{scope:n,content:w,viewport:O,onViewportChange:U,itemRefCallback:Ce,selectedItem:S,onItemLeave:Me,itemTextRefCallback:q,focusSelectedItem:K,selectedItemText:k,position:r,isPositioned:R,searchRef:W,children:s.jsx(Ph,{as:PG,allowPinchZoom:!0,children:s.jsx(Eh,{asChild:!0,trapped:y.open,onMountAutoFocus:we=>{we.preventDefault()},onUnmountAutoFocus:Te(i,we=>{var fe;(fe=y.trigger)==null||fe.focus({preventScroll:!0}),we.preventDefault()}),children:s.jsx(wl,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:we=>we.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:s.jsx(ve,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:we=>we.preventDefault(),...N,...Ue,onPlaced:()=>Q(!0),ref:A,style:{display:"flex",flexDirection:"column",outline:"none",...N.style},onKeyDown:Te(N.onKeyDown,we=>{const fe=we.ctrlKey||we.altKey||we.metaKey;if(we.key==="Tab"&&we.preventDefault(),!fe&&we.key.length===1&&se(we.key),["ArrowUp","ArrowDown","Home","End"].includes(we.key)){let X=I().filter(je=>!je.disabled).map(je=>je.ref.current);if(["ArrowUp","End"].includes(we.key)&&(X=X.slice().reverse()),["ArrowUp","ArrowDown"].includes(we.key)){const je=we.target,Oe=X.indexOf(je);X=X.slice(Oe+1)}setTimeout(()=>de(X)),we.preventDefault()}})})})})})})});G4.displayName=EG;var kG="SelectItemAlignedPosition",Q4=m.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,a=xo(dl,n),o=yo(dl,n),[l,c]=m.useState(null),[u,h]=m.useState(null),p=ft(e,A=>h(A)),f=hg(n),v=m.useRef(!1),_=m.useRef(!0),{viewport:j,selectedItem:E,selectedItemText:N,focusSelectedItem:y}=o,w=m.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&u&&j&&E&&N){const A=a.trigger.getBoundingClientRect(),S=u.getBoundingClientRect(),g=a.valueNode.getBoundingClientRect(),k=N.getBoundingClientRect();if(a.dir!=="rtl"){const je=k.left-S.left,Oe=g.left-je,lt=A.left-Oe,Dt=A.width+lt,yn=Math.max(Dt,S.width),un=window.innerWidth-br,hn=Ev(Oe,[br,Math.max(br,un-yn)]);l.style.minWidth=Dt+"px",l.style.left=hn+"px"}else{const je=S.right-k.right,Oe=window.innerWidth-g.right-je,lt=window.innerWidth-A.right-Oe,Dt=A.width+lt,yn=Math.max(Dt,S.width),un=window.innerWidth-br,hn=Ev(Oe,[br,Math.max(br,un-yn)]);l.style.minWidth=Dt+"px",l.style.right=hn+"px"}const P=f(),I=window.innerHeight-br*2,R=j.scrollHeight,Q=window.getComputedStyle(u),Ne=parseInt(Q.borderTopWidth,10),de=parseInt(Q.paddingTop,10),K=parseInt(Q.borderBottomWidth,10),F=parseInt(Q.paddingBottom,10),z=Ne+de+R+F+K,W=Math.min(E.offsetHeight*5,z),se=window.getComputedStyle(j),Ce=parseInt(se.paddingTop,10),Me=parseInt(se.paddingBottom,10),q=A.top+A.height/2-br,ve=I-q,Ue=E.offsetHeight/2,we=E.offsetTop+Ue,fe=Ne+de+we,Y=z-fe;if(fe<=q){const je=P.length>0&&E===P[P.length-1].ref.current;l.style.bottom="0px";const Oe=u.clientHeight-j.offsetTop-j.offsetHeight,lt=Math.max(ve,Ue+(je?Me:0)+Oe+K),Dt=fe+lt;l.style.height=Dt+"px"}else{const je=P.length>0&&E===P[0].ref.current;l.style.top="0px";const lt=Math.max(q,Ne+j.offsetTop+(je?Ce:0)+Ue)+Y;l.style.height=lt+"px",j.scrollTop=fe-q+j.offsetTop}l.style.margin=`${br}px 0`,l.style.minHeight=W+"px",l.style.maxHeight=I+"px",r==null||r(),requestAnimationFrame(()=>v.current=!0)}},[f,a.trigger,a.valueNode,l,u,j,E,N,a.dir,r]);Rn(()=>w(),[w]);const[T,O]=m.useState();Rn(()=>{u&&O(window.getComputedStyle(u).zIndex)},[u]);const U=m.useCallback(A=>{A&&_.current===!0&&(w(),y==null||y(),_.current=!1)},[w,y]);return s.jsx(IG,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:v,onScrollButtonChange:U,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:T},children:s.jsx(Ye.div,{...i,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});Q4.displayName=kG;var AG="SelectPopperPosition",Pv=m.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=br,...a}=t,o=mg(n);return s.jsx(tg,{...o,...a,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Pv.displayName=AG;var[IG,Q0]=hd(dl,{}),kv="SelectViewport",Y4=m.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,a=yo(kv,n),o=Q0(kv,n),l=ft(e,a.onViewportChange),c=m.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),s.jsx(ug.Slot,{scope:n,children:s.jsx(Ye.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Te(i.onScroll,u=>{const h=u.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:f}=o;if(f!=null&&f.current&&p){const v=Math.abs(c.current-h.scrollTop);if(v>0){const _=window.innerHeight-br*2,j=parseFloat(p.style.minHeight),E=parseFloat(p.style.height),N=Math.max(j,E);if(N<_){const y=N+v,w=Math.min(_,y),T=y-w;p.style.height=w+"px",p.style.bottom==="0px"&&(h.scrollTop=T>0?T:0,p.style.justifyContent="flex-end")}}}c.current=h.scrollTop})})})]})});Y4.displayName=kv;var X4="SelectGroup",[RG,DG]=hd(X4),MG=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Vr();return s.jsx(RG,{scope:n,id:i,children:s.jsx(Ye.div,{role:"group","aria-labelledby":i,...r,ref:e})})});MG.displayName=X4;var Z4="SelectLabel",J4=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=DG(Z4,n);return s.jsx(Ye.div,{id:i.id,...r,ref:e})});J4.displayName=Z4;var ep="SelectItem",[OG,eD]=hd(ep),tD=m.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:a,...o}=t,l=xo(ep,n),c=yo(ep,n),u=l.value===r,[h,p]=m.useState(a??""),[f,v]=m.useState(!1),_=ft(e,y=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,y,r,i)}),j=Vr(),E=m.useRef("touch"),N=()=>{i||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(OG,{scope:n,value:r,disabled:i,textId:j,isSelected:u,onItemTextChange:m.useCallback(y=>{p(w=>w||((y==null?void 0:y.textContent)??"").trim())},[]),children:s.jsx(ug.ItemSlot,{scope:n,value:r,disabled:i,textValue:h,children:s.jsx(Ye.div,{role:"option","aria-labelledby":j,"data-highlighted":f?"":void 0,"aria-selected":u&&f,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:_,onFocus:Te(o.onFocus,()=>v(!0)),onBlur:Te(o.onBlur,()=>v(!1)),onClick:Te(o.onClick,()=>{E.current!=="mouse"&&N()}),onPointerUp:Te(o.onPointerUp,()=>{E.current==="mouse"&&N()}),onPointerDown:Te(o.onPointerDown,y=>{E.current=y.pointerType}),onPointerMove:Te(o.onPointerMove,y=>{var w;E.current=y.pointerType,i?(w=c.onItemLeave)==null||w.call(c):E.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Te(o.onPointerLeave,y=>{var w;y.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:Te(o.onKeyDown,y=>{var T;((T=c.searchRef)==null?void 0:T.current)!==""&&y.key===" "||(wG.includes(y.key)&&N(),y.key===" "&&y.preventDefault())})})})})});tD.displayName=ep;var Qd="SelectItemText",nD=m.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...a}=t,o=xo(Qd,n),l=yo(Qd,n),c=eD(Qd,n),u=_G(Qd,n),[h,p]=m.useState(null),f=ft(e,N=>p(N),c.onItemTextChange,N=>{var y;return(y=l.itemTextRefCallback)==null?void 0:y.call(l,N,c.value,c.disabled)}),v=h==null?void 0:h.textContent,_=m.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:v},c.value),[c.disabled,c.value,v]),{onNativeOptionAdd:j,onNativeOptionRemove:E}=u;return Rn(()=>(j(_),()=>E(_)),[j,E,_]),s.jsxs(s.Fragment,{children:[s.jsx(Ye.span,{id:c.textId,...a,ref:f}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?xl.createPortal(a.children,o.valueNode):null]})});nD.displayName=Qd;var sD="SelectItemIndicator",rD=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return eD(sD,n).isSelected?s.jsx(Ye.span,{"aria-hidden":!0,...r,ref:e}):null});rD.displayName=sD;var Av="SelectScrollUpButton",iD=m.forwardRef((t,e)=>{const n=yo(Av,t.__scopeSelect),r=Q0(Av,t.__scopeSelect),[i,a]=m.useState(!1),o=ft(e,r.onScrollButtonChange);return Rn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;a(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?s.jsx(oD,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});iD.displayName=Av;var Iv="SelectScrollDownButton",aD=m.forwardRef((t,e)=>{const n=yo(Iv,t.__scopeSelect),r=Q0(Iv,t.__scopeSelect),[i,a]=m.useState(!1),o=ft(e,r.onScrollButtonChange);return Rn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,h=Math.ceil(c.scrollTop)<u;a(h)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?s.jsx(oD,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});aD.displayName=Iv;var oD=m.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,a=yo("SelectScrollButton",n),o=m.useRef(null),l=hg(n),c=m.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return m.useEffect(()=>()=>c(),[c]),Rn(()=>{var h;const u=l().find(p=>p.ref.current===document.activeElement);(h=u==null?void 0:u.ref.current)==null||h.scrollIntoView({block:"nearest"})},[l]),s.jsx(Ye.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:Te(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:Te(i.onPointerMove,()=>{var u;(u=a.onItemLeave)==null||u.call(a),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:Te(i.onPointerLeave,()=>{c()})})}),FG="SelectSeparator",lD=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return s.jsx(Ye.div,{"aria-hidden":!0,...r,ref:e})});lD.displayName=FG;var Rv="SelectArrow",LG=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=mg(n),a=xo(Rv,n),o=yo(Rv,n);return a.open&&o.position==="popper"?s.jsx(ng,{...i,...r,ref:e}):null});LG.displayName=Rv;function cD(t){return t===""||t===void 0}var dD=m.forwardRef((t,e)=>{const{value:n,...r}=t,i=m.useRef(null),a=ft(e,i),o=G0(n);return m.useEffect(()=>{const l=i.current,c=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==n&&h){const p=new Event("change",{bubbles:!0});h.call(l,n),l.dispatchEvent(p)}},[o,n]),s.jsx(bh,{asChild:!0,children:s.jsx("select",{...r,ref:a,defaultValue:n})})});dD.displayName="BubbleSelect";function uD(t){const e=tn(t),n=m.useRef(""),r=m.useRef(0),i=m.useCallback(o=>{const l=n.current+o;e(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[e]),a=m.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,a]}function hD(t,e,n){const i=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,a=n?t.indexOf(n):-1;let o=UG(t,Math.max(a,0));i.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function UG(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var VG=U4,mD=$4,$G=B4,zG=q4,BG=H4,fD=W4,qG=Y4,pD=J4,gD=tD,HG=nD,WG=rD,xD=iD,yD=aD,vD=lD;const tt=VG,nt=$G,Ze=m.forwardRef(({className:t,children:e,...n},r)=>s.jsxs(mD,{ref:r,className:Re("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,s.jsx(zG,{asChild:!0,children:s.jsx(w0,{className:"h-4 w-4 opacity-50"})})]}));Ze.displayName=mD.displayName;const jD=m.forwardRef(({className:t,...e},n)=>s.jsx(xD,{ref:n,className:Re("flex cursor-default items-center justify-center py-1",t),...e,children:s.jsx(XI,{className:"h-4 w-4"})}));jD.displayName=xD.displayName;const wD=m.forwardRef(({className:t,...e},n)=>s.jsx(yD,{ref:n,className:Re("flex cursor-default items-center justify-center py-1",t),...e,children:s.jsx(w0,{className:"h-4 w-4"})}));wD.displayName=yD.displayName;const Je=m.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>s.jsx(BG,{children:s.jsxs(fD,{ref:i,className:Re("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[s.jsx(jD,{}),s.jsx(qG,{className:Re("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),s.jsx(wD,{})]})}));Je.displayName=fD.displayName;const KG=m.forwardRef(({className:t,...e},n)=>s.jsx(pD,{ref:n,className:Re("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));KG.displayName=pD.displayName;const V=m.forwardRef(({className:t,children:e,...n},r)=>s.jsxs(gD,{ref:r,className:Re("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(WG,{children:s.jsx(Ts,{className:"h-4 w-4"})})}),s.jsx(HG,{children:e})]}));V.displayName=gD.displayName;const GG=m.forwardRef(({className:t,...e},n)=>s.jsx(vD,{ref:n,className:Re("-mx-1 my-1 h-px bg-muted",t),...e}));GG.displayName=vD.displayName;const $t=m.forwardRef(({className:t,...e},n)=>s.jsx("textarea",{className:Re("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...e}));$t.displayName="Textarea";var Mh=t=>t.type==="checkbox",Oo=t=>t instanceof Date,fs=t=>t==null;const bD=t=>typeof t=="object";var _n=t=>!fs(t)&&!Array.isArray(t)&&bD(t)&&!Oo(t),ND=t=>_n(t)&&t.target?Mh(t.target)?t.target.checked:t.target.value:t,QG=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,SD=(t,e)=>t.has(QG(e)),YG=t=>{const e=t.constructor&&t.constructor.prototype;return _n(e)&&e.hasOwnProperty("isPrototypeOf")},Y0=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Kn(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(Y0&&(t instanceof Blob||r))&&(n||_n(t)))if(e=n?[]:{},!n&&!YG(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=Kn(t[i]));else return t;return e}var fg=t=>Array.isArray(t)?t.filter(Boolean):[],wn=t=>t===void 0,Fe=(t,e,n)=>{if(!e||!_n(t))return n;const r=fg(e.split(/[,[\].]+?/)).reduce((i,a)=>fs(i)?i:i[a],t);return wn(r)||r===t?wn(t[e])?n:t[e]:r},Ls=t=>typeof t=="boolean",X0=t=>/^\w*$/.test(t),_D=t=>fg(t.replace(/["|']|\]/g,"").split(/\.|\[/)),At=(t,e,n)=>{let r=-1;const i=X0(e)?[e]:_D(e),a=i.length,o=a-1;for(;++r<a;){const l=i[r];let c=n;if(r!==o){const u=t[l];c=_n(u)||Array.isArray(u)?u:isNaN(+i[r+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;t[l]=c,t=t[l]}};const tp={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},kr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ii={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},CD=pt.createContext(null),pg=()=>pt.useContext(CD),XG=t=>{const{children:e,...n}=t;return pt.createElement(CD.Provider,{value:n},e)};var TD=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const a in t)Object.defineProperty(i,a,{get:()=>{const o=a;return e._proxyFormState[o]!==kr.all&&(e._proxyFormState[o]=!r||kr.all),n&&(n[o]=!0),t[o]}});return i};function ZG(t){const e=pg(),{control:n=e.control,disabled:r,name:i,exact:a}=t||{},[o,l]=pt.useState(n._formState),c=pt.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),u=pt.useRef(i);return u.current=i,pt.useEffect(()=>n._subscribe({name:u.current,formState:c.current,exact:a,callback:h=>{!r&&l({...n._formState,...h})}}),[n,r,a]),pt.useEffect(()=>{c.current.isValid&&n._setValid(!0)},[n]),pt.useMemo(()=>TD(o,n,c.current,!1),[o,n])}var li=t=>typeof t=="string",ED=(t,e,n,r,i)=>li(t)?(r&&e.watch.add(t),Fe(n,t,i)):Array.isArray(t)?t.map(a=>(r&&e.watch.add(a),Fe(n,a))):(r&&(e.watchAll=!0),n);function JG(t){const e=pg(),{control:n=e.control,name:r,defaultValue:i,disabled:a,exact:o}=t||{},l=pt.useRef(r),c=pt.useRef(i);l.current=r,pt.useEffect(()=>n._subscribe({name:l.current,formState:{values:!0},exact:o,callback:p=>!a&&h(ED(l.current,n._names,p.values||n._formValues,!1,c.current))}),[n,a,o]);const[u,h]=pt.useState(n._getWatch(r,i));return pt.useEffect(()=>n._removeUnmounted()),u}function eQ(t){const e=pg(),{name:n,disabled:r,control:i=e.control,shouldUnregister:a}=t,o=SD(i._names.array,n),l=JG({control:i,name:n,defaultValue:Fe(i._formValues,n,Fe(i._defaultValues,n,t.defaultValue)),exact:!0}),c=ZG({control:i,name:n,exact:!0}),u=pt.useRef(t),h=pt.useRef(i.register(n,{...t.rules,value:l,...Ls(t.disabled)?{disabled:t.disabled}:{}})),p=pt.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Fe(c.errors,n)},isDirty:{enumerable:!0,get:()=>!!Fe(c.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!Fe(c.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!Fe(c.validatingFields,n)},error:{enumerable:!0,get:()=>Fe(c.errors,n)}}),[c,n]),f=pt.useCallback(E=>h.current.onChange({target:{value:ND(E),name:n},type:tp.CHANGE}),[n]),v=pt.useCallback(()=>h.current.onBlur({target:{value:Fe(i._formValues,n),name:n},type:tp.BLUR}),[n,i._formValues]),_=pt.useCallback(E=>{const N=Fe(i._fields,n);N&&E&&(N._f.ref={focus:()=>E.focus(),select:()=>E.select(),setCustomValidity:y=>E.setCustomValidity(y),reportValidity:()=>E.reportValidity()})},[i._fields,n]),j=pt.useMemo(()=>({name:n,value:l,...Ls(r)||c.disabled?{disabled:c.disabled||r}:{},onChange:f,onBlur:v,ref:_}),[n,r,c.disabled,f,v,_,l]);return pt.useEffect(()=>{const E=i._options.shouldUnregister||a;i.register(n,{...u.current.rules,...Ls(u.current.disabled)?{disabled:u.current.disabled}:{}});const N=(y,w)=>{const T=Fe(i._fields,y);T&&T._f&&(T._f.mount=w)};if(N(n,!0),E){const y=Kn(Fe(i._options.defaultValues,n));At(i._defaultValues,n,y),wn(Fe(i._formValues,n))&&At(i._formValues,n,y)}return!o&&i.register(n),()=>{(o?E&&!i._state.action:E)?i.unregister(n):N(n,!1)}},[n,i,o,a]),pt.useEffect(()=>{i._setDisabledField({disabled:r,name:n})},[r,n,i]),pt.useMemo(()=>({field:j,formState:c,fieldState:p}),[j,c,p])}const tQ=t=>t.render(eQ(t));var PD=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},xu=t=>Array.isArray(t)?t:[t],CS=()=>{let t=[];return{get observers(){return t},next:i=>{for(const a of t)a.next&&a.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(a=>a!==i)}}),unsubscribe:()=>{t=[]}}},Dv=t=>fs(t)||!bD(t);function Ea(t,e){if(Dv(t)||Dv(e))return t===e;if(Oo(t)&&Oo(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n){const a=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=e[i];if(Oo(a)&&Oo(o)||_n(a)&&_n(o)||Array.isArray(a)&&Array.isArray(o)?!Ea(a,o):a!==o)return!1}}return!0}var ds=t=>_n(t)&&!Object.keys(t).length,Z0=t=>t.type==="file",Ar=t=>typeof t=="function",np=t=>{if(!Y0)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},kD=t=>t.type==="select-multiple",J0=t=>t.type==="radio",nQ=t=>J0(t)||Mh(t),qx=t=>np(t)&&t.isConnected;function sQ(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=wn(t)?r++:t[e[r++]];return t}function rQ(t){for(const e in t)if(t.hasOwnProperty(e)&&!wn(t[e]))return!1;return!0}function Dn(t,e){const n=Array.isArray(e)?e:X0(e)?[e]:_D(e),r=n.length===1?t:sQ(t,n),i=n.length-1,a=n[i];return r&&delete r[a],i!==0&&(_n(r)&&ds(r)||Array.isArray(r)&&rQ(r))&&Dn(t,n.slice(0,-1)),t}var AD=t=>{for(const e in t)if(Ar(t[e]))return!0;return!1};function sp(t,e={}){const n=Array.isArray(t);if(_n(t)||n)for(const r in t)Array.isArray(t[r])||_n(t[r])&&!AD(t[r])?(e[r]=Array.isArray(t[r])?[]:{},sp(t[r],e[r])):fs(t[r])||(e[r]=!0);return e}function ID(t,e,n){const r=Array.isArray(t);if(_n(t)||r)for(const i in t)Array.isArray(t[i])||_n(t[i])&&!AD(t[i])?wn(e)||Dv(n[i])?n[i]=Array.isArray(t[i])?sp(t[i],[]):{...sp(t[i])}:ID(t[i],fs(e)?{}:e[i],n[i]):n[i]=!Ea(t[i],e[i]);return n}var Ud=(t,e)=>ID(t,e,sp(e));const TS={value:!1,isValid:!1},ES={value:!0,isValid:!0};var RD=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!wn(t[0].attributes.value)?wn(t[0].value)||t[0].value===""?ES:{value:t[0].value,isValid:!0}:ES:TS}return TS},DD=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>wn(t)?t:e?t===""?NaN:t&&+t:n&&li(t)?new Date(t):r?r(t):t;const PS={isValid:!1,value:null};var MD=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,PS):PS;function kS(t){const e=t.ref;return Z0(e)?e.files:J0(e)?MD(t.refs).value:kD(e)?[...e.selectedOptions].map(({value:n})=>n):Mh(e)?RD(t.refs).value:DD(wn(e.value)?t.ref.value:e.value,t)}var iQ=(t,e,n,r)=>{const i={};for(const a of t){const o=Fe(e,a);o&&At(i,a,o._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},rp=t=>t instanceof RegExp,Vd=t=>wn(t)?t:rp(t)?t.source:_n(t)?rp(t.value)?t.value.source:t.value:t,AS=t=>({isOnSubmit:!t||t===kr.onSubmit,isOnBlur:t===kr.onBlur,isOnChange:t===kr.onChange,isOnAll:t===kr.all,isOnTouch:t===kr.onTouched});const IS="AsyncFunction";var aQ=t=>!!t&&!!t.validate&&!!(Ar(t.validate)&&t.validate.constructor.name===IS||_n(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===IS)),oQ=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),RS=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const yu=(t,e,n,r)=>{for(const i of n||Object.keys(t)){const a=Fe(t,i);if(a){const{_f:o,...l}=a;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],i)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if(yu(l,e))break}else if(_n(l)&&yu(l,e))break}}};function DS(t,e,n){const r=Fe(t,n);if(r||X0(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const a=i.join("."),o=Fe(e,a),l=Fe(t,a);if(o&&!Array.isArray(o)&&n!==a)return{name:n};if(l&&l.type)return{name:a,error:l};i.pop()}return{name:n}}var lQ=(t,e,n,r)=>{n(t);const{name:i,...a}=t;return ds(a)||Object.keys(a).length>=Object.keys(e).length||Object.keys(a).find(o=>e[o]===(!r||kr.all))},cQ=(t,e,n)=>!t||!e||t===e||xu(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r))),dQ=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,uQ=(t,e)=>!fg(Fe(t,e)).length&&Dn(t,e),hQ=(t,e,n)=>{const r=xu(Fe(t,n));return At(r,"root",e[n]),At(t,n,r),t},af=t=>li(t);function MS(t,e,n="validate"){if(af(t)||Array.isArray(t)&&t.every(af)||Ls(t)&&!t)return{type:n,message:af(t)?t:"",ref:e}}var Rl=t=>_n(t)&&!rp(t)?t:{value:t,message:""},OS=async(t,e,n,r,i,a)=>{const{ref:o,refs:l,required:c,maxLength:u,minLength:h,min:p,max:f,pattern:v,validate:_,name:j,valueAsNumber:E,mount:N}=t._f,y=Fe(n,j);if(!N||e.has(j))return{};const w=l?l[0]:o,T=I=>{i&&w.reportValidity&&(w.setCustomValidity(Ls(I)?"":I||""),w.reportValidity())},O={},U=J0(o),A=Mh(o),S=U||A,g=(E||Z0(o))&&wn(o.value)&&wn(y)||np(o)&&o.value===""||y===""||Array.isArray(y)&&!y.length,k=PD.bind(null,j,r,O),P=(I,R,Q,Ne=Ii.maxLength,de=Ii.minLength)=>{const K=I?R:Q;O[j]={type:I?Ne:de,message:K,ref:o,...k(I?Ne:de,K)}};if(a?!Array.isArray(y)||!y.length:c&&(!S&&(g||fs(y))||Ls(y)&&!y||A&&!RD(l).isValid||U&&!MD(l).isValid)){const{value:I,message:R}=af(c)?{value:!!c,message:c}:Rl(c);if(I&&(O[j]={type:Ii.required,message:R,ref:w,...k(Ii.required,R)},!r))return T(R),O}if(!g&&(!fs(p)||!fs(f))){let I,R;const Q=Rl(f),Ne=Rl(p);if(!fs(y)&&!isNaN(y)){const de=o.valueAsNumber||y&&+y;fs(Q.value)||(I=de>Q.value),fs(Ne.value)||(R=de<Ne.value)}else{const de=o.valueAsDate||new Date(y),K=W=>new Date(new Date().toDateString()+" "+W),F=o.type=="time",z=o.type=="week";li(Q.value)&&y&&(I=F?K(y)>K(Q.value):z?y>Q.value:de>new Date(Q.value)),li(Ne.value)&&y&&(R=F?K(y)<K(Ne.value):z?y<Ne.value:de<new Date(Ne.value))}if((I||R)&&(P(!!I,Q.message,Ne.message,Ii.max,Ii.min),!r))return T(O[j].message),O}if((u||h)&&!g&&(li(y)||a&&Array.isArray(y))){const I=Rl(u),R=Rl(h),Q=!fs(I.value)&&y.length>+I.value,Ne=!fs(R.value)&&y.length<+R.value;if((Q||Ne)&&(P(Q,I.message,R.message),!r))return T(O[j].message),O}if(v&&!g&&li(y)){const{value:I,message:R}=Rl(v);if(rp(I)&&!y.match(I)&&(O[j]={type:Ii.pattern,message:R,ref:o,...k(Ii.pattern,R)},!r))return T(R),O}if(_){if(Ar(_)){const I=await _(y,n),R=MS(I,w);if(R&&(O[j]={...R,...k(Ii.validate,R.message)},!r))return T(R.message),O}else if(_n(_)){let I={};for(const R in _){if(!ds(I)&&!r)break;const Q=MS(await _[R](y,n),w,R);Q&&(I={...Q,...k(R,Q.message)},T(Q.message),r&&(O[j]=I))}if(!ds(I)&&(O[j]={ref:w,...I},!r))return O}}return T(!0),O};const mQ={mode:kr.onSubmit,reValidateMode:kr.onChange,shouldFocusError:!0};function fQ(t={}){let e={...mQ,...t},n={submitCount:0,isDirty:!1,isLoading:Ar(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1};const r={};let i=_n(e.defaultValues)||_n(e.values)?Kn(e.values||e.defaultValues)||{}:{},a=e.shouldUnregister?{}:Kn(i),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const h={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let p={...h};const f={array:CS(),state:CS()},v=AS(e.mode),_=AS(e.reValidateMode),j=e.criteriaMode===kr.all,E=L=>Z=>{clearTimeout(u),u=setTimeout(L,Z)},N=async L=>{if(!e.disabled&&(h.isValid||p.isValid||L)){const Z=e.resolver?ds((await g()).errors):await P(r,!0);Z!==n.isValid&&f.state.next({isValid:Z})}},y=(L,Z)=>{!e.disabled&&(h.isValidating||h.validatingFields||p.isValidating||p.validatingFields)&&((L||Array.from(l.mount)).forEach(C=>{C&&(Z?At(n.validatingFields,C,Z):Dn(n.validatingFields,C))}),f.state.next({validatingFields:n.validatingFields,isValidating:!ds(n.validatingFields)}))},w=(L,Z=[],C,ee,pe=!0,xe=!0)=>{if(ee&&C&&!e.disabled){if(o.action=!0,xe&&Array.isArray(Fe(r,L))){const De=C(Fe(r,L),ee.argA,ee.argB);pe&&At(r,L,De)}if(xe&&Array.isArray(Fe(n.errors,L))){const De=C(Fe(n.errors,L),ee.argA,ee.argB);pe&&At(n.errors,L,De),uQ(n.errors,L)}if((h.touchedFields||p.touchedFields)&&xe&&Array.isArray(Fe(n.touchedFields,L))){const De=C(Fe(n.touchedFields,L),ee.argA,ee.argB);pe&&At(n.touchedFields,L,De)}(h.dirtyFields||p.dirtyFields)&&(n.dirtyFields=Ud(i,a)),f.state.next({name:L,isDirty:R(L,Z),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else At(a,L,Z)},T=(L,Z)=>{At(n.errors,L,Z),f.state.next({errors:n.errors})},O=L=>{n.errors=L,f.state.next({errors:n.errors,isValid:!1})},U=(L,Z,C,ee)=>{const pe=Fe(r,L);if(pe){const xe=Fe(a,L,wn(C)?Fe(i,L):C);wn(xe)||ee&&ee.defaultChecked||Z?At(a,L,Z?xe:kS(pe._f)):de(L,xe),o.mount&&N()}},A=(L,Z,C,ee,pe)=>{let xe=!1,De=!1;const wt={name:L};if(!e.disabled){if(!C||ee){(h.isDirty||p.isDirty)&&(De=n.isDirty,n.isDirty=wt.isDirty=R(),xe=De!==wt.isDirty);const Lt=Ea(Fe(i,L),Z);De=!!Fe(n.dirtyFields,L),Lt?Dn(n.dirtyFields,L):At(n.dirtyFields,L,!0),wt.dirtyFields=n.dirtyFields,xe=xe||(h.dirtyFields||p.dirtyFields)&&De!==!Lt}if(C){const Lt=Fe(n.touchedFields,L);Lt||(At(n.touchedFields,L,C),wt.touchedFields=n.touchedFields,xe=xe||(h.touchedFields||p.touchedFields)&&Lt!==C)}xe&&pe&&f.state.next(wt)}return xe?wt:{}},S=(L,Z,C,ee)=>{const pe=Fe(n.errors,L),xe=(h.isValid||p.isValid)&&Ls(Z)&&n.isValid!==Z;if(e.delayError&&C?(c=E(()=>T(L,C)),c(e.delayError)):(clearTimeout(u),c=null,C?At(n.errors,L,C):Dn(n.errors,L)),(C?!Ea(pe,C):pe)||!ds(ee)||xe){const De={...ee,...xe&&Ls(Z)?{isValid:Z}:{},errors:n.errors,name:L};n={...n,...De},f.state.next(De)}},g=async L=>{y(L,!0);const Z=await e.resolver(a,e.context,iQ(L||l.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return y(L),Z},k=async L=>{const{errors:Z}=await g(L);if(L)for(const C of L){const ee=Fe(Z,C);ee?At(n.errors,C,ee):Dn(n.errors,C)}else n.errors=Z;return Z},P=async(L,Z,C={valid:!0})=>{for(const ee in L){const pe=L[ee];if(pe){const{_f:xe,...De}=pe;if(xe){const wt=l.array.has(xe.name),Lt=pe._f&&aQ(pe._f);Lt&&h.validatingFields&&y([ee],!0);const Tn=await OS(pe,l.disabled,a,j,e.shouldUseNativeValidation&&!Z,wt);if(Lt&&h.validatingFields&&y([ee]),Tn[xe.name]&&(C.valid=!1,Z))break;!Z&&(Fe(Tn,xe.name)?wt?hQ(n.errors,Tn,xe.name):At(n.errors,xe.name,Tn[xe.name]):Dn(n.errors,xe.name))}!ds(De)&&await P(De,Z,C)}}return C.valid},I=()=>{for(const L of l.unMount){const Z=Fe(r,L);Z&&(Z._f.refs?Z._f.refs.every(C=>!qx(C)):!qx(Z._f.ref))&&Y(L)}l.unMount=new Set},R=(L,Z)=>!e.disabled&&(L&&Z&&At(a,L,Z),!Ea(Ce(),i)),Q=(L,Z,C)=>ED(L,l,{...o.mount?a:wn(Z)?i:li(L)?{[L]:Z}:Z},C,Z),Ne=L=>fg(Fe(o.mount?a:i,L,e.shouldUnregister?Fe(i,L,[]):[])),de=(L,Z,C={})=>{const ee=Fe(r,L);let pe=Z;if(ee){const xe=ee._f;xe&&(!xe.disabled&&At(a,L,DD(Z,xe)),pe=np(xe.ref)&&fs(Z)?"":Z,kD(xe.ref)?[...xe.ref.options].forEach(De=>De.selected=pe.includes(De.value)):xe.refs?Mh(xe.ref)?xe.refs.length>1?xe.refs.forEach(De=>(!De.defaultChecked||!De.disabled)&&(De.checked=Array.isArray(pe)?!!pe.find(wt=>wt===De.value):pe===De.value)):xe.refs[0]&&(xe.refs[0].checked=!!pe):xe.refs.forEach(De=>De.checked=De.value===pe):Z0(xe.ref)?xe.ref.value="":(xe.ref.value=pe,xe.ref.type||f.state.next({name:L,values:Kn(a)})))}(C.shouldDirty||C.shouldTouch)&&A(L,pe,C.shouldTouch,C.shouldDirty,!0),C.shouldValidate&&se(L)},K=(L,Z,C)=>{for(const ee in Z){const pe=Z[ee],xe=`${L}.${ee}`,De=Fe(r,xe);(l.array.has(L)||_n(pe)||De&&!De._f)&&!Oo(pe)?K(xe,pe,C):de(xe,pe,C)}},F=(L,Z,C={})=>{const ee=Fe(r,L),pe=l.array.has(L),xe=Kn(Z);At(a,L,xe),pe?(f.array.next({name:L,values:Kn(a)}),(h.isDirty||h.dirtyFields||p.isDirty||p.dirtyFields)&&C.shouldDirty&&f.state.next({name:L,dirtyFields:Ud(i,a),isDirty:R(L,xe)})):ee&&!ee._f&&!fs(xe)?K(L,xe,C):de(L,xe,C),RS(L,l)&&f.state.next({...n}),f.state.next({name:o.mount?L:void 0,values:Kn(a)})},z=async L=>{o.mount=!0;const Z=L.target;let C=Z.name,ee=!0;const pe=Fe(r,C),xe=De=>{ee=Number.isNaN(De)||Oo(De)&&isNaN(De.getTime())||Ea(De,Fe(a,C,De))};if(pe){let De,wt;const Lt=Z.type?kS(pe._f):ND(L),Tn=L.type===tp.BLUR||L.type===tp.FOCUS_OUT,vr=!oQ(pe._f)&&!e.resolver&&!Fe(n.errors,C)&&!pe._f.deps||dQ(Tn,Fe(n.touchedFields,C),n.isSubmitted,_,v),_i=RS(C,l,Tn);At(a,C,Lt),Tn?(pe._f.onBlur&&pe._f.onBlur(L),c&&c(0)):pe._f.onChange&&pe._f.onChange(L);const Ci=A(C,Lt,Tn),aa=!ds(Ci)||_i;if(!Tn&&f.state.next({name:C,type:L.type,values:Kn(a)}),vr)return(h.isValid||p.isValid)&&(e.mode==="onBlur"?Tn&&N():Tn||N()),aa&&f.state.next({name:C,..._i?{}:Ci});if(!Tn&&_i&&f.state.next({...n}),e.resolver){const{errors:_l}=await g([C]);if(xe(Lt),ee){const fd=DS(n.errors,r,C),Ti=DS(_l,r,fd.name||C);De=Ti.error,C=Ti.name,wt=ds(_l)}}else y([C],!0),De=(await OS(pe,l.disabled,a,j,e.shouldUseNativeValidation))[C],y([C]),xe(Lt),ee&&(De?wt=!1:(h.isValid||p.isValid)&&(wt=await P(r,!0)));ee&&(pe._f.deps&&se(pe._f.deps),S(C,wt,De,Ci))}},W=(L,Z)=>{if(Fe(n.errors,Z)&&L.focus)return L.focus(),1},se=async(L,Z={})=>{let C,ee;const pe=xu(L);if(e.resolver){const xe=await k(wn(L)?L:pe);C=ds(xe),ee=L?!pe.some(De=>Fe(xe,De)):C}else L?(ee=(await Promise.all(pe.map(async xe=>{const De=Fe(r,xe);return await P(De&&De._f?{[xe]:De}:De)}))).every(Boolean),!(!ee&&!n.isValid)&&N()):ee=C=await P(r);return f.state.next({...!li(L)||(h.isValid||p.isValid)&&C!==n.isValid?{}:{name:L},...e.resolver||!L?{isValid:C}:{},errors:n.errors}),Z.shouldFocus&&!ee&&yu(r,W,L?pe:l.mount),ee},Ce=L=>{const Z={...o.mount?a:i};return wn(L)?Z:li(L)?Fe(Z,L):L.map(C=>Fe(Z,C))},Me=(L,Z)=>({invalid:!!Fe((Z||n).errors,L),isDirty:!!Fe((Z||n).dirtyFields,L),error:Fe((Z||n).errors,L),isValidating:!!Fe(n.validatingFields,L),isTouched:!!Fe((Z||n).touchedFields,L)}),q=L=>{L&&xu(L).forEach(Z=>Dn(n.errors,Z)),f.state.next({errors:L?n.errors:{}})},ve=(L,Z,C)=>{const ee=(Fe(r,L,{_f:{}})._f||{}).ref,pe=Fe(n.errors,L)||{},{ref:xe,message:De,type:wt,...Lt}=pe;At(n.errors,L,{...Lt,...Z,ref:ee}),f.state.next({name:L,errors:n.errors,isValid:!1}),C&&C.shouldFocus&&ee&&ee.focus&&ee.focus()},Ue=(L,Z)=>Ar(L)?f.state.subscribe({next:C=>L(Q(void 0,Z),C)}):Q(L,Z,!0),we=L=>f.state.subscribe({next:Z=>{cQ(L.name,Z.name,L.exact)&&lQ(Z,L.formState||h,Ss,L.reRenderRoot)&&L.callback({values:{...a},...n,...Z})}}).unsubscribe,fe=L=>(o.mount=!0,p={...p,...L.formState},we({...L,formState:p})),Y=(L,Z={})=>{for(const C of L?xu(L):l.mount)l.mount.delete(C),l.array.delete(C),Z.keepValue||(Dn(r,C),Dn(a,C)),!Z.keepError&&Dn(n.errors,C),!Z.keepDirty&&Dn(n.dirtyFields,C),!Z.keepTouched&&Dn(n.touchedFields,C),!Z.keepIsValidating&&Dn(n.validatingFields,C),!e.shouldUnregister&&!Z.keepDefaultValue&&Dn(i,C);f.state.next({values:Kn(a)}),f.state.next({...n,...Z.keepDirty?{isDirty:R()}:{}}),!Z.keepIsValid&&N()},X=({disabled:L,name:Z})=>{(Ls(L)&&o.mount||L||l.disabled.has(Z))&&(L?l.disabled.add(Z):l.disabled.delete(Z))},je=(L,Z={})=>{let C=Fe(r,L);const ee=Ls(Z.disabled)||Ls(e.disabled);return At(r,L,{...C||{},_f:{...C&&C._f?C._f:{ref:{name:L}},name:L,mount:!0,...Z}}),l.mount.add(L),C?X({disabled:Ls(Z.disabled)?Z.disabled:e.disabled,name:L}):U(L,!0,Z.value),{...ee?{disabled:Z.disabled||e.disabled}:{},...e.progressive?{required:!!Z.required,min:Vd(Z.min),max:Vd(Z.max),minLength:Vd(Z.minLength),maxLength:Vd(Z.maxLength),pattern:Vd(Z.pattern)}:{},name:L,onChange:z,onBlur:z,ref:pe=>{if(pe){je(L,Z),C=Fe(r,L);const xe=wn(pe.value)&&pe.querySelectorAll&&pe.querySelectorAll("input,select,textarea")[0]||pe,De=nQ(xe),wt=C._f.refs||[];if(De?wt.find(Lt=>Lt===xe):xe===C._f.ref)return;At(r,L,{_f:{...C._f,...De?{refs:[...wt.filter(qx),xe,...Array.isArray(Fe(i,L))?[{}]:[]],ref:{type:xe.type,name:L}}:{ref:xe}}}),U(L,!1,void 0,xe)}else C=Fe(r,L,{}),C._f&&(C._f.mount=!1),(e.shouldUnregister||Z.shouldUnregister)&&!(SD(l.array,L)&&o.action)&&l.unMount.add(L)}}},Oe=()=>e.shouldFocusError&&yu(r,W,l.mount),lt=L=>{Ls(L)&&(f.state.next({disabled:L}),yu(r,(Z,C)=>{const ee=Fe(r,C);ee&&(Z.disabled=ee._f.disabled||L,Array.isArray(ee._f.refs)&&ee._f.refs.forEach(pe=>{pe.disabled=ee._f.disabled||L}))},0,!1))},Dt=(L,Z)=>async C=>{let ee;C&&(C.preventDefault&&C.preventDefault(),C.persist&&C.persist());let pe=Kn(a);if(f.state.next({isSubmitting:!0}),e.resolver){const{errors:xe,values:De}=await g();n.errors=xe,pe=De}else await P(r);if(l.disabled.size)for(const xe of l.disabled)At(pe,xe,void 0);if(Dn(n.errors,"root"),ds(n.errors)){f.state.next({errors:{}});try{await L(pe,C)}catch(xe){ee=xe}}else Z&&await Z({...n.errors},C),Oe(),setTimeout(Oe);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ds(n.errors)&&!ee,submitCount:n.submitCount+1,errors:n.errors}),ee)throw ee},yn=(L,Z={})=>{Fe(r,L)&&(wn(Z.defaultValue)?F(L,Kn(Fe(i,L))):(F(L,Z.defaultValue),At(i,L,Kn(Z.defaultValue))),Z.keepTouched||Dn(n.touchedFields,L),Z.keepDirty||(Dn(n.dirtyFields,L),n.isDirty=Z.defaultValue?R(L,Kn(Fe(i,L))):R()),Z.keepError||(Dn(n.errors,L),h.isValid&&N()),f.state.next({...n}))},un=(L,Z={})=>{const C=L?Kn(L):i,ee=Kn(C),pe=ds(L),xe=pe?i:ee;if(Z.keepDefaultValues||(i=C),!Z.keepValues){if(Z.keepDirtyValues){const De=new Set([...l.mount,...Object.keys(Ud(i,a))]);for(const wt of Array.from(De))Fe(n.dirtyFields,wt)?At(xe,wt,Fe(a,wt)):F(wt,Fe(xe,wt))}else{if(Y0&&wn(L))for(const De of l.mount){const wt=Fe(r,De);if(wt&&wt._f){const Lt=Array.isArray(wt._f.refs)?wt._f.refs[0]:wt._f.ref;if(np(Lt)){const Tn=Lt.closest("form");if(Tn){Tn.reset();break}}}}for(const De of l.mount)F(De,Fe(xe,De))}a=Kn(xe),f.array.next({values:{...xe}}),f.state.next({values:{...xe}})}l={mount:Z.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!h.isValid||!!Z.keepIsValid||!!Z.keepDirtyValues,o.watch=!!e.shouldUnregister,f.state.next({submitCount:Z.keepSubmitCount?n.submitCount:0,isDirty:pe?!1:Z.keepDirty?n.isDirty:!!(Z.keepDefaultValues&&!Ea(L,i)),isSubmitted:Z.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:pe?{}:Z.keepDirtyValues?Z.keepDefaultValues&&a?Ud(i,a):n.dirtyFields:Z.keepDefaultValues&&L?Ud(i,L):Z.keepDirty?n.dirtyFields:{},touchedFields:Z.keepTouched?n.touchedFields:{},errors:Z.keepErrors?n.errors:{},isSubmitSuccessful:Z.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},hn=(L,Z)=>un(Ar(L)?L(a):L,Z),Xt=(L,Z={})=>{const C=Fe(r,L),ee=C&&C._f;if(ee){const pe=ee.refs?ee.refs[0]:ee.ref;pe.focus&&(pe.focus(),Z.shouldSelect&&Ar(pe.select)&&pe.select())}},Ss=L=>{n={...n,...L}},et={control:{register:je,unregister:Y,getFieldState:Me,handleSubmit:Dt,setError:ve,_subscribe:we,_runSchema:g,_getWatch:Q,_getDirty:R,_setValid:N,_setFieldArray:w,_setDisabledField:X,_setErrors:O,_getFieldArray:Ne,_reset:un,_resetDefaultValues:()=>Ar(e.defaultValues)&&e.defaultValues().then(L=>{hn(L,e.resetOptions),f.state.next({isLoading:!1})}),_removeUnmounted:I,_disableForm:lt,_subjects:f,_proxyFormState:h,get _fields(){return r},get _formValues(){return a},get _state(){return o},set _state(L){o=L},get _defaultValues(){return i},get _names(){return l},set _names(L){l=L},get _formState(){return n},get _options(){return e},set _options(L){e={...e,...L}}},subscribe:fe,trigger:se,register:je,handleSubmit:Dt,watch:Ue,setValue:F,getValues:Ce,reset:hn,resetField:yn,clearErrors:q,unregister:Y,setError:ve,setFocus:Xt,getFieldState:Me};return{...et,formControl:et}}function kn(t={}){const e=pt.useRef(void 0),n=pt.useRef(void 0),[r,i]=pt.useState({isDirty:!1,isValidating:!1,isLoading:Ar(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:Ar(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...t.formControl?t.formControl:fQ(t),formState:r},t.formControl&&t.defaultValues&&!Ar(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions));const a=e.current.control;return a._options=t,pt.useLayoutEffect(()=>a._subscribe({formState:a._proxyFormState,callback:()=>i({...a._formState}),reRenderRoot:!0}),[a]),pt.useEffect(()=>a._disableForm(t.disabled),[a,t.disabled]),pt.useEffect(()=>{if(a._proxyFormState.isDirty){const o=a._getDirty();o!==r.isDirty&&a._subjects.state.next({isDirty:o})}},[a,r.isDirty]),pt.useEffect(()=>{t.values&&!Ea(t.values,n.current)?(a._reset(t.values,a._options.resetOptions),n.current=t.values,i(o=>({...o}))):a._resetDefaultValues()},[t.values,a]),pt.useEffect(()=>{t.errors&&!ds(t.errors)&&a._setErrors(t.errors)},[t.errors,a]),pt.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),pt.useEffect(()=>{t.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[t.shouldUnregister,a]),e.current.formState=TD(r,a),e.current}const ln=XG,OD=m.createContext({}),oe=({...t})=>s.jsx(OD.Provider,{value:{name:t.name},children:s.jsx(tQ,{...t})}),gg=()=>{const t=m.useContext(OD),e=m.useContext(FD),{getFieldState:n,formState:r}=pg(),i=n(t.name,r);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:a}=e;return{id:a,name:t.name,formItemId:`${a}-form-item`,formDescriptionId:`${a}-form-item-description`,formMessageId:`${a}-form-item-message`,...i}},FD=m.createContext({}),ie=m.forwardRef(({className:t,...e},n)=>{const r=m.useId();return s.jsx(FD.Provider,{value:{id:r},children:s.jsx("div",{ref:n,className:Re("space-y-2",t),...e})})});ie.displayName="FormItem";const ae=m.forwardRef(({className:t,...e},n)=>{const{error:r,formItemId:i}=gg();return s.jsx(me,{ref:n,className:Re(r&&"text-destructive",t),htmlFor:i,...e})});ae.displayName="FormLabel";const le=m.forwardRef(({...t},e)=>{const{error:n,formItemId:r,formDescriptionId:i,formMessageId:a}=gg();return s.jsx(bI,{ref:e,id:r,"aria-describedby":n?`${i} ${a}`:`${i}`,"aria-invalid":!!n,...t})});le.displayName="FormControl";const LD=m.forwardRef(({className:t,...e},n)=>{const{formDescriptionId:r}=gg();return s.jsx("p",{ref:n,id:r,className:Re("text-sm text-muted-foreground",t),...e})});LD.displayName="FormDescription";const ce=m.forwardRef(({className:t,children:e,...n},r)=>{const{error:i,formMessageId:a}=gg(),o=i?String((i==null?void 0:i.message)??""):e;return o?s.jsx("p",{ref:r,id:a,className:Re("text-sm font-medium text-destructive",t),...n,children:o}):null});ce.displayName="FormMessage";var ew="Switch",[pQ,hne]=os(ew),[gQ,xQ]=pQ(ew),UD=m.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:a,required:o,disabled:l,value:c="on",onCheckedChange:u,form:h,...p}=t,[f,v]=m.useState(null),_=ft(e,w=>v(w)),j=m.useRef(!1),E=f?h||!!f.closest("form"):!0,[N=!1,y]=yi({prop:i,defaultProp:a,onChange:u});return s.jsxs(gQ,{scope:n,checked:N,disabled:l,children:[s.jsx(Ye.button,{type:"button",role:"switch","aria-checked":N,"aria-required":o,"data-state":zD(N),"data-disabled":l?"":void 0,disabled:l,value:c,...p,ref:_,onClick:Te(t.onClick,w=>{y(T=>!T),E&&(j.current=w.isPropagationStopped(),j.current||w.stopPropagation())})}),E&&s.jsx(yQ,{control:f,bubbles:!j.current,name:r,value:c,checked:N,required:o,disabled:l,form:h,style:{transform:"translateX(-100%)"}})]})});UD.displayName=ew;var VD="SwitchThumb",$D=m.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,i=xQ(VD,n);return s.jsx(Ye.span,{"data-state":zD(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:e})});$D.displayName=VD;var yQ=t=>{const{control:e,checked:n,bubbles:r=!0,...i}=t,a=m.useRef(null),o=G0(n),l=R0(e);return m.useEffect(()=>{const c=a.current,u=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(u,"checked").set;if(o!==n&&p){const f=new Event("click",{bubbles:r});p.call(c,n),c.dispatchEvent(f)}},[o,n,r]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:a,style:{...t.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function zD(t){return t?"checked":"unchecked"}var BD=UD,vQ=$D;const Gt=m.forwardRef(({className:t,...e},n)=>s.jsx(BD,{className:Re("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:s.jsx(vQ,{className:Re("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Gt.displayName=BD.displayName;const FS=(t,e,n)=>{if(t&&"reportValidity"in t){const r=Fe(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},qD=(t,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?FS(r.ref,n,t):r.refs&&r.refs.forEach(i=>FS(i,n,t))}},jQ=(t,e)=>{e.shouldUseNativeValidation&&qD(t,e);const n={};for(const r in t){const i=Fe(e.fields,r),a=Object.assign(t[r]||{},{ref:i&&i.ref});if(wQ(e.names||Object.keys(t),r)){const o=Object.assign({},Fe(n,r));At(o,"root",a),At(n,r,o)}else At(n,r,a)}return n},wQ=(t,e)=>t.some(n=>n.startsWith(e+"."));var bQ=function(t,e){for(var n={};t.length;){var r=t[0],i=r.code,a=r.message,o=r.path.join(".");if(!n[o])if("unionErrors"in r){var l=r.unionErrors[0].errors[0];n[o]={message:l.message,type:l.code}}else n[o]={message:a,type:i};if("unionErrors"in r&&r.unionErrors.forEach(function(h){return h.errors.forEach(function(p){return t.push(p)})}),e){var c=n[o].types,u=c&&c[r.code];n[o]=PD(o,e,n,i,u?[].concat(u,r.message):r.message)}t.shift()}return n},An=function(t,e,n){return n===void 0&&(n={}),function(r,i,a){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(u){return a.shouldUseNativeValidation&&qD({},a),{errors:{},values:n.raw?r:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:jQ(bQ(o.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw o}))}catch(o){return Promise.reject(o)}}},_t;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const a={};for(const o of i)a[o]=o;return a},t.getValidEnumValues=i=>{const a=t.objectKeys(i).filter(l=>typeof i[i[l]]!="number"),o={};for(const l of a)o[l]=i[l];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(a){return i[a]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const a=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&a.push(o);return a},t.find=(i,a)=>{for(const o of i)if(a(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,a=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(a)}t.joinValues=r,t.jsonStringifyReplacer=(i,a)=>typeof a=="bigint"?a.toString():a})(_t||(_t={}));var Mv;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(Mv||(Mv={}));const $e=_t.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Li=t=>{switch(typeof t){case"undefined":return $e.undefined;case"string":return $e.string;case"number":return isNaN(t)?$e.nan:$e.number;case"boolean":return $e.boolean;case"function":return $e.function;case"bigint":return $e.bigint;case"symbol":return $e.symbol;case"object":return Array.isArray(t)?$e.array:t===null?$e.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?$e.promise:typeof Map<"u"&&t instanceof Map?$e.map:typeof Set<"u"&&t instanceof Set?$e.set:typeof Date<"u"&&t instanceof Date?$e.date:$e.object;default:return $e.unknown}},Se=_t.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),NQ=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class Ys extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(a){return a.message},r={_errors:[]},i=a=>{for(const o of a.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let l=r,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(n(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return i(this),r}static assert(e){if(!(e instanceof Ys))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,_t.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Ys.create=t=>new Ys(t);const Gc=(t,e)=>{let n;switch(t.code){case Se.invalid_type:t.received===$e.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case Se.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,_t.jsonStringifyReplacer)}`;break;case Se.unrecognized_keys:n=`Unrecognized key(s) in object: ${_t.joinValues(t.keys,", ")}`;break;case Se.invalid_union:n="Invalid input";break;case Se.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${_t.joinValues(t.options)}`;break;case Se.invalid_enum_value:n=`Invalid enum value. Expected ${_t.joinValues(t.options)}, received '${t.received}'`;break;case Se.invalid_arguments:n="Invalid function arguments";break;case Se.invalid_return_type:n="Invalid function return type";break;case Se.invalid_date:n="Invalid date";break;case Se.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:_t.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case Se.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case Se.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case Se.custom:n="Invalid input";break;case Se.invalid_intersection_types:n="Intersection results could not be merged";break;case Se.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case Se.not_finite:n="Number must be finite";break;default:n=e.defaultError,_t.assertNever(t)}return{message:n}};let HD=Gc;function SQ(t){HD=t}function ip(){return HD}const ap=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,a=[...n,...i.path||[]],o={...i,path:a};if(i.message!==void 0)return{...i,path:a,message:i.message};let l="";const c=r.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:e,defaultError:l}).message;return{...i,path:a,message:l}},_Q=[];function Le(t,e){const n=ip(),r=ap({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===Gc?void 0:Gc].filter(i=>!!i)});t.common.issues.push(r)}class is{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return it;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n){const a=await i.key,o=await i.value;r.push({key:a,value:o})}return is.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:a,value:o}=i;if(a.status==="aborted"||o.status==="aborted")return it;a.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(r[a.value]=o.value)}return{status:e.value,value:r}}}const it=Object.freeze({status:"aborted"}),Zl=t=>({status:"dirty",value:t}),js=t=>({status:"valid",value:t}),Ov=t=>t.status==="aborted",Fv=t=>t.status==="dirty",ul=t=>t.status==="valid",Bu=t=>typeof Promise<"u"&&t instanceof Promise;function op(t,e,n,r){if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function WD(t,e,n,r,i){if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var Ke;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Ke||(Ke={}));var Yd,Xd;class ji{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const LS=(t,e)=>{if(ul(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Ys(t.common.issues);return this._error=n,this._error}}};function gt(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,l)=>{var c,u;const{message:h}=t;return o.code==="invalid_enum_value"?{message:h??l.defaultError}:typeof l.data>"u"?{message:(c=h??r)!==null&&c!==void 0?c:l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:(u=h??n)!==null&&u!==void 0?u:l.defaultError}},description:i}}class jt{get description(){return this._def.description}_getType(e){return Li(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Li(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new is,ctx:{common:e.parent.common,data:e.data,parsedType:Li(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Bu(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const i={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Li(e)},a=this._parseSync({data:e,path:i.path,parent:i});return LS(i,a)}"~validate"(e){var n,r;const i={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Li(e)};if(!this["~standard"].async)try{const a=this._parseSync({data:e,path:[],parent:i});return ul(a)?{value:a.value}:{issues:i.common.issues}}catch(a){!((r=(n=a==null?void 0:a.message)===null||n===void 0?void 0:n.toLowerCase())===null||r===void 0)&&r.includes("encountered")&&(this["~standard"].async=!0),i.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:i}).then(a=>ul(a)?{value:a.value}:{issues:i.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Li(e)},i=this._parse({data:e,path:r.path,parent:r}),a=await(Bu(i)?i:Promise.resolve(i));return LS(r,a)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,a)=>{const o=e(i),l=()=>a.addIssue({code:Se.custom,...r(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new Wr({schema:this,typeName:rt.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return gi.create(this,this._def)}nullable(){return co.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return $r.create(this)}promise(){return Yc.create(this,this._def)}or(e){return Ku.create([this,e],this._def)}and(e){return Gu.create(this,e,this._def)}transform(e){return new Wr({...gt(this._def),schema:this,typeName:rt.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new Ju({...gt(this._def),innerType:this,defaultValue:n,typeName:rt.ZodDefault})}brand(){return new tw({typeName:rt.ZodBranded,type:this,...gt(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new eh({...gt(this._def),innerType:this,catchValue:n,typeName:rt.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Oh.create(this,e)}readonly(){return th.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const CQ=/^c[^\s-]{8,}$/i,TQ=/^[0-9a-z]+$/,EQ=/^[0-9A-HJKMNP-TV-Z]{26}$/i,PQ=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,kQ=/^[a-z0-9_-]{21}$/i,AQ=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,IQ=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,RQ=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,DQ="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Hx;const MQ=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,OQ=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,FQ=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,LQ=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,UQ=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,VQ=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,KD="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",$Q=new RegExp(`^${KD}$`);function GD(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function zQ(t){return new RegExp(`^${GD(t)}$`)}function QD(t){let e=`${KD}T${GD(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function BQ(t,e){return!!((e==="v4"||!e)&&MQ.test(t)||(e==="v6"||!e)&&FQ.test(t))}function qQ(t,e){if(!AQ.test(t))return!1;try{const[n]=t.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||!i.typ||!i.alg||e&&i.alg!==e)}catch{return!1}}function HQ(t,e){return!!((e==="v4"||!e)&&OQ.test(t)||(e==="v6"||!e)&&LQ.test(t))}class Mr extends jt{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==$e.string){const a=this._getOrReturnCtx(e);return Le(a,{code:Se.invalid_type,expected:$e.string,received:a.parsedType}),it}const r=new is;let i;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(i=this._getOrReturnCtx(e,i),Le(i,{code:Se.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="max")e.data.length>a.value&&(i=this._getOrReturnCtx(e,i),Le(i,{code:Se.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="length"){const o=e.data.length>a.value,l=e.data.length<a.value;(o||l)&&(i=this._getOrReturnCtx(e,i),o?Le(i,{code:Se.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):l&&Le(i,{code:Se.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),r.dirty())}else if(a.kind==="email")RQ.test(e.data)||(i=this._getOrReturnCtx(e,i),Le(i,{validation:"email",code:Se.invalid_string,message:a.message}),r.dirty());else if(a.kind==="emoji")Hx||(Hx=new RegExp(DQ,"u")),Hx.test(e.data)||(i=this._getOrReturnCtx(e,i),Le(i,{validation:"emoji",code:Se.invalid_string,message:a.message}),r.dirty());else if(a.kind==="uuid")PQ.test(e.data)||(i=this._getOrReturnCtx(e,i),Le(i,{validation:"uuid",code:Se.invalid_string,message:a.message}),r.dirty());else if(a.kind==="nanoid")kQ.test(e.data)||(i=this._getOrReturnCtx(e,i),Le(i,{validation:"nanoid",code:Se.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid")CQ.test(e.data)||(i=this._getOrReturnCtx(e,i),Le(i,{validation:"cuid",code:Se.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid2")TQ.test(e.data)||(i=this._getOrReturnCtx(e,i),Le(i,{validation:"cuid2",code:Se.invalid_string,message:a.message}),r.dirty());else if(a.kind==="ulid")EQ.test(e.data)||(i=this._getOrReturnCtx(e,i),Le(i,{validation:"ulid",code:Se.invalid_string,message:a.message}),r.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),Le(i,{validation:"url",code:Se.invalid_string,message:a.message}),r.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),Le(i,{validation:"regex",code:Se.invalid_string,message:a.message}),r.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(i=this._getOrReturnCtx(e,i),Le(i,{code:Se.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),r.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(i=this._getOrReturnCtx(e,i),Le(i,{code:Se.invalid_string,validation:{startsWith:a.value},message:a.message}),r.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(i=this._getOrReturnCtx(e,i),Le(i,{code:Se.invalid_string,validation:{endsWith:a.value},message:a.message}),r.dirty()):a.kind==="datetime"?QD(a).test(e.data)||(i=this._getOrReturnCtx(e,i),Le(i,{code:Se.invalid_string,validation:"datetime",message:a.message}),r.dirty()):a.kind==="date"?$Q.test(e.data)||(i=this._getOrReturnCtx(e,i),Le(i,{code:Se.invalid_string,validation:"date",message:a.message}),r.dirty()):a.kind==="time"?zQ(a).test(e.data)||(i=this._getOrReturnCtx(e,i),Le(i,{code:Se.invalid_string,validation:"time",message:a.message}),r.dirty()):a.kind==="duration"?IQ.test(e.data)||(i=this._getOrReturnCtx(e,i),Le(i,{validation:"duration",code:Se.invalid_string,message:a.message}),r.dirty()):a.kind==="ip"?BQ(e.data,a.version)||(i=this._getOrReturnCtx(e,i),Le(i,{validation:"ip",code:Se.invalid_string,message:a.message}),r.dirty()):a.kind==="jwt"?qQ(e.data,a.alg)||(i=this._getOrReturnCtx(e,i),Le(i,{validation:"jwt",code:Se.invalid_string,message:a.message}),r.dirty()):a.kind==="cidr"?HQ(e.data,a.version)||(i=this._getOrReturnCtx(e,i),Le(i,{validation:"cidr",code:Se.invalid_string,message:a.message}),r.dirty()):a.kind==="base64"?UQ.test(e.data)||(i=this._getOrReturnCtx(e,i),Le(i,{validation:"base64",code:Se.invalid_string,message:a.message}),r.dirty()):a.kind==="base64url"?VQ.test(e.data)||(i=this._getOrReturnCtx(e,i),Le(i,{validation:"base64url",code:Se.invalid_string,message:a.message}),r.dirty()):_t.assertNever(a);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:Se.invalid_string,...Ke.errToObj(r)})}_addCheck(e){return new Mr({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Ke.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Ke.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Ke.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Ke.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Ke.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Ke.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Ke.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Ke.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Ke.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Ke.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Ke.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Ke.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Ke.errToObj(e)})}datetime(e){var n,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,local:(r=e==null?void 0:e.local)!==null&&r!==void 0?r:!1,...Ke.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...Ke.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...Ke.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...Ke.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...Ke.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...Ke.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...Ke.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...Ke.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...Ke.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...Ke.errToObj(n)})}nonempty(e){return this.min(1,Ke.errToObj(e))}trim(){return new Mr({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Mr({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Mr({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Mr.create=t=>{var e;return new Mr({checks:[],typeName:rt.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...gt(t)})};function WQ(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,a=parseInt(t.toFixed(i).replace(".","")),o=parseInt(e.toFixed(i).replace(".",""));return a%o/Math.pow(10,i)}class ao extends jt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==$e.number){const a=this._getOrReturnCtx(e);return Le(a,{code:Se.invalid_type,expected:$e.number,received:a.parsedType}),it}let r;const i=new is;for(const a of this._def.checks)a.kind==="int"?_t.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),Le(r,{code:Se.invalid_type,expected:"integer",received:"float",message:a.message}),i.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),Le(r,{code:Se.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),Le(r,{code:Se.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="multipleOf"?WQ(e.data,a.value)!==0&&(r=this._getOrReturnCtx(e,r),Le(r,{code:Se.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),Le(r,{code:Se.not_finite,message:a.message}),i.dirty()):_t.assertNever(a);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Ke.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Ke.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Ke.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Ke.toString(n))}setLimit(e,n,r,i){return new ao({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Ke.toString(i)}]})}_addCheck(e){return new ao({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Ke.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ke.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ke.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ke.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ke.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Ke.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:Ke.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ke.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ke.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&_t.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}ao.create=t=>new ao({checks:[],typeName:rt.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...gt(t)});class oo extends jt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==$e.bigint)return this._getInvalidInput(e);let r;const i=new is;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),Le(r,{code:Se.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),Le(r,{code:Se.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),Le(r,{code:Se.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):_t.assertNever(a);return{status:i.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return Le(n,{code:Se.invalid_type,expected:$e.bigint,received:n.parsedType}),it}gte(e,n){return this.setLimit("min",e,!0,Ke.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Ke.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Ke.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Ke.toString(n))}setLimit(e,n,r,i){return new oo({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Ke.toString(i)}]})}_addCheck(e){return new oo({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ke.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ke.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ke.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ke.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Ke.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}oo.create=t=>{var e;return new oo({checks:[],typeName:rt.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...gt(t)})};class qu extends jt{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==$e.boolean){const r=this._getOrReturnCtx(e);return Le(r,{code:Se.invalid_type,expected:$e.boolean,received:r.parsedType}),it}return js(e.data)}}qu.create=t=>new qu({typeName:rt.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...gt(t)});class hl extends jt{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==$e.date){const a=this._getOrReturnCtx(e);return Le(a,{code:Se.invalid_type,expected:$e.date,received:a.parsedType}),it}if(isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return Le(a,{code:Se.invalid_date}),it}const r=new is;let i;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(i=this._getOrReturnCtx(e,i),Le(i,{code:Se.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),r.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(i=this._getOrReturnCtx(e,i),Le(i,{code:Se.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),r.dirty()):_t.assertNever(a);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new hl({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:Ke.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:Ke.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}hl.create=t=>new hl({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:rt.ZodDate,...gt(t)});class lp extends jt{_parse(e){if(this._getType(e)!==$e.symbol){const r=this._getOrReturnCtx(e);return Le(r,{code:Se.invalid_type,expected:$e.symbol,received:r.parsedType}),it}return js(e.data)}}lp.create=t=>new lp({typeName:rt.ZodSymbol,...gt(t)});class Hu extends jt{_parse(e){if(this._getType(e)!==$e.undefined){const r=this._getOrReturnCtx(e);return Le(r,{code:Se.invalid_type,expected:$e.undefined,received:r.parsedType}),it}return js(e.data)}}Hu.create=t=>new Hu({typeName:rt.ZodUndefined,...gt(t)});class Wu extends jt{_parse(e){if(this._getType(e)!==$e.null){const r=this._getOrReturnCtx(e);return Le(r,{code:Se.invalid_type,expected:$e.null,received:r.parsedType}),it}return js(e.data)}}Wu.create=t=>new Wu({typeName:rt.ZodNull,...gt(t)});class Qc extends jt{constructor(){super(...arguments),this._any=!0}_parse(e){return js(e.data)}}Qc.create=t=>new Qc({typeName:rt.ZodAny,...gt(t)});class Yo extends jt{constructor(){super(...arguments),this._unknown=!0}_parse(e){return js(e.data)}}Yo.create=t=>new Yo({typeName:rt.ZodUnknown,...gt(t)});class na extends jt{_parse(e){const n=this._getOrReturnCtx(e);return Le(n,{code:Se.invalid_type,expected:$e.never,received:n.parsedType}),it}}na.create=t=>new na({typeName:rt.ZodNever,...gt(t)});class cp extends jt{_parse(e){if(this._getType(e)!==$e.undefined){const r=this._getOrReturnCtx(e);return Le(r,{code:Se.invalid_type,expected:$e.void,received:r.parsedType}),it}return js(e.data)}}cp.create=t=>new cp({typeName:rt.ZodVoid,...gt(t)});class $r extends jt{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==$e.array)return Le(n,{code:Se.invalid_type,expected:$e.array,received:n.parsedType}),it;if(i.exactLength!==null){const o=n.data.length>i.exactLength.value,l=n.data.length<i.exactLength.value;(o||l)&&(Le(n,{code:o?Se.too_big:Se.too_small,minimum:l?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(Le(n,{code:Se.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(Le(n,{code:Se.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,l)=>i.type._parseAsync(new ji(n,o,n.path,l)))).then(o=>is.mergeArray(r,o));const a=[...n.data].map((o,l)=>i.type._parseSync(new ji(n,o,n.path,l)));return is.mergeArray(r,a)}get element(){return this._def.type}min(e,n){return new $r({...this._def,minLength:{value:e,message:Ke.toString(n)}})}max(e,n){return new $r({...this._def,maxLength:{value:e,message:Ke.toString(n)}})}length(e,n){return new $r({...this._def,exactLength:{value:e,message:Ke.toString(n)}})}nonempty(e){return this.min(1,e)}}$r.create=(t,e)=>new $r({type:t,minLength:null,maxLength:null,exactLength:null,typeName:rt.ZodArray,...gt(e)});function Fl(t){if(t instanceof an){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=gi.create(Fl(r))}return new an({...t._def,shape:()=>e})}else return t instanceof $r?new $r({...t._def,type:Fl(t.element)}):t instanceof gi?gi.create(Fl(t.unwrap())):t instanceof co?co.create(Fl(t.unwrap())):t instanceof wi?wi.create(t.items.map(e=>Fl(e))):t}class an extends jt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=_t.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==$e.object){const u=this._getOrReturnCtx(e);return Le(u,{code:Se.invalid_type,expected:$e.object,received:u.parsedType}),it}const{status:r,ctx:i}=this._processInputParams(e),{shape:a,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof na&&this._def.unknownKeys==="strip"))for(const u in i.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const h=a[u],p=i.data[u];c.push({key:{status:"valid",value:u},value:h._parse(new ji(i,p,i.path,u)),alwaysSet:u in i.data})}if(this._def.catchall instanceof na){const u=this._def.unknownKeys;if(u==="passthrough")for(const h of l)c.push({key:{status:"valid",value:h},value:{status:"valid",value:i.data[h]}});else if(u==="strict")l.length>0&&(Le(i,{code:Se.unrecognized_keys,keys:l}),r.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const h of l){const p=i.data[h];c.push({key:{status:"valid",value:h},value:u._parse(new ji(i,p,i.path,h)),alwaysSet:h in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const u=[];for(const h of c){const p=await h.key,f=await h.value;u.push({key:p,value:f,alwaysSet:h.alwaysSet})}return u}).then(u=>is.mergeObjectSync(r,u)):is.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(e){return Ke.errToObj,new an({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var i,a,o,l;const c=(o=(a=(i=this._def).errorMap)===null||a===void 0?void 0:a.call(i,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(l=Ke.errToObj(e).message)!==null&&l!==void 0?l:c}:{message:c}}}:{}})}strip(){return new an({...this._def,unknownKeys:"strip"})}passthrough(){return new an({...this._def,unknownKeys:"passthrough"})}extend(e){return new an({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new an({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:rt.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new an({...this._def,catchall:e})}pick(e){const n={};return _t.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new an({...this._def,shape:()=>n})}omit(e){const n={};return _t.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new an({...this._def,shape:()=>n})}deepPartial(){return Fl(this)}partial(e){const n={};return _t.objectKeys(this.shape).forEach(r=>{const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}),new an({...this._def,shape:()=>n})}required(e){const n={};return _t.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let a=this.shape[r];for(;a instanceof gi;)a=a._def.innerType;n[r]=a}}),new an({...this._def,shape:()=>n})}keyof(){return YD(_t.objectKeys(this.shape))}}an.create=(t,e)=>new an({shape:()=>t,unknownKeys:"strip",catchall:na.create(),typeName:rt.ZodObject,...gt(e)});an.strictCreate=(t,e)=>new an({shape:()=>t,unknownKeys:"strict",catchall:na.create(),typeName:rt.ZodObject,...gt(e)});an.lazycreate=(t,e)=>new an({shape:t,unknownKeys:"strip",catchall:na.create(),typeName:rt.ZodObject,...gt(e)});class Ku extends jt{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(a){for(const l of a)if(l.result.status==="valid")return l.result;for(const l of a)if(l.result.status==="dirty")return n.common.issues.push(...l.ctx.common.issues),l.result;const o=a.map(l=>new Ys(l.ctx.common.issues));return Le(n,{code:Se.invalid_union,unionErrors:o}),it}if(n.common.async)return Promise.all(r.map(async a=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await a._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(i);{let a;const o=[];for(const c of r){const u={...n,common:{...n.common,issues:[]},parent:null},h=c._parseSync({data:n.data,path:n.path,parent:u});if(h.status==="valid")return h;h.status==="dirty"&&!a&&(a={result:h,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(a)return n.common.issues.push(...a.ctx.common.issues),a.result;const l=o.map(c=>new Ys(c));return Le(n,{code:Se.invalid_union,unionErrors:l}),it}}get options(){return this._def.options}}Ku.create=(t,e)=>new Ku({options:t,typeName:rt.ZodUnion,...gt(e)});const Mi=t=>t instanceof Yu?Mi(t.schema):t instanceof Wr?Mi(t.innerType()):t instanceof Xu?[t.value]:t instanceof lo?t.options:t instanceof Zu?_t.objectValues(t.enum):t instanceof Ju?Mi(t._def.innerType):t instanceof Hu?[void 0]:t instanceof Wu?[null]:t instanceof gi?[void 0,...Mi(t.unwrap())]:t instanceof co?[null,...Mi(t.unwrap())]:t instanceof tw||t instanceof th?Mi(t.unwrap()):t instanceof eh?Mi(t._def.innerType):[];class xg extends jt{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==$e.object)return Le(n,{code:Se.invalid_type,expected:$e.object,received:n.parsedType}),it;const r=this.discriminator,i=n.data[r],a=this.optionsMap.get(i);return a?n.common.async?a._parseAsync({data:n.data,path:n.path,parent:n}):a._parseSync({data:n.data,path:n.path,parent:n}):(Le(n,{code:Se.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),it)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const i=new Map;for(const a of n){const o=Mi(a.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const l of o){if(i.has(l))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(l)}`);i.set(l,a)}}return new xg({typeName:rt.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:i,...gt(r)})}}function Lv(t,e){const n=Li(t),r=Li(e);if(t===e)return{valid:!0,data:t};if(n===$e.object&&r===$e.object){const i=_t.objectKeys(e),a=_t.objectKeys(t).filter(l=>i.indexOf(l)!==-1),o={...t,...e};for(const l of a){const c=Lv(t[l],e[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(n===$e.array&&r===$e.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let a=0;a<t.length;a++){const o=t[a],l=e[a],c=Lv(o,l);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return n===$e.date&&r===$e.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Gu extends jt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(a,o)=>{if(Ov(a)||Ov(o))return it;const l=Lv(a.value,o.value);return l.valid?((Fv(a)||Fv(o))&&n.dirty(),{status:n.value,value:l.data}):(Le(r,{code:Se.invalid_intersection_types}),it)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([a,o])=>i(a,o)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Gu.create=(t,e,n)=>new Gu({left:t,right:e,typeName:rt.ZodIntersection,...gt(n)});class wi extends jt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==$e.array)return Le(r,{code:Se.invalid_type,expected:$e.array,received:r.parsedType}),it;if(r.data.length<this._def.items.length)return Le(r,{code:Se.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),it;!this._def.rest&&r.data.length>this._def.items.length&&(Le(r,{code:Se.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const a=[...r.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new ji(r,o,r.path,l)):null}).filter(o=>!!o);return r.common.async?Promise.all(a).then(o=>is.mergeArray(n,o)):is.mergeArray(n,a)}get items(){return this._def.items}rest(e){return new wi({...this._def,rest:e})}}wi.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new wi({items:t,typeName:rt.ZodTuple,rest:null,...gt(e)})};class Qu extends jt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==$e.object)return Le(r,{code:Se.invalid_type,expected:$e.object,received:r.parsedType}),it;const i=[],a=this._def.keyType,o=this._def.valueType;for(const l in r.data)i.push({key:a._parse(new ji(r,l,r.path,l)),value:o._parse(new ji(r,r.data[l],r.path,l)),alwaysSet:l in r.data});return r.common.async?is.mergeObjectAsync(n,i):is.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof jt?new Qu({keyType:e,valueType:n,typeName:rt.ZodRecord,...gt(r)}):new Qu({keyType:Mr.create(),valueType:e,typeName:rt.ZodRecord,...gt(n)})}}class dp extends jt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==$e.map)return Le(r,{code:Se.invalid_type,expected:$e.map,received:r.parsedType}),it;const i=this._def.keyType,a=this._def.valueType,o=[...r.data.entries()].map(([l,c],u)=>({key:i._parse(new ji(r,l,r.path,[u,"key"])),value:a._parse(new ji(r,c,r.path,[u,"value"]))}));if(r.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,h=await c.value;if(u.status==="aborted"||h.status==="aborted")return it;(u.status==="dirty"||h.status==="dirty")&&n.dirty(),l.set(u.value,h.value)}return{status:n.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,h=c.value;if(u.status==="aborted"||h.status==="aborted")return it;(u.status==="dirty"||h.status==="dirty")&&n.dirty(),l.set(u.value,h.value)}return{status:n.value,value:l}}}}dp.create=(t,e,n)=>new dp({valueType:e,keyType:t,typeName:rt.ZodMap,...gt(n)});class ml extends jt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==$e.set)return Le(r,{code:Se.invalid_type,expected:$e.set,received:r.parsedType}),it;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(Le(r,{code:Se.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(Le(r,{code:Se.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const a=this._def.valueType;function o(c){const u=new Set;for(const h of c){if(h.status==="aborted")return it;h.status==="dirty"&&n.dirty(),u.add(h.value)}return{status:n.value,value:u}}const l=[...r.data.values()].map((c,u)=>a._parse(new ji(r,c,r.path,u)));return r.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(e,n){return new ml({...this._def,minSize:{value:e,message:Ke.toString(n)}})}max(e,n){return new ml({...this._def,maxSize:{value:e,message:Ke.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}ml.create=(t,e)=>new ml({valueType:t,minSize:null,maxSize:null,typeName:rt.ZodSet,...gt(e)});class xc extends jt{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==$e.function)return Le(n,{code:Se.invalid_type,expected:$e.function,received:n.parsedType}),it;function r(l,c){return ap({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,ip(),Gc].filter(u=>!!u),issueData:{code:Se.invalid_arguments,argumentsError:c}})}function i(l,c){return ap({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,ip(),Gc].filter(u=>!!u),issueData:{code:Se.invalid_return_type,returnTypeError:c}})}const a={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof Yc){const l=this;return js(async function(...c){const u=new Ys([]),h=await l._def.args.parseAsync(c,a).catch(v=>{throw u.addIssue(r(c,v)),u}),p=await Reflect.apply(o,this,h);return await l._def.returns._def.type.parseAsync(p,a).catch(v=>{throw u.addIssue(i(p,v)),u})})}else{const l=this;return js(function(...c){const u=l._def.args.safeParse(c,a);if(!u.success)throw new Ys([r(c,u.error)]);const h=Reflect.apply(o,this,u.data),p=l._def.returns.safeParse(h,a);if(!p.success)throw new Ys([i(h,p.error)]);return p.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new xc({...this._def,args:wi.create(e).rest(Yo.create())})}returns(e){return new xc({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new xc({args:e||wi.create([]).rest(Yo.create()),returns:n||Yo.create(),typeName:rt.ZodFunction,...gt(r)})}}class Yu extends jt{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Yu.create=(t,e)=>new Yu({getter:t,typeName:rt.ZodLazy,...gt(e)});class Xu extends jt{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return Le(n,{received:n.data,code:Se.invalid_literal,expected:this._def.value}),it}return{status:"valid",value:e.data}}get value(){return this._def.value}}Xu.create=(t,e)=>new Xu({value:t,typeName:rt.ZodLiteral,...gt(e)});function YD(t,e){return new lo({values:t,typeName:rt.ZodEnum,...gt(e)})}class lo extends jt{constructor(){super(...arguments),Yd.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return Le(n,{expected:_t.joinValues(r),received:n.parsedType,code:Se.invalid_type}),it}if(op(this,Yd)||WD(this,Yd,new Set(this._def.values)),!op(this,Yd).has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return Le(n,{received:n.data,code:Se.invalid_enum_value,options:r}),it}return js(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return lo.create(e,{...this._def,...n})}exclude(e,n=this._def){return lo.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}Yd=new WeakMap;lo.create=YD;class Zu extends jt{constructor(){super(...arguments),Xd.set(this,void 0)}_parse(e){const n=_t.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==$e.string&&r.parsedType!==$e.number){const i=_t.objectValues(n);return Le(r,{expected:_t.joinValues(i),received:r.parsedType,code:Se.invalid_type}),it}if(op(this,Xd)||WD(this,Xd,new Set(_t.getValidEnumValues(this._def.values))),!op(this,Xd).has(e.data)){const i=_t.objectValues(n);return Le(r,{received:r.data,code:Se.invalid_enum_value,options:i}),it}return js(e.data)}get enum(){return this._def.values}}Xd=new WeakMap;Zu.create=(t,e)=>new Zu({values:t,typeName:rt.ZodNativeEnum,...gt(e)});class Yc extends jt{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==$e.promise&&n.common.async===!1)return Le(n,{code:Se.invalid_type,expected:$e.promise,received:n.parsedType}),it;const r=n.parsedType===$e.promise?n.data:Promise.resolve(n.data);return js(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Yc.create=(t,e)=>new Yc({type:t,typeName:rt.ZodPromise,...gt(e)});class Wr extends jt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===rt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,a={addIssue:o=>{Le(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),i.type==="preprocess"){const o=i.transform(r.data,a);if(r.common.async)return Promise.resolve(o).then(async l=>{if(n.value==="aborted")return it;const c=await this._def.schema._parseAsync({data:l,path:r.path,parent:r});return c.status==="aborted"?it:c.status==="dirty"||n.value==="dirty"?Zl(c.value):c});{if(n.value==="aborted")return it;const l=this._def.schema._parseSync({data:o,path:r.path,parent:r});return l.status==="aborted"?it:l.status==="dirty"||n.value==="dirty"?Zl(l.value):l}}if(i.type==="refinement"){const o=l=>{const c=i.refinement(l,a);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?it:(l.status==="dirty"&&n.dirty(),o(l.value),{status:n.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?it:(l.status==="dirty"&&n.dirty(),o(l.value).then(()=>({status:n.value,value:l.value}))))}if(i.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!ul(o))return o;const l=i.transform(o.value,a);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>ul(o)?Promise.resolve(i.transform(o.value,a)).then(l=>({status:n.value,value:l})):o);_t.assertNever(i)}}Wr.create=(t,e,n)=>new Wr({schema:t,typeName:rt.ZodEffects,effect:e,...gt(n)});Wr.createWithPreprocess=(t,e,n)=>new Wr({schema:e,effect:{type:"preprocess",transform:t},typeName:rt.ZodEffects,...gt(n)});class gi extends jt{_parse(e){return this._getType(e)===$e.undefined?js(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}gi.create=(t,e)=>new gi({innerType:t,typeName:rt.ZodOptional,...gt(e)});class co extends jt{_parse(e){return this._getType(e)===$e.null?js(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}co.create=(t,e)=>new co({innerType:t,typeName:rt.ZodNullable,...gt(e)});class Ju extends jt{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===$e.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Ju.create=(t,e)=>new Ju({innerType:t,typeName:rt.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...gt(e)});class eh extends jt{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Bu(i)?i.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Ys(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Ys(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}eh.create=(t,e)=>new eh({innerType:t,typeName:rt.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...gt(e)});class up extends jt{_parse(e){if(this._getType(e)!==$e.nan){const r=this._getOrReturnCtx(e);return Le(r,{code:Se.invalid_type,expected:$e.nan,received:r.parsedType}),it}return{status:"valid",value:e.data}}}up.create=t=>new up({typeName:rt.ZodNaN,...gt(t)});const KQ=Symbol("zod_brand");class tw extends jt{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Oh extends jt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?it:a.status==="dirty"?(n.dirty(),Zl(a.value)):this._def.out._parseAsync({data:a.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?it:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new Oh({in:e,out:n,typeName:rt.ZodPipeline})}}class th extends jt{_parse(e){const n=this._def.innerType._parse(e),r=i=>(ul(i)&&(i.value=Object.freeze(i.value)),i);return Bu(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}th.create=(t,e)=>new th({innerType:t,typeName:rt.ZodReadonly,...gt(e)});function US(t,e){const n=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof n=="string"?{message:n}:n}function XD(t,e={},n){return t?Qc.create().superRefine((r,i)=>{var a,o;const l=t(r);if(l instanceof Promise)return l.then(c=>{var u,h;if(!c){const p=US(e,r),f=(h=(u=p.fatal)!==null&&u!==void 0?u:n)!==null&&h!==void 0?h:!0;i.addIssue({code:"custom",...p,fatal:f})}});if(!l){const c=US(e,r),u=(o=(a=c.fatal)!==null&&a!==void 0?a:n)!==null&&o!==void 0?o:!0;i.addIssue({code:"custom",...c,fatal:u})}}):Qc.create()}const GQ={object:an.lazycreate};var rt;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(rt||(rt={}));const QQ=(t,e={message:`Input not instance of ${t.name}`})=>XD(n=>n instanceof t,e),ZD=Mr.create,JD=ao.create,YQ=up.create,XQ=oo.create,eM=qu.create,ZQ=hl.create,JQ=lp.create,eY=Hu.create,tY=Wu.create,nY=Qc.create,sY=Yo.create,rY=na.create,iY=cp.create,aY=$r.create,oY=an.create,lY=an.strictCreate,cY=Ku.create,dY=xg.create,uY=Gu.create,hY=wi.create,mY=Qu.create,fY=dp.create,pY=ml.create,gY=xc.create,xY=Yu.create,yY=Xu.create,vY=lo.create,jY=Zu.create,wY=Yc.create,VS=Wr.create,bY=gi.create,NY=co.create,SY=Wr.createWithPreprocess,_Y=Oh.create,CY=()=>ZD().optional(),TY=()=>JD().optional(),EY=()=>eM().optional(),PY={string:t=>Mr.create({...t,coerce:!0}),number:t=>ao.create({...t,coerce:!0}),boolean:t=>qu.create({...t,coerce:!0}),bigint:t=>oo.create({...t,coerce:!0}),date:t=>hl.create({...t,coerce:!0})},kY=it;var G=Object.freeze({__proto__:null,defaultErrorMap:Gc,setErrorMap:SQ,getErrorMap:ip,makeIssue:ap,EMPTY_PATH:_Q,addIssueToContext:Le,ParseStatus:is,INVALID:it,DIRTY:Zl,OK:js,isAborted:Ov,isDirty:Fv,isValid:ul,isAsync:Bu,get util(){return _t},get objectUtil(){return Mv},ZodParsedType:$e,getParsedType:Li,ZodType:jt,datetimeRegex:QD,ZodString:Mr,ZodNumber:ao,ZodBigInt:oo,ZodBoolean:qu,ZodDate:hl,ZodSymbol:lp,ZodUndefined:Hu,ZodNull:Wu,ZodAny:Qc,ZodUnknown:Yo,ZodNever:na,ZodVoid:cp,ZodArray:$r,ZodObject:an,ZodUnion:Ku,ZodDiscriminatedUnion:xg,ZodIntersection:Gu,ZodTuple:wi,ZodRecord:Qu,ZodMap:dp,ZodSet:ml,ZodFunction:xc,ZodLazy:Yu,ZodLiteral:Xu,ZodEnum:lo,ZodNativeEnum:Zu,ZodPromise:Yc,ZodEffects:Wr,ZodTransformer:Wr,ZodOptional:gi,ZodNullable:co,ZodDefault:Ju,ZodCatch:eh,ZodNaN:up,BRAND:KQ,ZodBranded:tw,ZodPipeline:Oh,ZodReadonly:th,custom:XD,Schema:jt,ZodSchema:jt,late:GQ,get ZodFirstPartyTypeKind(){return rt},coerce:PY,any:nY,array:aY,bigint:XQ,boolean:eM,date:ZQ,discriminatedUnion:dY,effect:VS,enum:vY,function:gY,instanceof:QQ,intersection:uY,lazy:xY,literal:yY,map:fY,nan:YQ,nativeEnum:jY,never:rY,null:tY,nullable:NY,number:JD,object:oY,oboolean:EY,onumber:TY,optional:bY,ostring:CY,pipeline:_Y,preprocess:SY,promise:wY,record:mY,set:pY,strictObject:lY,string:ZD,symbol:JQ,transformer:VS,tuple:hY,undefined:eY,union:cY,unknown:sY,void:iY,NEVER:kY,ZodIssueCode:Se,quotelessJson:NQ,ZodError:Ys});const AY=G.object({title:G.string().min(1,"Title is required"),description:G.string().optional(),reminderType:G.string().min(1,"Reminder type is required"),unitId:G.string().optional(),amount:G.number().min(0).optional(),dueDate:G.string().optional(),reminderTime:G.string().default("09:00"),isRecurring:G.boolean().default(!1),recurringPattern:G.string().optional(),recurringInterval:G.number().min(1).default(1),recurringEndDate:G.string().optional(),monthlyType:G.string().optional(),monthlyDate:G.number().min(1).max(31).optional(),monthlyWeekday:G.string().optional(),monthlyWeekPosition:G.string().optional(),weeklyDays:G.array(G.string()).optional(),yearlyMonth:G.number().min(1).max(12).optional(),priority:G.string().default("normal"),autoSend:G.boolean().default(!1),emailTemplate:G.string().optional()});function IY(){var $n,jd,la,ca,Bh;const[t]=fo(),{selectedStrataId:e,selectedStrata:n,isLoading:r}=ra(),i=e,[a,o]=m.useState(!1),[l,c]=m.useState(!1),[u,h]=m.useState(null),[p,f]=m.useState(!1),[v,_]=m.useState({}),[j,E]=m.useState(!1),[N,y]=m.useState(!1),[w,T]=m.useState(null),[O,U]=m.useState([]),[A,S]=m.useState(!1),[g,k]=m.useState(null),[P,I]=m.useState(!1),[R,Q]=m.useState(null),[Ne,de]=m.useState(!1),[K,F]=m.useState(null),z=as(),{toast:W}=xn(),se=kn({resolver:An(AY),defaultValues:{title:"",description:"",reminderType:"",unitId:"all",amount:void 0,dueDate:"",reminderTime:"09:00",isRecurring:!1,recurringPattern:"",recurringInterval:1,recurringEndDate:"",monthlyType:"date",monthlyDate:1,monthlyWeekday:"monday",monthlyWeekPosition:"first",weeklyDays:[],yearlyMonth:1,priority:"normal",autoSend:!1,emailTemplate:""}}),Ce=D=>{if(!Xt||!O)return 0;const ue=Xt.find(qt=>qt.id===D);if(!ue||!ue.feeTierId)return 0;const Xe=O.find(qt=>qt.id===ue.feeTierId);return Xe?Xe.amount:0},Me=se.watch("reminderType"),q=se.watch("unitId"),ve=D=>{var Xe;if(!D.isRecurring)return"One-time";let ue=`Every ${D.recurringInterval} ${D.recurringPattern}`;if(D.recurringPattern==="weekly"&&((Xe=D.weeklyDays)==null?void 0:Xe.length)>0){const qt=D.weeklyDays.map(tr=>tr.slice(0,3).toUpperCase()).join(", ");ue+=` on ${qt}`}else D.recurringPattern==="monthly"?D.monthlyType==="last_day"?ue+=" on last day":D.monthlyType==="date"&&D.monthlyDate?ue+=` on ${D.monthlyDate}${Ue(D.monthlyDate)}`:D.monthlyType==="day"&&D.monthlyWeekPosition&&D.monthlyWeekday&&(ue+=` on ${D.monthlyWeekPosition} ${D.monthlyWeekday}`):D.recurringPattern==="yearly"&&D.yearlyMonth&&(ue+=` in ${["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][D.yearlyMonth-1]}`);return ue},Ue=D=>{const ue=D%10,Xe=D%100;return ue===1&&Xe!==11?"st":ue===2&&Xe!==12?"nd":ue===3&&Xe!==13?"rd":"th"},{data:we,isLoading:fe}=ot({queryKey:[`/api/financial/summary/${i}`],enabled:!!i}),{data:Y=[],isLoading:X}=ot({queryKey:[`/api/strata/${i}/expenses`],enabled:!!i}),{data:je,isLoading:Oe}=ot({queryKey:[`/api/financial/fees/${i}`],enabled:!!i});m.useEffect(()=>{if(je!=null&&je.feeStructure)if(je.feeStructure.tiers)U(je.feeStructure.tiers);else{const D=je.feeStructure,ue=[];D.studio!==void 0&&ue.push({id:"studio",name:"Studio Units",amount:D.studio}),D.one_bedroom!==void 0&&ue.push({id:"one_bedroom",name:"One Bedroom",amount:D.one_bedroom}),D.two_bedroom!==void 0&&ue.push({id:"two_bedroom",name:"Two Bedroom",amount:D.two_bedroom}),U(ue)}else U([{id:"studio",name:"Studio Units",amount:0},{id:"one_bedroom",name:"One Bedroom",amount:0},{id:"two_bedroom",name:"Two Bedroom",amount:0}])},[je]),m.useEffect(()=>{new URLSearchParams(t.split("?")[1]||"").get("action")==="add-expense"&&o(!0)},[t]);const lt=()=>{const D={id:`tier_${Date.now()}`,name:"New Tier",amount:0};U([...O,D])},Dt=(D,ue)=>{U(O.map(Xe=>Xe.id===D?{...Xe,...ue}:Xe))},yn=D=>{O.length>1&&U(O.filter(ue=>ue.id!==D))},{data:un=[],isLoading:hn}=ot({queryKey:[`/api/financial/reminders/${i}`],enabled:!!i}),{data:Xt=[],isLoading:Ss}=ot({queryKey:[`/api/strata/${i}/units`],enabled:!!i}),{data:J=[],isLoading:et}=ot({queryKey:[`/api/strata/${i}/funds`],enabled:!!i});m.useEffect(()=>{if(Me==="monthly_strata_fee"){if(q&&q!=="all"){const D=Ce(q);se.setValue("amount",D)}else se.setValue("amount",void 0);se.setValue("title","Monthly Strata Fee"),se.setValue("isRecurring",!0),se.setValue("recurringPattern","monthly"),se.setValue("recurringInterval",1)}},[Me,q,O,Xt,se]);const L=ze({mutationFn:async D=>(await Be("POST",`/api/strata/${i}/expenses`,D)).json(),onSuccess:()=>{z.invalidateQueries({queryKey:[`/api/strata/${i}/expenses`]}),z.invalidateQueries({queryKey:[`/api/financial/summary/${i}`]}),o(!1),W({title:"Success",description:"Expense created successfully"})},onError:D=>{W({title:"Error",description:"Failed to create expense",variant:"destructive"})}}),Z=ze({mutationFn:async({id:D,status:ue})=>(await Be("PATCH",`/api/expenses/${D}`,{status:ue})).json(),onSuccess:()=>{z.invalidateQueries({queryKey:[`/api/strata/${i}/expenses`]}),z.invalidateQueries({queryKey:[`/api/financial/summary/${i}`]}),W({title:"Success",description:"Expense status updated"})}}),C=ze({mutationFn:async D=>(await Be("POST","/api/financial/fees",{strataId:i,feeStructure:D})).json(),onSuccess:()=>{z.invalidateQueries({queryKey:[`/api/financial/fees/${i}`]}),z.invalidateQueries({queryKey:[`/api/financial/summary/${i}`]}),E(!1),W({title:"Success",description:"Fee structure updated"})}}),ee=ze({mutationFn:async D=>(await Be("DELETE",`/api/expenses/${D}`)).json(),onSuccess:()=>{z.invalidateQueries({queryKey:[`/api/strata/${i}/expenses`]}),z.invalidateQueries({queryKey:[`/api/strata/${i}/metrics`]}),W({title:"Success",description:"Expense deleted"})},onError:()=>{W({title:"Error",description:"Failed to delete expense",variant:"destructive"})}}),pe=ze({mutationFn:async D=>(await Be("PATCH",`/api/expenses/${u.id}`,D)).json(),onSuccess:()=>{z.invalidateQueries({queryKey:[`/api/strata/${i}/expenses`]}),z.invalidateQueries({queryKey:[`/api/strata/${i}/metrics`]}),f(!1),h(null),W({title:"Success",description:"Expense updated"})},onError:()=>{W({title:"Error",description:"Failed to update expense",variant:"destructive"})}}),xe=ze({mutationFn:async D=>(await Be("POST",`/api/strata/${i}/units`,D)).json(),onSuccess:()=>{z.invalidateQueries({queryKey:[`/api/strata/${i}/units`]}),y(!1),W({title:"Success",description:"Unit created successfully"})},onError:()=>{W({title:"Error",description:"Failed to create unit",variant:"destructive"})}}),De=ze({mutationFn:async D=>(await Be("PATCH",`/api/units/${w.id}`,D)).json(),onSuccess:()=>{z.invalidateQueries({queryKey:[`/api/strata/${i}/units`]}),y(!1),T(null),W({title:"Success",description:"Unit updated successfully"})},onError:()=>{W({title:"Error",description:"Failed to update unit",variant:"destructive"})}}),wt=ze({mutationFn:async D=>(await Be("POST",`/api/strata/${i}/funds`,D)).json(),onSuccess:()=>{z.invalidateQueries({queryKey:[`/api/strata/${i}/funds`]}),S(!1),k(null),W({title:"Success",description:"Fund created successfully"})},onError:()=>{W({title:"Error",description:"Failed to create fund",variant:"destructive"})}}),Lt=ze({mutationFn:async D=>(await Be("PATCH",`/api/funds/${g==null?void 0:g.id}`,D)).json(),onSuccess:()=>{z.invalidateQueries({queryKey:[`/api/strata/${i}/funds`]}),S(!1),k(null),W({title:"Success",description:"Fund updated successfully"})},onError:()=>{W({title:"Error",description:"Failed to update fund",variant:"destructive"})}}),Tn=ze({mutationFn:async D=>(await Be("DELETE",`/api/funds/${D}`)).json(),onSuccess:()=>{z.invalidateQueries({queryKey:[`/api/strata/${i}/funds`]}),W({title:"Success",description:"Fund deleted successfully"})},onError:()=>{W({title:"Error",description:"Failed to delete fund",variant:"destructive"})}}),vr=ze({mutationFn:async D=>(await Be("POST",`/api/funds/${R==null?void 0:R.id}/transactions`,D)).json(),onSuccess:()=>{z.invalidateQueries({queryKey:[`/api/strata/${i}/funds`]}),I(!1),Q(null),W({title:"Success",description:"Transaction recorded successfully"})},onError:()=>{W({title:"Error",description:"Failed to record transaction",variant:"destructive"})}}),_i=ze({mutationFn:async D=>{const ue={...D,strataId:i,unitId:D.unitId==="all"?void 0:D.unitId};return(await Be("POST","/api/financial/reminders",ue)).json()},onSuccess:()=>{z.invalidateQueries({queryKey:[`/api/financial/reminders/${i}`]}),de(!1),se.reset(),W({title:"Success",description:"Reminder created successfully"})},onError:()=>{W({title:"Error",description:"Failed to create reminder",variant:"destructive"})}}),Ci=ze({mutationFn:async({id:D,data:ue})=>{const Xe={...ue,unitId:ue.unitId==="all"?void 0:ue.unitId};return(await Be("PUT",`/api/financial/reminders/${D}`,Xe)).json()},onSuccess:()=>{z.invalidateQueries({queryKey:[`/api/financial/reminders/${i}`]}),de(!1),F(null),se.reset(),W({title:"Success",description:"Reminder updated successfully"})},onError:()=>{W({title:"Error",description:"Failed to update reminder",variant:"destructive"})}}),aa=ze({mutationFn:async D=>(await Be("DELETE",`/api/financial/reminders/${D}`)).json(),onSuccess:()=>{z.invalidateQueries({queryKey:[`/api/financial/reminders/${i}`]}),W({title:"Success",description:"Reminder deleted successfully"})},onError:()=>{W({title:"Error",description:"Failed to delete reminder",variant:"destructive"})}}),_l=D=>{D.preventDefault();const ue=new FormData(D.currentTarget),Xe=ue.get("chargeType")==="recurring",qt=ue.get("expenseDate"),tr={description:ue.get("description"),amount:ue.get("amount"),category:ue.get("category"),expenseDate:qt?new Date(qt):null,isRecurring:Xe,recurringFrequency:Xe?ue.get("frequency"):null,status:"pending"};L.mutate(tr)},fd=D=>{D.preventDefault();const ue=v.chargeType==="recurring",Xe={description:v.description,amount:v.amount,category:v.category,isRecurring:ue,recurringFrequency:ue?v.frequency:null};v.expenseDate&&v.expenseDate.trim()&&(Xe.expenseDate=new Date(v.expenseDate).toISOString()),console.log("Sending expense data:",Xe),pe.mutate(Xe)},Ti=D=>{h(D),c(D.isRecurring),_({description:D.description,amount:D.amount,category:D.category,chargeType:D.isRecurring?"recurring":"one-time",frequency:D.recurringFrequency||"",expenseDate:D.expenseDate?new Date(D.expenseDate).toISOString().split("T")[0]:""}),f(!0)},pd=D=>{confirm("Are you sure you want to delete this expense?")&&ee.mutate(D)},Sg=D=>{D.preventDefault();const ue={tiers:O};C.mutate(ue)},jo=D=>{D.preventDefault();const ue=new FormData(D.currentTarget),Xe={unitNumber:ue.get("unitNumber"),unitType:ue.get("unitType"),feeTierId:ue.get("feeTierId"),ownerName:ue.get("ownerName"),ownerEmail:ue.get("ownerEmail"),ownerPhone:ue.get("ownerPhone"),squareFootage:parseFloat(ue.get("squareFootage")||"0"),parkingSpaces:parseInt(ue.get("parkingSpaces")||"0")};w?De.mutate(Xe):xe.mutate(Xe)},gd=D=>{T(D),y(!0)},xd=D=>{D.preventDefault();const ue=new FormData(D.currentTarget),Xe={name:ue.get("name"),type:ue.get("type"),balance:ue.get("balance"),target:ue.get("target")||null,interestRate:ue.get("interestRate")||null,compoundingFrequency:ue.get("compoundingFrequency")||"monthly",institution:ue.get("institution")||null,accountNumber:ue.get("accountNumber")||null,notes:ue.get("notes")||null};g?Lt.mutate(Xe):wt.mutate(Xe)},Ei=D=>{k(D),S(!0)},$h=D=>{window.confirm("Are you sure you want to delete this fund?")&&Tn.mutate(D)},yd=D=>{D.preventDefault();const ue=new FormData(D.currentTarget),Xe={type:ue.get("type"),amount:ue.get("amount"),description:ue.get("description")||null,transactionDate:ue.get("transactionDate")};vr.mutate(Xe)},zh=D=>{Q(D),I(!0)},oa=D=>{switch(D){case"approved":return"bg-green-500";case"rejected":return"bg-red-500";case"pending":return"bg-yellow-500";default:return"bg-gray-500"}},vd=D=>{switch(D){case"approved":return s.jsx(Ur,{className:"h-4 w-4"});case"rejected":return s.jsx(ai,{className:"h-4 w-4"});case"pending":return s.jsx(Hs,{className:"h-4 w-4"});default:return s.jsx(Hs,{className:"h-4 w-4"})}};return r||!i?s.jsx("div",{className:"p-6 space-y-6",children:s.jsxs("div",{className:"animate-pulse space-y-4",children:[s.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[...Array(3)].map((D,ue)=>s.jsx("div",{className:"h-32 bg-gray-200 rounded"},ue))})]})}):fe?s.jsx("div",{className:"p-6 space-y-6",children:s.jsxs("div",{className:"animate-pulse space-y-4",children:[s.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[...Array(3)].map((D,ue)=>s.jsx("div",{className:"h-32 bg-gray-200 rounded"},ue))})]})}):s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-foreground",children:"Financial Management"}),s.jsx("p",{className:"text-muted-foreground mt-1 text-sm sm:text-base",children:"Manage strata fees, expenses, and budgets"})]}),s.jsxs($,{className:"bg-green-500 hover:bg-green-600 text-white w-full sm:w-auto text-sm sm:text-base",children:[s.jsx(Hc,{className:"mr-2 h-4 w-4"}),"Export Report"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsxs(ge,{children:[s.jsxs(Ge,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Qe,{className:"text-sm font-medium",children:"Total Revenue"}),s.jsx(dr,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(be,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:["$",(($n=we==null?void 0:we.totalRevenue)==null?void 0:$n.toLocaleString())||"0"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Annual projected"})]})]}),s.jsxs(ge,{children:[s.jsxs(Ge,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Qe,{className:"text-sm font-medium",children:"Monthly Expenses"}),s.jsx(jv,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(be,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:["$",((jd=we==null?void 0:we.monthlyExpenses)==null?void 0:jd.toLocaleString())||"0"]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[(we==null?void 0:we.pendingExpenses)||0," pending approval"]})]})]}),s.jsxs(ge,{children:[s.jsxs(Ge,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Qe,{className:"text-sm font-medium",children:"Reserve Fund"}),s.jsx(ss,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(be,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:["$",et?"...":(la=J.find(D=>D.type==="reserve"))!=null&&la.balance?parseFloat(J.find(D=>D.type==="reserve").balance).toLocaleString():"125,000"]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Target: $",(ca=J.find(D=>D.type==="reserve"))!=null&&ca.target?parseFloat(J.find(D=>D.type==="reserve").target).toLocaleString():"150,000"]})]})]}),s.jsxs(ge,{children:[s.jsxs(Ge,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Qe,{className:"text-sm font-medium",children:"Outstanding Fees"}),s.jsx(ai,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(be,{children:[s.jsxs("div",{className:"text-2xl font-bold text-red-600",children:["$",((Bh=we==null?void 0:we.outstandingFees)==null?void 0:Bh.toLocaleString())||"0"]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[un.length," overdue payments"]})]})]})]}),s.jsxs(ud,{defaultValue:"expenses",className:"space-y-4",children:[s.jsx("div",{className:"overflow-x-auto -mx-3 px-3 sm:mx-0 sm:px-0",children:s.jsxs(bl,{className:"w-full justify-start min-w-max sm:min-w-full",children:[s.jsx(Qt,{value:"expenses",className:"text-xs sm:text-sm",children:"Expenses"}),s.jsx(Qt,{value:"fees",className:"text-xs sm:text-sm",children:"Fee Structure"}),s.jsx(Qt,{value:"reminders",className:"text-xs sm:text-sm",children:"Reminders"}),s.jsx(Qt,{value:"dwellings",className:"text-xs sm:text-sm",children:"Dwellings"}),s.jsx(Qt,{value:"funds",className:"text-xs sm:text-sm",children:"Funds"})]})}),s.jsxs(Sn,{value:"expenses",className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Expense Management"}),s.jsxs(ut,{open:a,onOpenChange:o,children:[s.jsx(Fn,{asChild:!0,children:s.jsxs($,{className:"bg-green-500 hover:bg-green-600 text-white",children:[s.jsx(en,{className:"mr-2 h-4 w-4"}),"Add Expense"]})}),s.jsxs(ct,{children:[s.jsxs(ht,{children:[s.jsx(mt,{children:"Add New Expense"}),s.jsx(Zt,{children:"Create a new expense record for the strata"})]}),s.jsxs("form",{onSubmit:_l,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(me,{htmlFor:"description",children:"Title"}),s.jsx(re,{id:"description",name:"description",required:!0})]}),s.jsxs("div",{children:[s.jsx(me,{htmlFor:"amount",children:"Amount ($)"}),s.jsx(re,{id:"amount",name:"amount",type:"number",step:"0.01",required:!0})]}),s.jsxs("div",{children:[s.jsx(me,{htmlFor:"category",children:"Category"}),s.jsxs(tt,{name:"category",required:!0,children:[s.jsx(Ze,{children:s.jsx(nt,{placeholder:"Select category"})}),s.jsxs(Je,{children:[s.jsx(V,{value:"maintenance",children:"Maintenance"}),s.jsx(V,{value:"utilities",children:"Utilities"}),s.jsx(V,{value:"insurance",children:"Insurance"}),s.jsx(V,{value:"landscaping",children:"Landscaping"}),s.jsx(V,{value:"administrative",children:"Administrative"}),s.jsx(V,{value:"other",children:"Other"})]})]})]}),s.jsxs("div",{children:[s.jsx(me,{htmlFor:"expenseDate",children:"Expense Date"}),s.jsx(re,{id:"expenseDate",name:"expenseDate",type:"date",required:!0})]}),s.jsxs("div",{children:[s.jsx(me,{htmlFor:"chargeType",children:"Charge Type"}),s.jsxs(tt,{name:"chargeType",onValueChange:D=>c(D==="recurring"),required:!0,children:[s.jsx(Ze,{children:s.jsx(nt,{placeholder:"Select charge type"})}),s.jsxs(Je,{children:[s.jsx(V,{value:"one-time",children:"One-time"}),s.jsx(V,{value:"recurring",children:"Recurring"})]})]})]}),l&&s.jsxs("div",{children:[s.jsx(me,{htmlFor:"frequency",children:"Recurring Frequency"}),s.jsxs(tt,{name:"frequency",children:[s.jsx(Ze,{children:s.jsx(nt,{placeholder:"Select frequency"})}),s.jsxs(Je,{children:[s.jsx(V,{value:"weekly",children:"Weekly"}),s.jsx(V,{value:"monthly",children:"Monthly"}),s.jsx(V,{value:"annually",children:"Annually"})]})]})]}),s.jsx($,{type:"submit",disabled:L.isPending,children:L.isPending?"Creating...":"Create Expense"})]})]})]}),s.jsx(ut,{open:p,onOpenChange:f,children:s.jsxs(ct,{children:[s.jsxs(ht,{children:[s.jsx(mt,{children:"Edit Expense"}),s.jsx(Zt,{children:"Update the expense details"})]}),s.jsxs("form",{onSubmit:fd,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(me,{htmlFor:"editDescription",children:"Title"}),s.jsx(re,{id:"editDescription",name:"description",value:(v==null?void 0:v.description)||"",onChange:D=>_({...v,description:D.target.value}),required:!0})]}),s.jsxs("div",{children:[s.jsx(me,{htmlFor:"editAmount",children:"Amount ($)"}),s.jsx(re,{id:"editAmount",name:"amount",type:"number",step:"0.01",value:(v==null?void 0:v.amount)||"",onChange:D=>_({...v,amount:D.target.value}),required:!0})]}),s.jsxs("div",{children:[s.jsx(me,{htmlFor:"editCategory",children:"Category"}),s.jsxs(tt,{name:"category",value:(v==null?void 0:v.category)||"",onValueChange:D=>_({...v,category:D}),children:[s.jsx(Ze,{children:s.jsx(nt,{placeholder:"Select category"})}),s.jsxs(Je,{children:[s.jsx(V,{value:"maintenance",children:"Maintenance"}),s.jsx(V,{value:"utilities",children:"Utilities"}),s.jsx(V,{value:"insurance",children:"Insurance"}),s.jsx(V,{value:"landscaping",children:"Landscaping"}),s.jsx(V,{value:"administrative",children:"Administrative"}),s.jsx(V,{value:"other",children:"Other"})]})]})]}),s.jsxs("div",{children:[s.jsx(me,{htmlFor:"editExpenseDate",children:"Expense Date"}),s.jsx(re,{id:"editExpenseDate",name:"expenseDate",type:"date",value:(v==null?void 0:v.expenseDate)||"",onChange:D=>_({...v,expenseDate:D.target.value}),required:!0})]}),s.jsxs("div",{children:[s.jsx(me,{htmlFor:"editChargeType",children:"Charge Type"}),s.jsxs(tt,{name:"chargeType",onValueChange:D=>{c(D==="recurring"),_({...v,chargeType:D})},value:(v==null?void 0:v.chargeType)||"one-time",required:!0,children:[s.jsx(Ze,{children:s.jsx(nt,{placeholder:"Select charge type"})}),s.jsxs(Je,{children:[s.jsx(V,{value:"one-time",children:"One-time"}),s.jsx(V,{value:"recurring",children:"Recurring"})]})]})]}),l&&s.jsxs("div",{children:[s.jsx(me,{htmlFor:"editFrequency",children:"Recurring Frequency"}),s.jsxs(tt,{name:"frequency",value:(v==null?void 0:v.frequency)||"",onValueChange:D=>_({...v,frequency:D}),children:[s.jsx(Ze,{children:s.jsx(nt,{placeholder:"Select frequency"})}),s.jsxs(Je,{children:[s.jsx(V,{value:"weekly",children:"Weekly"}),s.jsx(V,{value:"monthly",children:"Monthly"}),s.jsx(V,{value:"annually",children:"Annually"})]})]})]}),s.jsx($,{type:"submit",disabled:pe.isPending,children:pe.isPending?"Updating...":"Update Expense"})]})]})})]}),s.jsx(ge,{children:s.jsxs(be,{className:"p-0",children:[s.jsx("div",{className:"hidden lg:block",children:s.jsxs(Ks,{children:[s.jsx(Gs,{children:s.jsxs(Ft,{children:[s.jsx(Ie,{children:"Title"}),s.jsx(Ie,{children:"Category"}),s.jsx(Ie,{children:"Amount"}),s.jsx(Ie,{children:"Type"}),s.jsx(Ie,{children:"Expense Date"}),s.jsx(Ie,{children:"Status"}),s.jsx(Ie,{children:"Actions"})]})}),s.jsx(Qs,{children:Y.map(D=>s.jsxs(Ft,{children:[s.jsx(Ee,{className:"font-medium",children:D.description}),s.jsx(Ee,{children:s.jsx(He,{variant:"outline",children:D.category})}),s.jsxs(Ee,{children:["$",D.amount.toLocaleString()]}),s.jsx(Ee,{children:s.jsx(He,{variant:D.isRecurring?"default":"secondary",children:D.isRecurring?`Recurring (${D.recurringFrequency||"N/A"})`:"One-time"})}),s.jsx(Ee,{children:new Date(D.expenseDate||D.createdAt).toLocaleDateString()}),s.jsx(Ee,{children:s.jsxs(He,{className:`${oa(D.status)} text-white`,children:[vd(D.status),s.jsx("span",{className:"ml-1 capitalize",children:D.status})]})}),s.jsx(Ee,{children:s.jsxs("div",{className:"flex space-x-2",children:[s.jsx($,{size:"sm",variant:"outline",className:"text-blue-600 border-blue-600 hover:bg-blue-50",onClick:()=>Ti(D),children:"Edit"}),s.jsx($,{size:"sm",variant:"outline",className:"text-red-600 border-red-600 hover:bg-red-50",onClick:()=>pd(D.id),children:"Delete"}),D.status==="pending"&&s.jsxs(s.Fragment,{children:[s.jsx($,{size:"sm",variant:"outline",className:"text-green-600 border-green-600 hover:bg-green-50",onClick:()=>Z.mutate({id:D.id,status:"approved"}),children:"Approve"}),s.jsx($,{size:"sm",variant:"outline",className:"text-red-600 border-red-600 hover:bg-red-50",onClick:()=>Z.mutate({id:D.id,status:"rejected"}),children:"Reject"})]})]})})]},D.id))})]})}),s.jsx("div",{className:"lg:hidden space-y-4 p-4",children:Y.map(D=>s.jsx(ge,{className:"border border-gray-200",children:s.jsx(be,{className:"p-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-medium text-base",children:D.description}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:new Date(D.expenseDate||D.createdAt).toLocaleDateString()})]}),s.jsxs(He,{className:`${oa(D.status)} text-white ml-2 shrink-0`,children:[vd(D.status),s.jsx("span",{className:"ml-1 capitalize",children:D.status})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Category:"}),s.jsx("div",{className:"mt-1",children:s.jsx(He,{variant:"outline",children:D.category})})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Amount:"}),s.jsxs("div",{className:"mt-1 font-medium text-lg",children:["$",D.amount.toLocaleString()]})]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground text-sm",children:"Type:"}),s.jsx("div",{className:"mt-1",children:s.jsx(He,{variant:D.isRecurring?"default":"secondary",children:D.isRecurring?`Recurring (${D.recurringFrequency||"N/A"})`:"One-time"})})]}),s.jsxs("div",{className:"flex flex-wrap gap-2 pt-2 border-t",children:[s.jsxs($,{size:"sm",variant:"outline",className:"text-blue-600 border-blue-600 hover:bg-blue-50 flex-1 min-w-[80px]",onClick:()=>Ti(D),children:[s.jsx(gs,{className:"h-3 w-3 mr-1"}),"Edit"]}),s.jsxs($,{size:"sm",variant:"outline",className:"text-red-600 border-red-600 hover:bg-red-50 flex-1 min-w-[80px]",onClick:()=>pd(D.id),children:[s.jsx(Un,{className:"h-3 w-3 mr-1"}),"Delete"]}),D.status==="pending"&&s.jsxs(s.Fragment,{children:[s.jsxs($,{size:"sm",variant:"outline",className:"text-green-600 border-green-600 hover:bg-green-50 flex-1 min-w-[80px]",onClick:()=>Z.mutate({id:D.id,status:"approved"}),children:[s.jsx(Ur,{className:"h-3 w-3 mr-1"}),"Approve"]}),s.jsx($,{size:"sm",variant:"outline",className:"text-red-600 border-red-600 hover:bg-red-50",onClick:()=>Z.mutate({id:D.id,status:"rejected"}),children:s.jsx(ai,{className:"h-3 w-3"})})]})]})]})})},D.id))})]})})]}),s.jsxs(Sn,{value:"fees",className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Monthly Fee Structure"}),s.jsxs(ut,{open:j,onOpenChange:E,children:[s.jsx(Fn,{asChild:!0,children:s.jsxs($,{variant:"outline",children:[s.jsx(gs,{className:"mr-2 h-4 w-4"}),"Edit Fees"]})}),s.jsxs(ct,{children:[s.jsxs(ht,{children:[s.jsx(mt,{children:"Update Fee Structure"}),s.jsx(Zt,{children:"Modify the monthly fee amounts for different unit types"})]}),s.jsxs("form",{onSubmit:Sg,className:"space-y-4",children:[s.jsx("div",{className:"space-y-4",children:O.map((D,ue)=>s.jsxs("div",{className:"flex items-center gap-2 p-3 border rounded-lg",children:[s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsx(me,{htmlFor:`tier-name-${D.id}`,children:"Tier Name"}),s.jsx(re,{id:`tier-name-${D.id}`,value:D.name,onChange:Xe=>Dt(D.id,{name:Xe.target.value}),placeholder:"Tier name"})]}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsx(me,{htmlFor:`tier-amount-${D.id}`,children:"Amount ($)"}),s.jsx(re,{id:`tier-amount-${D.id}`,type:"number",step:"0.01",value:D.amount,onChange:Xe=>Dt(D.id,{amount:parseFloat(Xe.target.value)||0}),placeholder:"0.00"})]}),s.jsx($,{type:"button",variant:"outline",size:"sm",onClick:()=>yn(D.id),disabled:O.length<=1,className:"mt-6",children:s.jsx(Un,{className:"h-4 w-4"})})]},D.id))}),s.jsxs($,{type:"button",variant:"outline",onClick:lt,className:"w-full",children:[s.jsx(en,{className:"mr-2 h-4 w-4"}),"Add Fee Tier"]}),s.jsx($,{type:"submit",disabled:C.isPending,className:"w-full",children:C.isPending?"Updating...":"Update Fee Structure"})]})]})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:O.map(D=>s.jsxs(ge,{children:[s.jsx(Ge,{children:s.jsx(Qe,{children:D.name})}),s.jsxs(be,{children:[s.jsxs("div",{className:"text-3xl font-bold",children:["$",D.amount]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"per month"})]})]},D.id))}),s.jsxs("div",{className:"mt-8 space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Monthly Income Projection"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs(ge,{children:[s.jsx(Ge,{children:s.jsx(Qe,{children:"Income by Fee Tier"})}),s.jsx(be,{children:s.jsxs("div",{className:"space-y-3",children:[O.map(D=>{const ue=Xt.filter(qt=>qt.feeTierId===D.id),Xe=ue.length*D.amount;return s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:D.name}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[ue.length," units × $",D.amount]})]}),s.jsx("div",{className:"text-right",children:s.jsxs("div",{className:"font-semibold",children:["$",Xe.toLocaleString()]})})]},D.id)}),(()=>{const D=Xt.filter(ue=>!ue.feeTierId);return D.length>0?s.jsxs("div",{className:"flex justify-between items-center border-t pt-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-orange-600",children:"Unassigned Units"}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[D.length," units without fee tier"]})]}),s.jsx("div",{className:"text-right",children:s.jsx("div",{className:"font-semibold text-orange-600",children:"$0"})})]}):null})()]})})]}),s.jsxs(ge,{children:[s.jsx(Ge,{children:s.jsx(Qe,{children:"Monthly Income Summary"})}),s.jsx(be,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-3xl font-bold text-green-600",children:["$",O.reduce((D,ue)=>{const Xe=Xt.filter(qt=>qt.feeTierId===ue.id);return D+Xe.length*ue.amount},0).toLocaleString()]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Expected monthly income"})]}),s.jsxs("div",{className:"border-t pt-4 space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Total Units:"}),s.jsx("span",{className:"font-medium",children:Xt.length})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Assigned Units:"}),s.jsx("span",{className:"font-medium",children:Xt.filter(D=>D.feeTierId).length})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Unassigned Units:"}),s.jsx("span",{className:"font-medium text-orange-600",children:Xt.filter(D=>!D.feeTierId).length})]}),s.jsxs("div",{className:"flex justify-between border-t pt-2",children:[s.jsx("span",{className:"font-medium",children:"Annual Projection:"}),s.jsxs("span",{className:"font-bold text-green-600",children:["$",(O.reduce((D,ue)=>{const Xe=Xt.filter(qt=>qt.feeTierId===ue.id);return D+Xe.length*ue.amount},0)*12).toLocaleString()]})]})]})]})})]})]})]})]}),s.jsxs(Sn,{value:"reminders",className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Payment Reminders"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage recurring and one-time payment reminders for units"})]}),s.jsxs(ut,{open:Ne,onOpenChange:de,children:[s.jsx(Fn,{asChild:!0,children:s.jsxs($,{className:"w-full sm:w-auto",children:[s.jsx(en,{className:"w-4 h-4 mr-2"}),"Add Reminder"]})}),s.jsxs(ct,{className:"max-w-md max-h-[90vh] overflow-hidden flex flex-col",children:[s.jsxs(ht,{className:"flex-shrink-0",children:[s.jsx(mt,{children:K?"Edit Reminder":"Create Payment Reminder"}),s.jsx(Zt,{children:K?"Update the reminder details":"Set up a new payment reminder for your strata"})]}),s.jsx("div",{className:"flex-1 overflow-y-auto pr-2",children:s.jsx(ln,{...se,children:s.jsxs("form",{onSubmit:se.handleSubmit(D=>{K?Ci.mutate({id:K.id,data:D}):_i.mutate(D)}),className:"space-y-4",children:[s.jsx(oe,{control:se.control,name:"title",render:({field:D})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Title"}),s.jsx(le,{children:s.jsx(re,{placeholder:"e.g., Monthly Strata Fee",...D})}),s.jsx(ce,{})]})}),s.jsx(oe,{control:se.control,name:"reminderType",render:({field:D})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Reminder Type"}),s.jsxs(tt,{onValueChange:D.onChange,value:D.value,children:[s.jsx(le,{children:s.jsx(Ze,{children:s.jsx(nt,{placeholder:"Select reminder type"})})}),s.jsxs(Je,{children:[s.jsx(V,{value:"monthly_strata_fee",children:"Monthly Strata Fee"}),s.jsx(V,{value:"monthly_fee",children:"Monthly Fee"}),s.jsx(V,{value:"fee_overdue",children:"Fee Overdue"}),s.jsx(V,{value:"special_assessment",children:"Special Assessment"}),s.jsx(V,{value:"maintenance_fee",children:"Maintenance Fee"}),s.jsx(V,{value:"custom",children:"Custom"})]})]}),s.jsx(ce,{})]})}),s.jsx(oe,{control:se.control,name:"unitId",render:({field:D})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Assign to Unit (Optional)"}),s.jsxs(tt,{onValueChange:D.onChange,value:D.value,children:[s.jsx(le,{children:s.jsx(Ze,{children:s.jsx(nt,{placeholder:"All units or select specific unit"})})}),s.jsxs(Je,{children:[s.jsx(V,{value:"all",children:"All Units"}),Xt.map(ue=>s.jsxs(V,{value:ue.id,children:["Unit ",ue.unitNumber," ",ue.ownerName&&`- ${ue.ownerName}`]},ue.id))]})]}),s.jsx(ce,{})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(oe,{control:se.control,name:"amount",render:({field:D})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Amount ($)"}),s.jsx(le,{children:s.jsx(re,{type:"number",step:"0.01",placeholder:"0.00",value:D.value||"",onChange:ue=>D.onChange(ue.target.value?parseFloat(ue.target.value):void 0)})}),s.jsx(ce,{})]})}),s.jsx(oe,{control:se.control,name:"priority",render:({field:D})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Priority"}),s.jsxs(tt,{onValueChange:D.onChange,value:D.value,children:[s.jsx(le,{children:s.jsx(Ze,{children:s.jsx(nt,{})})}),s.jsxs(Je,{children:[s.jsx(V,{value:"low",children:"Low"}),s.jsx(V,{value:"normal",children:"Normal"}),s.jsx(V,{value:"high",children:"High"}),s.jsx(V,{value:"urgent",children:"Urgent"})]})]}),s.jsx(ce,{})]})})]}),s.jsx(oe,{control:se.control,name:"dueDate",render:({field:D})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Due Date (Optional)"}),s.jsx(le,{children:s.jsx(re,{type:"date",...D})}),s.jsx(ce,{})]})}),s.jsx(oe,{control:se.control,name:"reminderTime",render:({field:D})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Reminder Time"}),s.jsx(le,{children:s.jsx(re,{type:"time",...D,className:"w-full"})}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Time when the reminder will be sent"}),s.jsx(ce,{})]})}),s.jsx(oe,{control:se.control,name:"isRecurring",render:({field:D})=>s.jsxs(ie,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(ae,{className:"text-base",children:"Recurring Reminder"}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Automatically repeat this reminder"})]}),s.jsx(le,{children:s.jsx(Gt,{checked:D.value,onCheckedChange:D.onChange})})]})}),se.watch("isRecurring")&&s.jsxs("div",{className:"space-y-4 p-4 bg-muted/20 rounded-lg",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(oe,{control:se.control,name:"recurringPattern",render:({field:D})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Frequency"}),s.jsxs(tt,{onValueChange:D.onChange,value:D.value,children:[s.jsx(le,{children:s.jsx(Ze,{children:s.jsx(nt,{placeholder:"Select frequency"})})}),s.jsxs(Je,{children:[s.jsx(V,{value:"daily",children:"Daily"}),s.jsx(V,{value:"weekly",children:"Weekly"}),s.jsx(V,{value:"monthly",children:"Monthly"}),s.jsx(V,{value:"yearly",children:"Yearly"})]})]}),s.jsx(ce,{})]})}),s.jsx(oe,{control:se.control,name:"recurringInterval",render:({field:D})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Every"}),s.jsx(le,{children:s.jsx(re,{type:"number",min:"1",placeholder:"1",...D,onChange:ue=>D.onChange(parseInt(ue.target.value)||1)})}),s.jsx(ce,{})]})})]}),se.watch("recurringPattern")==="weekly"&&s.jsx(oe,{control:se.control,name:"weeklyDays",render:({field:D})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Days of Week"}),s.jsx("div",{className:"grid grid-cols-4 gap-2",children:["monday","tuesday","wednesday","thursday","friday","saturday","sunday"].map(ue=>{var Xe;return s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",id:ue,checked:((Xe=D.value)==null?void 0:Xe.includes(ue))||!1,onChange:qt=>{const tr=D.value||[];qt.target.checked?D.onChange([...tr,ue]):D.onChange(tr.filter(_g=>_g!==ue))},className:"rounded border-gray-300"}),s.jsx(me,{htmlFor:ue,className:"text-xs capitalize",children:ue.slice(0,3)})]},ue)})}),s.jsx(ce,{})]})}),se.watch("recurringPattern")==="monthly"&&s.jsx(oe,{control:se.control,name:"monthlyType",render:({field:D})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Monthly Schedule"}),s.jsxs(tt,{onValueChange:D.onChange,value:D.value,children:[s.jsx(le,{children:s.jsx(Ze,{children:s.jsx(nt,{placeholder:"Select monthly pattern"})})}),s.jsxs(Je,{children:[s.jsx(V,{value:"date",children:"On specific date of month"}),s.jsx(V,{value:"day",children:"On specific day of week"}),s.jsx(V,{value:"last_day",children:"On last day of month"})]})]}),s.jsx(ce,{})]})}),se.watch("recurringPattern")==="monthly"&&se.watch("monthlyType")==="date"&&s.jsx(oe,{control:se.control,name:"monthlyDate",render:({field:D})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Day of Month"}),s.jsx(le,{children:s.jsx(re,{type:"number",min:"1",max:"31",placeholder:"1",...D,onChange:ue=>D.onChange(parseInt(ue.target.value)||1)})}),s.jsx(ce,{})]})}),se.watch("recurringPattern")==="monthly"&&se.watch("monthlyType")==="day"&&s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(oe,{control:se.control,name:"monthlyWeekPosition",render:({field:D})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Week Position"}),s.jsxs(tt,{onValueChange:D.onChange,value:D.value,children:[s.jsx(le,{children:s.jsx(Ze,{children:s.jsx(nt,{placeholder:"Select week"})})}),s.jsxs(Je,{children:[s.jsx(V,{value:"first",children:"First"}),s.jsx(V,{value:"second",children:"Second"}),s.jsx(V,{value:"third",children:"Third"}),s.jsx(V,{value:"fourth",children:"Fourth"}),s.jsx(V,{value:"last",children:"Last"})]})]}),s.jsx(ce,{})]})}),s.jsx(oe,{control:se.control,name:"monthlyWeekday",render:({field:D})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Day of Week"}),s.jsxs(tt,{onValueChange:D.onChange,value:D.value,children:[s.jsx(le,{children:s.jsx(Ze,{children:s.jsx(nt,{placeholder:"Select day"})})}),s.jsxs(Je,{children:[s.jsx(V,{value:"monday",children:"Monday"}),s.jsx(V,{value:"tuesday",children:"Tuesday"}),s.jsx(V,{value:"wednesday",children:"Wednesday"}),s.jsx(V,{value:"thursday",children:"Thursday"}),s.jsx(V,{value:"friday",children:"Friday"}),s.jsx(V,{value:"saturday",children:"Saturday"}),s.jsx(V,{value:"sunday",children:"Sunday"})]})]}),s.jsx(ce,{})]})})]}),se.watch("recurringPattern")==="yearly"&&s.jsx(oe,{control:se.control,name:"yearlyMonth",render:({field:D})=>{var ue;return s.jsxs(ie,{children:[s.jsx(ae,{children:"Month"}),s.jsxs(tt,{onValueChange:Xe=>D.onChange(parseInt(Xe)),value:(ue=D.value)==null?void 0:ue.toString(),children:[s.jsx(le,{children:s.jsx(Ze,{children:s.jsx(nt,{placeholder:"Select month"})})}),s.jsxs(Je,{children:[s.jsx(V,{value:"1",children:"January"}),s.jsx(V,{value:"2",children:"February"}),s.jsx(V,{value:"3",children:"March"}),s.jsx(V,{value:"4",children:"April"}),s.jsx(V,{value:"5",children:"May"}),s.jsx(V,{value:"6",children:"June"}),s.jsx(V,{value:"7",children:"July"}),s.jsx(V,{value:"8",children:"August"}),s.jsx(V,{value:"9",children:"September"}),s.jsx(V,{value:"10",children:"October"}),s.jsx(V,{value:"11",children:"November"}),s.jsx(V,{value:"12",children:"December"})]})]}),s.jsx(ce,{})]})}}),s.jsx(oe,{control:se.control,name:"recurringEndDate",render:({field:D})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"End Date (Optional)"}),s.jsx(le,{children:s.jsx(re,{type:"date",...D})}),s.jsx(ce,{})]})})]}),s.jsx(oe,{control:se.control,name:"autoSend",render:({field:D})=>s.jsxs(ie,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(ae,{className:"text-base",children:"Auto-Send"}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Automatically send reminder notifications"})]}),s.jsx(le,{children:s.jsx(Gt,{checked:D.value,onCheckedChange:D.onChange})})]})}),s.jsx(oe,{control:se.control,name:"description",render:({field:D})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Description (Optional)"}),s.jsx(le,{children:s.jsx($t,{placeholder:"Additional details about this reminder...",className:"resize-none",...D})}),s.jsx(ce,{})]})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx($,{type:"button",variant:"outline",onClick:()=>{de(!1),F(null),se.reset()},className:"flex-1",children:"Cancel"}),s.jsx($,{type:"submit",disabled:_i.isPending||Ci.isPending,className:"flex-1",children:K?"Update":"Create"})]})]})})})]})]})]}),s.jsx(ge,{children:s.jsx(be,{className:"p-0",children:hn?s.jsxs("div",{className:"p-8 text-center",children:[s.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full mx-auto"}),s.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Loading reminders..."})]}):un.length===0?s.jsxs("div",{className:"p-8 text-center",children:[s.jsx(Qo,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-lg font-medium",children:"No reminders yet"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Create your first payment reminder to get started"})]}):s.jsxs(Ks,{children:[s.jsx(Gs,{children:s.jsxs(Ft,{children:[s.jsx(Ie,{children:"Title"}),s.jsx(Ie,{children:"Type"}),s.jsx(Ie,{children:"Unit"}),s.jsx(Ie,{children:"Amount"}),s.jsx(Ie,{children:"Time"}),s.jsx(Ie,{children:"Status"}),s.jsx(Ie,{children:"Priority"}),s.jsx(Ie,{children:"Recurring"}),s.jsx(Ie,{children:"Actions"})]})}),s.jsx(Qs,{children:un.map(D=>{const ue=D.unitId?Xt.find(Xe=>Xe.id===D.unitId):null;return s.jsxs(Ft,{children:[s.jsx(Ee,{className:"font-medium",children:D.title}),s.jsx(Ee,{children:s.jsx(He,{variant:"outline",children:D.reminderType.replace("_"," ")})}),s.jsx(Ee,{children:ue?`Unit ${ue.unitNumber}`:"All Units"}),s.jsx(Ee,{children:D.amount?`$${D.amount}`:"-"}),s.jsx(Ee,{children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Hs,{className:"w-4 h-4 text-muted-foreground"}),s.jsx("span",{className:"text-sm",children:D.reminderTime||"09:00"})]})}),s.jsx(Ee,{children:s.jsx(He,{variant:D.status==="active"?"default":D.status==="paused"||D.status==="completed"?"secondary":"outline",children:D.status})}),s.jsx(Ee,{children:s.jsx(He,{variant:D.priority==="urgent"||D.priority==="high"?"destructive":D.priority==="normal"?"default":"secondary",children:D.priority})}),s.jsx(Ee,{children:D.isRecurring?s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Pq,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:ve(D)})]}):s.jsx("span",{className:"text-sm text-muted-foreground",children:"One-time"})}),s.jsx(Ee,{children:s.jsxs("div",{className:"flex gap-2",children:[D.autoSend&&s.jsx($,{size:"sm",variant:"outline",children:s.jsx(od,{className:"w-4 h-4"})}),s.jsx($,{size:"sm",variant:"outline",onClick:()=>{F(D),se.reset({title:D.title,description:D.description||"",reminderType:D.reminderType,unitId:D.unitId||"all",amount:D.amount||void 0,dueDate:D.dueDate?new Date(D.dueDate).toISOString().split("T")[0]:"",reminderTime:D.reminderTime||"09:00",isRecurring:D.isRecurring,recurringPattern:D.recurringPattern||"",recurringInterval:D.recurringInterval||1,recurringEndDate:D.recurringEndDate?new Date(D.recurringEndDate).toISOString().split("T")[0]:"",priority:D.priority,autoSend:D.autoSend,emailTemplate:D.emailTemplate||""}),de(!0)},children:s.jsx(gs,{className:"w-4 h-4"})}),s.jsx($,{size:"sm",variant:"outline",onClick:()=>aa.mutate(D.id),disabled:aa.isPending,children:s.jsx(Un,{className:"w-4 h-4"})})]})})]},D.id)})})]})})})]}),s.jsxs(Sn,{value:"dwellings",className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Unit Management"}),s.jsxs(ut,{open:N,onOpenChange:y,children:[s.jsx(Fn,{asChild:!0,children:s.jsxs($,{className:"bg-green-500 hover:bg-green-600 text-white",onClick:()=>T(null),children:[s.jsx(en,{className:"mr-2 h-4 w-4"}),"Add Unit"]})}),s.jsxs(ct,{children:[s.jsxs(ht,{children:[s.jsx(mt,{children:w?"Edit Unit":"Add New Unit"}),s.jsx(Zt,{children:w?"Update unit details and owner information":"Add a new unit to the strata"})]}),s.jsxs("form",{onSubmit:jo,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(me,{htmlFor:"unitNumber",children:"Unit Number"}),s.jsx(re,{id:"unitNumber",name:"unitNumber",defaultValue:w==null?void 0:w.unitNumber,required:!0})]}),s.jsxs("div",{children:[s.jsx(me,{htmlFor:"unitType",children:"Unit Type"}),s.jsxs(tt,{name:"unitType",defaultValue:w==null?void 0:w.unitType,children:[s.jsx(Ze,{children:s.jsx(nt,{placeholder:"Select unit type"})}),s.jsxs(Je,{children:[s.jsx(V,{value:"studio",children:"Studio"}),s.jsx(V,{value:"one_bedroom",children:"One Bedroom"}),s.jsx(V,{value:"two_bedroom",children:"Two Bedroom"}),s.jsx(V,{value:"three_bedroom",children:"Three Bedroom"}),s.jsx(V,{value:"penthouse",children:"Penthouse"})]})]})]}),s.jsxs("div",{children:[s.jsx(me,{htmlFor:"feeTierId",children:"Fee Tier"}),s.jsxs(tt,{name:"feeTierId",defaultValue:w==null?void 0:w.feeTierId,children:[s.jsx(Ze,{children:s.jsx(nt,{placeholder:"Select fee tier"})}),s.jsx(Je,{children:O.map(D=>s.jsxs(V,{value:D.id,children:[D.name," - $",D.amount,"/month"]},D.id))})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-medium",children:"Owner Information"}),s.jsxs("div",{children:[s.jsx(me,{htmlFor:"ownerName",children:"Owner Name"}),s.jsx(re,{id:"ownerName",name:"ownerName",defaultValue:w==null?void 0:w.ownerName,required:!0})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(me,{htmlFor:"ownerEmail",children:"Email"}),s.jsx(re,{id:"ownerEmail",name:"ownerEmail",type:"email",defaultValue:w==null?void 0:w.ownerEmail})]}),s.jsxs("div",{children:[s.jsx(me,{htmlFor:"ownerPhone",children:"Phone"}),s.jsx(re,{id:"ownerPhone",name:"ownerPhone",defaultValue:w==null?void 0:w.ownerPhone})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-medium",children:"Unit Details"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(me,{htmlFor:"squareFootage",children:"Square Footage"}),s.jsx(re,{id:"squareFootage",name:"squareFootage",type:"number",defaultValue:w==null?void 0:w.squareFootage})]}),s.jsxs("div",{children:[s.jsx(me,{htmlFor:"parkingSpaces",children:"Parking Spaces"}),s.jsx(re,{id:"parkingSpaces",name:"parkingSpaces",type:"number",defaultValue:w==null?void 0:w.parkingSpaces})]})]})]}),s.jsx($,{type:"submit",disabled:xe.isPending||De.isPending,children:w?De.isPending?"Updating...":"Update Unit":xe.isPending?"Creating...":"Create Unit"})]})]})]})]}),s.jsx(ge,{children:s.jsx(be,{className:"p-0",children:s.jsxs(Ks,{children:[s.jsx(Gs,{children:s.jsxs(Ft,{children:[s.jsx(Ie,{children:"Unit"}),s.jsx(Ie,{children:"Type"}),s.jsx(Ie,{children:"Owner"}),s.jsx(Ie,{children:"Contact"}),s.jsx(Ie,{children:"Size"}),s.jsx(Ie,{children:"Parking"}),s.jsx(Ie,{children:"Actions"})]})}),s.jsx(Qs,{children:Xt.map(D=>{var ue;return s.jsxs(Ft,{children:[s.jsxs(Ee,{className:"font-medium",children:["Unit ",D.unitNumber]}),s.jsx(Ee,{children:s.jsx(He,{variant:"outline",className:"capitalize",children:(ue=D.unitType)==null?void 0:ue.replace("_"," ")})}),s.jsx(Ee,{children:D.ownerName||"N/A"}),s.jsx(Ee,{children:D.ownerEmail||D.ownerPhone?s.jsxs("div",{className:"text-sm",children:[D.ownerEmail&&s.jsx("div",{children:D.ownerEmail}),D.ownerPhone&&s.jsx("div",{children:D.ownerPhone})]}):"N/A"}),s.jsx(Ee,{children:D.squareFootage?`${D.squareFootage} sq ft`:"N/A"}),s.jsxs(Ee,{children:[D.parkingSpaces||0," spaces"]}),s.jsx(Ee,{children:s.jsxs("div",{className:"flex space-x-2",children:[s.jsx($,{size:"sm",variant:"outline",className:"text-blue-600 border-blue-600 hover:bg-blue-50",onClick:()=>gd(D),children:"Edit"}),s.jsx($,{size:"sm",variant:"outline",className:"text-green-600 border-green-600 hover:bg-green-50",children:"Documents"})]})})]},D.id)})})]})})})]}),s.jsxs(Sn,{value:"funds",className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Fund Management"}),s.jsxs(ut,{open:A,onOpenChange:S,children:[s.jsx(Fn,{asChild:!0,children:s.jsxs($,{className:"bg-green-500 hover:bg-green-600 text-white",onClick:()=>{k(null),S(!0)},children:[s.jsx(en,{className:"mr-2 h-4 w-4"}),"Add Fund"]})}),s.jsxs(ct,{className:"max-w-2xl",children:[s.jsxs(ht,{children:[s.jsx(mt,{children:g?"Edit Fund":"Add New Fund"}),s.jsx(Zt,{children:g?"Update fund information and settings":"Create a new fund for reserve management"})]}),s.jsxs("form",{onSubmit:xd,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(me,{htmlFor:"fundName",children:"Fund Name"}),s.jsx(re,{id:"fundName",name:"name",defaultValue:g==null?void 0:g.name,placeholder:"e.g., Reserve Fund",required:!0})]}),s.jsxs("div",{children:[s.jsx(me,{htmlFor:"fundType",children:"Fund Type"}),s.jsxs(tt,{name:"type",defaultValue:(g==null?void 0:g.type)||"reserve",children:[s.jsx(Ze,{children:s.jsx(nt,{placeholder:"Select fund type"})}),s.jsxs(Je,{children:[s.jsx(V,{value:"reserve",children:"Reserve Fund"}),s.jsx(V,{value:"operating",children:"Operating Fund"}),s.jsx(V,{value:"emergency",children:"Emergency Fund"}),s.jsx(V,{value:"special_levy",children:"Special Levy"}),s.jsx(V,{value:"investment",children:"Investment Fund"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(me,{htmlFor:"balance",children:"Current Balance ($)"}),s.jsx(re,{id:"balance",name:"balance",type:"number",step:"0.01",defaultValue:g==null?void 0:g.balance,placeholder:"0.00",required:!0})]}),s.jsxs("div",{children:[s.jsx(me,{htmlFor:"target",children:"Target Amount ($)"}),s.jsx(re,{id:"target",name:"target",type:"number",step:"0.01",defaultValue:g==null?void 0:g.target,placeholder:"Optional target amount"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(me,{htmlFor:"interestRate",children:"Interest Rate (% annual)"}),s.jsx(re,{id:"interestRate",name:"interestRate",type:"number",step:"0.001",defaultValue:g==null?void 0:g.interestRate,placeholder:"e.g., 2.5"})]}),s.jsxs("div",{children:[s.jsx(me,{htmlFor:"compoundingFrequency",children:"Compounding"}),s.jsxs(tt,{name:"compoundingFrequency",defaultValue:(g==null?void 0:g.compoundingFrequency)||"monthly",children:[s.jsx(Ze,{children:s.jsx(nt,{})}),s.jsxs(Je,{children:[s.jsx(V,{value:"monthly",children:"Monthly"}),s.jsx(V,{value:"quarterly",children:"Quarterly"}),s.jsx(V,{value:"annually",children:"Annually"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(me,{htmlFor:"institution",children:"Financial Institution"}),s.jsx(re,{id:"institution",name:"institution",defaultValue:g==null?void 0:g.institution,placeholder:"e.g., TD Bank"})]}),s.jsxs("div",{children:[s.jsx(me,{htmlFor:"accountNumber",children:"Account Number"}),s.jsx(re,{id:"accountNumber",name:"accountNumber",defaultValue:g==null?void 0:g.accountNumber,placeholder:"Last 4 digits: ****1234"})]})]}),s.jsxs("div",{children:[s.jsx(me,{htmlFor:"notes",children:"Notes"}),s.jsx($t,{id:"notes",name:"notes",defaultValue:g==null?void 0:g.notes,placeholder:"Additional notes about this fund"})]}),s.jsx($,{type:"submit",disabled:wt.isPending||Lt.isPending,children:wt.isPending||Lt.isPending?"Saving...":g?"Update Fund":"Create Fund"})]})]})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:J.map(D=>{const ue=parseFloat(D.balance),Xe=D.target?parseFloat(D.target):null,qt=Xe?Math.min(ue/Xe*100,100):0,tr=D.interestRate?ue*parseFloat(D.interestRate)/100/12:0;return s.jsxs(ge,{className:"relative hover:shadow-lg transition-shadow",children:[s.jsx(Ge,{className:"pb-3",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx(Qe,{className:"text-lg",children:D.name}),s.jsx(He,{variant:"outline",className:`mt-1 capitalize ${D.type==="reserve"?"border-blue-300 text-blue-700":D.type==="emergency"?"border-red-300 text-red-700":D.type==="operating"?"border-green-300 text-green-700":"border-gray-300 text-gray-700"}`,children:D.type.replace("_"," ")})]}),s.jsxs("div",{className:"flex space-x-1",children:[s.jsx($,{size:"sm",variant:"outline",onClick:()=>Ei(D),title:"Edit Fund",children:s.jsx(gs,{className:"h-3 w-3"})}),s.jsx($,{size:"sm",variant:"outline",onClick:()=>$h(D.id),className:"text-red-600 border-red-600 hover:bg-red-50",title:"Delete Fund",children:s.jsx(Un,{className:"h-3 w-3"})})]})]})}),s.jsx(be,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"text-3xl font-bold text-green-600",children:["$",ue.toLocaleString()]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Current Balance"})]}),Xe&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[s.jsxs("span",{className:"font-medium",children:["Target: $",Xe.toLocaleString()]}),s.jsxs("span",{className:"font-semibold text-green-600",children:[qt.toFixed(1),"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:s.jsx("div",{className:`h-3 rounded-full transition-all duration-500 ${qt>=80?"bg-green-500":qt>=60?"bg-yellow-500":"bg-red-500"}`,style:{width:`${qt}%`}})}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["$",(Xe-ue).toLocaleString()," remaining to target"]})]}),D.interestRate&&s.jsx("div",{className:"bg-blue-50 rounded-lg p-3",children:s.jsxs("div",{className:"text-sm",children:[s.jsxs("div",{className:"flex justify-between items-center mb-1",children:[s.jsx("span",{className:"font-medium",children:"Interest Rate:"}),s.jsxs("span",{className:"font-bold text-blue-600",children:[parseFloat(D.interestRate).toFixed(2),"%"]})]}),s.jsxs("div",{className:"flex justify-between items-center mb-1",children:[s.jsx("span",{className:"text-muted-foreground",children:"Monthly Growth:"}),s.jsxs("span",{className:"font-semibold text-green-600",children:["+$",tr.toLocaleString(void 0,{maximumFractionDigits:0})]})]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Compounded ",D.compoundingFrequency]})]})}),D.institution&&s.jsxs("div",{className:"text-sm text-muted-foreground bg-gray-50 rounded p-2",children:[s.jsx("div",{className:"font-medium",children:D.institution}),D.accountNumber&&s.jsxs("div",{className:"text-xs",children:["Account: ",D.accountNumber]})]}),s.jsxs("div",{className:"flex space-x-2 pt-2",children:[s.jsxs($,{size:"sm",onClick:()=>zh(D),className:"flex-1 bg-green-500 hover:bg-green-600 text-white",children:[s.jsx(en,{className:"h-3 w-3 mr-1"}),"Transaction"]}),s.jsxs($,{size:"sm",variant:"outline",onClick:()=>Ei(D),className:"flex-1",children:[s.jsx(gs,{className:"h-3 w-3 mr-1"}),"Edit"]})]})]})})]},D.id)})}),J.length===0&&s.jsx(ge,{children:s.jsx(be,{className:"text-center py-8",children:s.jsxs("div",{className:"text-muted-foreground",children:[s.jsx(dr,{className:"mx-auto h-12 w-12 mb-4 opacity-50"}),s.jsx("h3",{className:"font-medium mb-2",children:"No funds created yet"}),s.jsx("p",{className:"text-sm",children:"Create your first fund to start managing your strata's finances"})]})})}),s.jsx(ut,{open:P,onOpenChange:I,children:s.jsxs(ct,{children:[s.jsxs(ht,{children:[s.jsxs(mt,{children:["Add Transaction to ",R==null?void 0:R.name]}),s.jsx(Zt,{children:"Record a deposit, withdrawal, or interest payment"})]}),s.jsxs("form",{onSubmit:yd,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(me,{htmlFor:"transactionType",children:"Transaction Type"}),s.jsxs(tt,{name:"type",required:!0,children:[s.jsx(Ze,{children:s.jsx(nt,{placeholder:"Select transaction type"})}),s.jsxs(Je,{children:[s.jsx(V,{value:"deposit",children:"Deposit"}),s.jsx(V,{value:"withdrawal",children:"Withdrawal"}),s.jsx(V,{value:"interest",children:"Interest Payment"}),s.jsx(V,{value:"transfer_in",children:"Transfer In"}),s.jsx(V,{value:"transfer_out",children:"Transfer Out"})]})]})]}),s.jsxs("div",{children:[s.jsx(me,{htmlFor:"transactionAmount",children:"Amount ($)"}),s.jsx(re,{id:"transactionAmount",name:"amount",type:"number",step:"0.01",placeholder:"0.00",required:!0})]}),s.jsxs("div",{children:[s.jsx(me,{htmlFor:"transactionDate",children:"Transaction Date"}),s.jsx(re,{id:"transactionDate",name:"transactionDate",type:"date",defaultValue:new Date().toISOString().split("T")[0],required:!0})]}),s.jsxs("div",{children:[s.jsx(me,{htmlFor:"transactionDescription",children:"Description"}),s.jsx($t,{id:"transactionDescription",name:"description",placeholder:"Optional description of the transaction"})]}),s.jsx($,{type:"submit",disabled:vr.isPending,children:vr.isPending?"Recording...":"Record Transaction"})]})]})})]})]})]})}var nw="Checkbox",[RY,mne]=os(nw),[DY,MY]=RY(nw),tM=m.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:a,required:o,disabled:l,value:c="on",onCheckedChange:u,form:h,...p}=t,[f,v]=m.useState(null),_=ft(e,T=>v(T)),j=m.useRef(!1),E=f?h||!!f.closest("form"):!0,[N=!1,y]=yi({prop:i,defaultProp:a,onChange:u}),w=m.useRef(N);return m.useEffect(()=>{const T=f==null?void 0:f.form;if(T){const O=()=>y(w.current);return T.addEventListener("reset",O),()=>T.removeEventListener("reset",O)}},[f,y]),s.jsxs(DY,{scope:n,state:N,disabled:l,children:[s.jsx(Ye.button,{type:"button",role:"checkbox","aria-checked":Ya(N)?"mixed":N,"aria-required":o,"data-state":rM(N),"data-disabled":l?"":void 0,disabled:l,value:c,...p,ref:_,onKeyDown:Te(t.onKeyDown,T=>{T.key==="Enter"&&T.preventDefault()}),onClick:Te(t.onClick,T=>{y(O=>Ya(O)?!0:!O),E&&(j.current=T.isPropagationStopped(),j.current||T.stopPropagation())})}),E&&s.jsx(OY,{control:f,bubbles:!j.current,name:r,value:c,checked:N,required:o,disabled:l,form:h,style:{transform:"translateX(-100%)"},defaultChecked:Ya(a)?!1:a})]})});tM.displayName=nw;var nM="CheckboxIndicator",sM=m.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...i}=t,a=MY(nM,n);return s.jsx(qn,{present:r||Ya(a.state)||a.state===!0,children:s.jsx(Ye.span,{"data-state":rM(a.state),"data-disabled":a.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});sM.displayName=nM;var OY=t=>{const{control:e,checked:n,bubbles:r=!0,defaultChecked:i,...a}=t,o=m.useRef(null),l=G0(n),c=R0(e);m.useEffect(()=>{const h=o.current,p=window.HTMLInputElement.prototype,v=Object.getOwnPropertyDescriptor(p,"checked").set;if(l!==n&&v){const _=new Event("click",{bubbles:r});h.indeterminate=Ya(n),v.call(h,Ya(n)?!1:n),h.dispatchEvent(_)}},[l,n,r]);const u=m.useRef(Ya(n)?!1:n);return s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i??u.current,...a,tabIndex:-1,ref:o,style:{...t.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Ya(t){return t==="indeterminate"}function rM(t){return Ya(t)?"indeterminate":t?"checked":"unchecked"}var iM=tM,FY=sM;const hp=m.forwardRef(({className:t,...e},n)=>s.jsx(iM,{ref:n,className:Re("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:s.jsx(FY,{className:Re("flex items-center justify-center text-current"),children:s.jsx(Ts,{className:"h-4 w-4"})})}));hp.displayName=iM.displayName;const LY=G.object({projectTitle:G.string().min(1,"Project title is required"),projectType:G.string().min(1,"Project type is required"),description:G.string().min(1,"Description is required"),scope:G.string().optional(),amount:G.string().min(1,"Amount is required"),priority:G.string().default("normal"),vendorName:G.string().min(1,"Vendor name is required"),vendorEmail:G.string().email("Valid email is required"),vendorPhone:G.string().min(1,"Phone number is required"),vendorAddress:G.string().optional(),vendorWebsite:G.string().optional(),vendorLicense:G.string().optional(),vendorInsurance:G.boolean().default(!1),validUntil:G.string().optional(),startDate:G.string().optional(),estimatedCompletion:G.string().optional(),warranty:G.string().optional(),paymentTerms:G.string().optional(),notes:G.string().optional()});function UY(){const{user:t}=xr(),{toast:e}=xn(),n=as(),[r,i]=m.useState(!1),[a,o]=m.useState("all"),[l,c]=m.useState(""),[u,h]=m.useState("all"),[p,f]=m.useState(null),[v,_]=m.useState(!1),[j,E]=m.useState(!1),[N,y]=m.useState(""),[w,T]=m.useState(""),[O,U]=m.useState(!1),[A,S]=m.useState(null),[g,k]=m.useState(null),{selectedStrataId:P,selectedStrata:I,isLoading:R}=ra(),Q=kn({resolver:An(LY),defaultValues:{projectTitle:"",projectType:"",description:"",scope:"",amount:"",priority:"normal",vendorName:"",vendorEmail:"",vendorPhone:"",vendorAddress:"",vendorWebsite:"",vendorLicense:"",vendorInsurance:!1,validUntil:"",startDate:"",estimatedCompletion:"",warranty:"",paymentTerms:"",notes:""}}),Ne=async Y=>{if(Y.size>10485760){e({title:"File Too Large",description:"Please upload a file smaller than 10MB.",variant:"destructive"});return}U(!0);try{const je=new FileReader;je.onload=async()=>{try{const Oe=je.result,Dt=await(await Be("POST","/api/quotes/analyze-document",{fileData:Oe,mimeType:Y.type})).json();Object.entries(Dt).forEach(([un,hn])=>{hn&&Q.getValues()[un]!==void 0&&Q.setValue(un,hn)});const yn=new FileReader;yn.onload=()=>{k({fileUrl:yn.result,fileName:Y.name,fileSize:Y.size,mimeType:Y.type})},yn.readAsDataURL(Y),e({title:"Document Analyzed",description:"Quote information has been extracted and the document will be saved to the project folder."})}catch(Oe){console.error("Analysis error:",Oe);let lt="Could not extract information from the document. Please fill out the form manually.";Oe instanceof Error&&(Oe.message.includes("413")?lt="File is too large for processing. Please use a smaller file or fill out the form manually.":Oe.message.includes("quota exceeded")?lt="AI analysis is temporarily unavailable due to quota limits. Please fill out the form manually.":Oe.message.includes("PDF analysis requires conversion")?lt="PDF files need to be converted to images first. Please take a screenshot of your PDF or save it as JPG/PNG and upload that instead.":Oe.message.includes("OpenAI")&&(lt="AI analysis service is currently unavailable. Please fill out the form manually.")),e({title:"Analysis Failed",description:lt,variant:"destructive"})}finally{U(!1)}},je.readAsDataURL(Y)}catch{U(!1),e({title:"Upload Failed",description:"Could not read the document file.",variant:"destructive"})}},de=Y=>{Y.preventDefault();const je=Array.from(Y.dataTransfer.files)[0];je&&(S(je),Ne(je))},K=Y=>{var je;const X=(je=Y.target.files)==null?void 0:je[0];X&&(S(X),Ne(X))},{data:F=[],isLoading:z}=ot({queryKey:[`/api/strata/${P}/quotes`],enabled:!!P}),W=ze({mutationFn:async Y=>{await Be("POST",`/api/strata/${P}/quotes`,{...Y,strataId:P,requesterId:t==null?void 0:t.id,quoteDocument:g})},onSuccess:()=>{n.invalidateQueries({queryKey:[`/api/strata/${P}/quotes`]}),i(!1),Q.reset(),S(null),k(null),e({title:"Quote Request Submitted",description:A?"The quote request and document have been submitted. A project folder has been created automatically.":"The quote request has been submitted successfully."})},onError:()=>{e({title:"Error",description:"Failed to submit quote request. Please try again.",variant:"destructive"})}}),se=ze({mutationFn:async Y=>{await Be("PATCH",`/api/quotes/${Y}`,{status:"approved",approvedBy:t==null?void 0:t.id,approvedAt:new Date().toISOString()})},onSuccess:()=>{n.invalidateQueries({queryKey:[`/api/strata/${P}/quotes`]}),_(!1),e({title:"Quote Approved",description:"Quote has been approved successfully."})}}),Ce=ze({mutationFn:async({id:Y,reason:X})=>{await Be("PATCH",`/api/quotes/${Y}`,{status:"rejected",rejectedBy:t==null?void 0:t.id,rejectedAt:new Date().toISOString(),rejectionReason:X})},onSuccess:()=>{n.invalidateQueries({queryKey:[`/api/strata/${P}/quotes`]}),_(!1),E(!1),y(""),T(""),e({title:"Quote Rejected",description:"Quote has been rejected."})}}),Me=()=>{if(!p)return;const Y=N==="other"?w:N;if(!Y.trim()){e({title:"Error",description:"Please provide a reason for rejection.",variant:"destructive"});return}Ce.mutate({id:p.id,reason:Y})},q=Y=>{const X={submitted:{variant:"secondary",icon:Hs,color:"text-blue-600"},under_review:{variant:"outline",icon:Nn,color:"text-yellow-600"},approved:{variant:"default",icon:Ur,color:"text-green-600"},rejected:{variant:"destructive",icon:tf,color:"text-red-600"},expired:{variant:"secondary",icon:S0,color:"text-gray-600"}},je=X[Y]||X.submitted,Oe=je.icon;return s.jsxs(He,{variant:je.variant,className:"flex items-center gap-1",children:[s.jsx(Oe,{className:"h-3 w-3"}),Y.replace("_"," ").toUpperCase()]})},ve=Y=>{const X={low:"bg-green-100 text-green-800",normal:"bg-blue-100 text-blue-800",high:"bg-orange-100 text-orange-800",urgent:"bg-red-100 text-red-800"};return s.jsx(He,{className:X[Y]||X.normal,children:Y.toUpperCase()})},Ue=F.filter(Y=>{var lt;const X=Y.projectTitle.toLowerCase().includes(l.toLowerCase())||((lt=Y.vendorName)==null?void 0:lt.toLowerCase().includes(l.toLowerCase()))||Y.description.toLowerCase().includes(l.toLowerCase()),je=u==="all"||Y.status===u,Oe=a==="all"||a==="pending"&&["submitted","under_review"].includes(Y.status)||a==="approved"&&Y.status==="approved"||a==="rejected"&&Y.status==="rejected"||a==="expired"&&Y.status==="expired";return X&&je&&Oe}),we=()=>{const Y=F;return{all:Y.length,pending:Y.filter(X=>["submitted","under_review"].includes(X.status)).length,approved:Y.filter(X=>X.status==="approved").length,rejected:Y.filter(X=>X.status==="rejected").length,expired:Y.filter(X=>X.status==="expired").length}};if(R||!I)return s.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-background",children:s.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary"})});if(z)return s.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-background",children:s.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary"})});const fe=we();return s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-foreground",children:"Quotes & Approvals"}),s.jsx("p",{className:"text-muted-foreground mt-1 text-sm sm:text-base",children:"Manage vendor quotes and approval workflows"})]}),s.jsxs(ut,{open:r,onOpenChange:i,children:[s.jsx(Fn,{asChild:!0,children:s.jsxs($,{className:"bg-secondary hover:bg-secondary/90 w-full sm:w-auto text-sm sm:text-base",children:[s.jsx(en,{className:"mr-2 h-4 w-4"}),"Request Quote"]})}),s.jsxs(ct,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(ht,{children:[s.jsx(mt,{children:"Request New Quote"}),s.jsx(Zt,{children:"Submit a quote request from a vendor for project approval and tracking."})]}),s.jsx(ln,{...Q,children:s.jsxs("form",{onSubmit:Q.handleSubmit(Y=>W.mutate(Y)),className:"space-y-6",children:[s.jsx("div",{className:"border-2 border-dashed border-primary/30 rounded-lg p-6 bg-primary/5",children:s.jsxs("div",{className:"text-center space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 text-primary",children:[s.jsx(rS,{className:"h-5 w-5"}),s.jsx("h3",{className:"text-lg font-semibold",children:"Load Quote Here"})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Upload your quote document (PDF, JPG, PNG) under 10MB and AI will automatically extract and pre-populate the form information"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Supports PDF files (auto-converted) and image formats. Multiple conversion methods ensure reliable processing."}),!O&&!A&&s.jsx("div",{onDrop:de,onDragOver:Y=>Y.preventDefault(),className:"border-2 border-dashed border-gray-300 rounded-lg p-8 cursor-pointer hover:border-primary/50 transition-colors",children:s.jsxs("div",{className:"flex flex-col items-center gap-3",children:[s.jsx(mc,{className:"h-8 w-8 text-gray-400"}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm font-medium",children:"Drop your quote document here"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"or click to browse files"})]}),s.jsx("input",{type:"file",accept:"image/*,.pdf",onChange:K,className:"hidden",id:"quote-file-upload"}),s.jsxs($,{type:"button",variant:"outline",size:"sm",onClick:()=>{var Y;return(Y=document.getElementById("quote-file-upload"))==null?void 0:Y.click()},children:[s.jsx(J1,{className:"mr-2 h-4 w-4"}),"Browse Files"]})]})}),O&&s.jsxs("div",{className:"flex flex-col items-center gap-3 py-8",children:[s.jsx(sS,{className:"h-8 w-8 animate-spin text-primary"}),s.jsx("p",{className:"text-sm font-medium",children:"Analyzing document with AI..."}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Extracting quote information"})]}),A&&!O&&s.jsxs("div",{className:"flex items-center justify-center gap-3 py-4",children:[s.jsx(Vt,{className:"h-5 w-5 text-green-600"}),s.jsxs("span",{className:"text-sm font-medium text-green-700",children:[A.name," analyzed successfully"]}),s.jsx($,{type:"button",variant:"outline",size:"sm",onClick:()=>{S(null),Q.reset()},children:"Upload New"})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Project Information"}),s.jsx(oe,{control:Q.control,name:"projectTitle",render:({field:Y})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Project Title"}),s.jsx(le,{children:s.jsx(re,{placeholder:"e.g., Elevator Maintenance",...Y})}),s.jsx(ce,{})]})}),s.jsx(oe,{control:Q.control,name:"projectType",render:({field:Y})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Project Type"}),s.jsxs(tt,{onValueChange:Y.onChange,defaultValue:Y.value,children:[s.jsx(le,{children:s.jsx(Ze,{children:s.jsx(nt,{placeholder:"Select project type"})})}),s.jsxs(Je,{children:[s.jsx(V,{value:"maintenance",children:"Regular Maintenance"}),s.jsx(V,{value:"repair",children:"Repair Work"}),s.jsx(V,{value:"renovation",children:"Renovation"}),s.jsx(V,{value:"emergency",children:"Emergency Service"}),s.jsx(V,{value:"inspection",children:"Inspection"}),s.jsx(V,{value:"landscaping",children:"Landscaping"}),s.jsx(V,{value:"cleaning",children:"Cleaning Services"}),s.jsx(V,{value:"security",children:"Security Services"}),s.jsx(V,{value:"other",children:"Other"})]})]}),s.jsx(ce,{})]})}),s.jsx(oe,{control:Q.control,name:"priority",render:({field:Y})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Priority"}),s.jsxs(tt,{onValueChange:Y.onChange,defaultValue:Y.value,children:[s.jsx(le,{children:s.jsx(Ze,{children:s.jsx(nt,{placeholder:"Select priority"})})}),s.jsxs(Je,{children:[s.jsx(V,{value:"low",children:"Low"}),s.jsx(V,{value:"normal",children:"Normal"}),s.jsx(V,{value:"high",children:"High"}),s.jsx(V,{value:"urgent",children:"Urgent"})]})]}),s.jsx(ce,{})]})}),s.jsx(oe,{control:Q.control,name:"description",render:({field:Y})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Description"}),s.jsx(le,{children:s.jsx($t,{placeholder:"Describe the work needed...",className:"min-h-[100px]",...Y})}),s.jsx(ce,{})]})}),s.jsx(oe,{control:Q.control,name:"scope",render:({field:Y})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Detailed Scope (Optional)"}),s.jsx(le,{children:s.jsx($t,{placeholder:"Detailed scope of work, materials, specifications...",className:"min-h-[100px]",...Y})}),s.jsx(ce,{})]})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Vendor Information"}),s.jsx(oe,{control:Q.control,name:"vendorName",render:({field:Y})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Vendor/Company Name"}),s.jsx(le,{children:s.jsx(re,{placeholder:"Company name",...Y})}),s.jsx(ce,{})]})}),s.jsx(oe,{control:Q.control,name:"vendorEmail",render:({field:Y})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Contact Email"}),s.jsx(le,{children:s.jsx(re,{type:"email",placeholder:"vendor@company.com",...Y})}),s.jsx(ce,{})]})}),s.jsx(oe,{control:Q.control,name:"vendorPhone",render:({field:Y})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Phone Number"}),s.jsx(le,{children:s.jsx(re,{placeholder:"(555) 123-4567",...Y})}),s.jsx(ce,{})]})}),s.jsx(oe,{control:Q.control,name:"vendorAddress",render:({field:Y})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Address (Optional)"}),s.jsx(le,{children:s.jsx($t,{placeholder:"Business address...",...Y})}),s.jsx(ce,{})]})}),s.jsx(oe,{control:Q.control,name:"vendorWebsite",render:({field:Y})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Website (Optional)"}),s.jsx(le,{children:s.jsx(re,{placeholder:"https://company.com",...Y})}),s.jsx(ce,{})]})}),s.jsx(oe,{control:Q.control,name:"vendorLicense",render:({field:Y})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"License Number (Optional)"}),s.jsx(le,{children:s.jsx(re,{placeholder:"License or certification number",...Y})}),s.jsx(ce,{})]})}),s.jsx(oe,{control:Q.control,name:"vendorInsurance",render:({field:Y})=>s.jsxs(ie,{className:"flex flex-row items-start space-x-3 space-y-0",children:[s.jsx(le,{children:s.jsx(hp,{checked:Y.value,onCheckedChange:Y.onChange})}),s.jsx("div",{className:"space-y-1 leading-none",children:s.jsx(ae,{children:"Vendor has liability insurance"})})]})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Quote Details"}),s.jsx(oe,{control:Q.control,name:"amount",render:({field:Y})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Estimated Amount"}),s.jsx(le,{children:s.jsx(re,{type:"number",step:"0.01",placeholder:"0.00",...Y})}),s.jsx(ce,{})]})}),s.jsx(oe,{control:Q.control,name:"validUntil",render:({field:Y})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Quote Valid Until (Optional)"}),s.jsx(le,{children:s.jsx(re,{type:"date",...Y})}),s.jsx(ce,{})]})}),s.jsx(oe,{control:Q.control,name:"warranty",render:({field:Y})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Warranty (Optional)"}),s.jsx(le,{children:s.jsx(re,{placeholder:"e.g., 1 year parts and labor",...Y})}),s.jsx(ce,{})]})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Timeline"}),s.jsx(oe,{control:Q.control,name:"startDate",render:({field:Y})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Proposed Start Date (Optional)"}),s.jsx(le,{children:s.jsx(re,{type:"date",...Y})}),s.jsx(ce,{})]})}),s.jsx(oe,{control:Q.control,name:"estimatedCompletion",render:({field:Y})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Estimated Completion (Optional)"}),s.jsx(le,{children:s.jsx(re,{type:"date",...Y})}),s.jsx(ce,{})]})}),s.jsx(oe,{control:Q.control,name:"paymentTerms",render:({field:Y})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Payment Terms (Optional)"}),s.jsx(le,{children:s.jsx($t,{placeholder:"Payment schedule, terms...",...Y})}),s.jsx(ce,{})]})})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Vt,{className:"h-5 w-5"}),s.jsx(me,{className:"text-base font-medium",children:"Quote Document"}),s.jsx(He,{variant:"secondary",className:"text-xs",children:"Optional"})]}),A?s.jsxs("div",{className:"border rounded-lg p-4 bg-muted/50",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(J1,{className:"h-8 w-8 text-blue-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:A.name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[(A.size/1024/1024).toFixed(2)," MB"]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[O&&s.jsxs("div",{className:"flex items-center gap-2 text-blue-600",children:[s.jsx(sS,{className:"h-4 w-4 animate-spin"}),s.jsx("span",{className:"text-sm",children:"Analyzing..."})]}),s.jsx($,{type:"button",variant:"outline",size:"sm",onClick:()=>{S(null),k(null)},children:s.jsx(Un,{className:"h-4 w-4"})})]})]}),g&&s.jsx("div",{className:"mt-3 p-3 bg-green-50 dark:bg-green-950/20 rounded-md",children:s.jsxs("div",{className:"flex items-center gap-2 text-green-700 dark:text-green-400",children:[s.jsx(rS,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm font-medium",children:"Document will be saved to project folder"})]})})]}):s.jsxs("div",{className:"border-2 border-dashed border-muted-foreground/25 rounded-lg p-8 text-center cursor-pointer hover:border-muted-foreground/50 transition-colors",onDrop:de,onDragOver:Y=>Y.preventDefault(),onClick:()=>{var Y;return(Y=document.getElementById("quote-file-input"))==null?void 0:Y.click()},children:[s.jsxs("div",{className:"flex flex-col items-center gap-4",children:[s.jsx("div",{className:"p-3 rounded-full bg-muted",children:s.jsx(mc,{className:"h-6 w-6 text-muted-foreground"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Upload Quote Document"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Drag and drop or click to upload PDF, image, or document"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"AI will analyze the document and fill out form fields automatically"})]})]}),s.jsx("input",{id:"quote-file-input",type:"file",accept:".pdf,.jpg,.jpeg,.png,.webp,.gif,.doc,.docx,.txt",onChange:K,className:"hidden"})]})]}),s.jsx(oe,{control:Q.control,name:"notes",render:({field:Y})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Additional Notes (Optional)"}),s.jsx(le,{children:s.jsx($t,{placeholder:"Any additional information, special requirements...",...Y})}),s.jsx(ce,{})]})}),s.jsxs("div",{className:"flex justify-end space-x-4",children:[s.jsx($,{type:"button",variant:"outline",onClick:()=>i(!1),children:"Cancel"}),s.jsx($,{type:"submit",disabled:W.isPending,children:W.isPending?"Submitting...":"Submit Quote Request"})]})]})})]})]})]}),s.jsx(ge,{children:s.jsx(be,{className:"p-4",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Gf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),s.jsx(re,{placeholder:"Search quotes by project, vendor, or description...",value:l,onChange:Y=>c(Y.target.value),className:"pl-10"})]}),s.jsxs(tt,{value:u,onValueChange:h,children:[s.jsxs(Ze,{className:"w-48",children:[s.jsx(bq,{className:"mr-2 h-4 w-4"}),s.jsx(nt,{placeholder:"Filter by status"})]}),s.jsxs(Je,{children:[s.jsx(V,{value:"all",children:"All Statuses"}),s.jsx(V,{value:"submitted",children:"Submitted"}),s.jsx(V,{value:"under_review",children:"Under Review"}),s.jsx(V,{value:"approved",children:"Approved"}),s.jsx(V,{value:"rejected",children:"Rejected"}),s.jsx(V,{value:"expired",children:"Expired"})]})]})]})})}),s.jsxs(ud,{value:a,onValueChange:o,children:[s.jsx("div",{className:"w-full overflow-x-auto",children:s.jsxs(bl,{className:"flex w-max min-w-full md:grid md:grid-cols-5 md:w-full",children:[s.jsxs(Qt,{value:"all",className:"flex items-center gap-1 md:gap-2 text-xs md:text-sm whitespace-nowrap px-2 md:px-3",children:[s.jsx(Vt,{className:"h-3 w-3 md:h-4 md:w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"All"})," (",fe.all,")"]}),s.jsxs(Qt,{value:"pending",className:"flex items-center gap-1 md:gap-2 text-xs md:text-sm whitespace-nowrap px-2 md:px-3",children:[s.jsx(Hs,{className:"h-3 w-3 md:h-4 md:w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Pending"})," (",fe.pending,")"]}),s.jsxs(Qt,{value:"approved",className:"flex items-center gap-1 md:gap-2 text-xs md:text-sm whitespace-nowrap px-2 md:px-3",children:[s.jsx(Ur,{className:"h-3 w-3 md:h-4 md:w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Approved"})," (",fe.approved,")"]}),s.jsxs(Qt,{value:"rejected",className:"flex items-center gap-1 md:gap-2 text-xs md:text-sm whitespace-nowrap px-2 md:px-3",children:[s.jsx(tf,{className:"h-3 w-3 md:h-4 md:w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Rejected"})," (",fe.rejected,")"]}),s.jsxs(Qt,{value:"expired",className:"flex items-center gap-1 md:gap-2 text-xs md:text-sm whitespace-nowrap px-2 md:px-3",children:[s.jsx(uq,{className:"h-3 w-3 md:h-4 md:w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Expired"})," (",fe.expired,")"]})]})}),s.jsx(Sn,{value:a,className:"mt-6",children:z?s.jsx(ge,{children:s.jsxs(be,{className:"p-8 text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),s.jsx("p",{className:"mt-4 text-muted-foreground",children:"Loading quotes..."})]})}):Ue.length===0?s.jsx(ge,{children:s.jsxs(be,{className:"text-center py-12",children:[s.jsx(Vt,{className:"h-16 w-16 mx-auto mb-4 text-muted-foreground opacity-50"}),s.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No Quotes Found"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:a==="all"?"No quotes have been submitted yet. Start by requesting your first quote.":`No ${a} quotes found. Try adjusting your filters.`}),a==="all"&&s.jsxs($,{onClick:()=>i(!0),children:[s.jsx(en,{className:"mr-2 h-4 w-4"}),"Request Your First Quote"]})]})}):s.jsx("div",{className:"grid gap-4",children:Ue.map(Y=>s.jsx(ge,{className:"hover:shadow-lg transition-shadow cursor-pointer",children:s.jsxs(be,{className:"p-4 md:p-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start gap-3",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 mb-2",children:[s.jsx("h3",{className:"text-base md:text-lg font-semibold",children:Y.projectTitle}),ve(Y.priority)]}),s.jsx("p",{className:"text-muted-foreground mb-3 text-sm md:text-base",children:Y.description})]}),s.jsxs("div",{className:"flex items-center gap-2 self-start",children:[q(Y.status),s.jsxs($,{variant:"outline",size:"sm",onClick:()=>{f(Y),_(!0)},className:"text-xs md:text-sm",children:[s.jsx(Nn,{className:"h-3 w-3 md:h-4 md:w-4 mr-1"}),"View"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2 sm:gap-4 text-xs md:text-sm text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(vs,{className:"h-3 w-3 md:h-4 md:w-4 flex-shrink-0"}),s.jsx("span",{className:"truncate",children:Y.vendorName})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(dr,{className:"h-3 w-3 md:h-4 md:w-4 flex-shrink-0"}),s.jsxs("span",{className:"font-medium",children:["$",parseFloat(Y.amount||"0").toLocaleString()]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(ss,{className:"h-3 w-3 md:h-4 md:w-4 flex-shrink-0"}),s.jsx("span",{children:new Date(Y.submittedAt).toLocaleDateString()})]})]})]}),Y.convertedToVendor&&s.jsxs("div",{className:"flex items-center gap-2 mt-3 p-2 bg-green-50 rounded-lg",children:[s.jsx($s,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{className:"text-sm text-green-700",children:"Converted to Approved Vendor"})]})]})},Y.id))})})]}),s.jsx(ut,{open:v,onOpenChange:_,children:s.jsxs(ct,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(ht,{children:[s.jsx(mt,{children:"Quote Details"}),s.jsx(Zt,{children:"Review vendor quote information and manage approval status."})]}),p&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Project Information"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx(me,{className:"text-sm font-medium",children:"Project Title"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:p.projectTitle})]}),s.jsxs("div",{children:[s.jsx(me,{className:"text-sm font-medium",children:"Type"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:p.projectType})]}),s.jsxs("div",{children:[s.jsx(me,{className:"text-sm font-medium",children:"Description"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:p.description})]}),p.scope&&s.jsxs("div",{children:[s.jsx(me,{className:"text-sm font-medium",children:"Scope"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:p.scope})]}),s.jsxs("div",{children:[s.jsx(me,{className:"text-sm font-medium",children:"Amount"}),s.jsxs("p",{className:"text-lg font-semibold",children:["$",parseFloat(p.amount||"0").toLocaleString()]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(me,{className:"text-sm font-medium",children:"Status"}),q(p.status)]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(me,{className:"text-sm font-medium",children:"Priority"}),ve(p.priority)]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Vendor Information"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx(me,{className:"text-sm font-medium",children:"Company"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:p.vendorName})]}),s.jsxs("div",{children:[s.jsx(me,{className:"text-sm font-medium",children:"Email"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:p.vendorEmail})]}),s.jsxs("div",{children:[s.jsx(me,{className:"text-sm font-medium",children:"Phone"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:p.vendorPhone})]}),p.warranty&&s.jsxs("div",{children:[s.jsx(me,{className:"text-sm font-medium",children:"Warranty"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:p.warranty})]}),p.paymentTerms&&s.jsxs("div",{children:[s.jsx(me,{className:"text-sm font-medium",children:"Payment Terms"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:p.paymentTerms})]})]})]})]}),p.notes&&s.jsxs("div",{children:[s.jsx(me,{className:"text-sm font-medium",children:"Notes"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:p.notes})]}),s.jsxs("div",{className:"pt-4 border-t",children:[s.jsxs("div",{className:"flex justify-between items-center mb-3",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Project Documents"}),s.jsxs($,{variant:"outline",size:"sm",onClick:()=>{window.open(`/documents?folder=${p.id}`,"_blank")},children:[s.jsx(Vt,{className:"mr-2 h-4 w-4"}),"View Folder"]})]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["A dedicated project folder has been created for this quote: ",s.jsxs("strong",{children:['"',p.projectTitle,'"']})]})]}),s.jsxs("div",{className:"flex justify-between space-x-3 pt-4 border-t",children:[s.jsxs($,{variant:"outline",onClick:()=>{window.open(`/documents?folder=${p.id}`,"_blank")},children:[s.jsx(Vt,{className:"mr-2 h-4 w-4"}),"Open Documents"]}),p.status==="submitted"&&s.jsxs("div",{className:"flex space-x-3",children:[s.jsxs($,{variant:"outline",onClick:()=>E(!0),children:[s.jsx(tf,{className:"mr-2 h-4 w-4"}),"Reject"]}),s.jsxs($,{onClick:()=>se.mutate(p.id),disabled:se.isPending,children:[s.jsx(Ur,{className:"mr-2 h-4 w-4"}),se.isPending?"Approving...":"Approve"]})]})]})]})]})}),s.jsx(ut,{open:j,onOpenChange:E,children:s.jsxs(ct,{className:"max-w-md",children:[s.jsxs(ht,{children:[s.jsx(mt,{children:"Reject Quote"}),s.jsx(Zt,{children:"Please select a reason for rejecting this quote."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx(me,{className:"text-sm font-medium",children:"Reason for Rejection"}),s.jsx("div",{className:"space-y-2",children:[{value:"price_too_high",label:"Price too high"},{value:"insufficient_credentials",label:"Insufficient credentials/licensing"},{value:"scope_unclear",label:"Scope of work unclear"},{value:"timeline_unacceptable",label:"Timeline unacceptable"},{value:"no_insurance",label:"No liability insurance"},{value:"better_quote_received",label:"Better quote received from another vendor"},{value:"project_cancelled",label:"Project cancelled"},{value:"vendor_unresponsive",label:"Vendor unresponsive"},{value:"other",label:"Other (specify below)"}].map(Y=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"radio",id:Y.value,name:"rejectionReason",value:Y.value,checked:N===Y.value,onChange:X=>y(X.target.value),className:"h-4 w-4 text-primary focus:ring-primary border-gray-300"}),s.jsx(me,{htmlFor:Y.value,className:"text-sm",children:Y.label})]},Y.value))})]}),N==="other"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(me,{htmlFor:"customReason",className:"text-sm font-medium",children:"Custom Reason"}),s.jsx($t,{id:"customReason",placeholder:"Please specify the reason for rejection...",value:w,onChange:Y=>T(Y.target.value),className:"min-h-[80px]"})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[s.jsx($,{variant:"outline",onClick:()=>{E(!1),y(""),T("")},children:"Cancel"}),s.jsx($,{variant:"destructive",onClick:Me,disabled:!N||N==="other"&&!w.trim()||Ce.isPending,children:Ce.isPending?"Rejecting...":"Reject Quote"})]})]})})]})}const VY=G.object({name:G.string().min(1,"Name is required"),contactInfo:G.object({email:G.string().email().optional(),phone:G.string().optional(),address:G.string().optional(),website:G.string().url().optional().or(G.literal(""))}).optional(),serviceCategories:G.array(G.string()).optional(),businessLicense:G.string().optional(),insurance:G.object({provider:G.string().optional(),policyNumber:G.string().optional(),expiryDate:G.string().optional(),coverageAmount:G.string().optional()}).optional(),emergencyContact:G.string().optional(),isPreferred:G.boolean().optional(),notes:G.string().optional()}),$Y=G.object({contractName:G.string().min(1,"Contract name is required"),description:G.string().optional(),startDate:G.string().min(1,"Start date is required"),endDate:G.string().optional(),costAmount:G.string().min(1,"Cost amount is required"),costFrequency:G.string().min(1,"Cost frequency is required"),paymentTerms:G.string().optional(),serviceScope:G.string().optional(),autoRenew:G.boolean().optional(),renewalTerms:G.string().optional(),strataId:G.string().min(1,"Strata is required")}),zY=G.object({eventType:G.string().min(1,"Event type is required"),title:G.string().min(1,"Title is required"),description:G.string().optional(),rating:G.number().min(1).max(5).optional(),cost:G.string().optional(),eventDate:G.string().min(1,"Event date is required"),strataId:G.string().min(1,"Strata is required")});function BY(){const[t,e]=m.useState(null),[n,r]=m.useState(!1),[i,a]=m.useState(!1),[o,l]=m.useState(!1),[c,u]=m.useState(""),[h,p]=m.useState(""),{toast:f}=xn(),{selectedStrataId:v,selectedStrata:_,isLoading:j}=ra(),{data:E,isLoading:N}=ot({queryKey:[`/api/strata/${v}/vendors`],enabled:!!v}),{data:y}=ot({queryKey:["/api/strata",v,"vendor-contracts"],enabled:!!v}),{data:w}=ot({queryKey:["/api/strata",v,"vendor-history"],enabled:!!v}),T=kn({resolver:An(VY),defaultValues:{name:"",contactInfo:{},serviceCategories:[],isPreferred:!1,otherCategory:"",insurance:{},businessLicense:"",emergencyContact:"",notes:""}}),O=kn({resolver:An($Y),defaultValues:{contractName:"",costFrequency:"monthly",autoRenew:!1,strataId:v||""}}),U=kn({resolver:An(zY),defaultValues:{eventType:"service_completed",strataId:v||""}}),A=ze({mutationFn:async F=>Be("POST",`/api/strata/${v}/vendors`,F),onSuccess:()=>{uc.invalidateQueries({queryKey:[`/api/strata/${v}/vendors`]}),r(!1),T.reset(),f({title:"Vendor created successfully"})},onError:()=>{f({title:"Failed to create vendor",variant:"destructive"})}}),S=ze({mutationFn:async({vendorId:F,data:z})=>Be("POST",`/api/vendors/${F}/contracts`,z),onSuccess:()=>{uc.invalidateQueries({queryKey:["/api/strata",v,"vendor-contracts"]}),a(!1),O.reset(),f({title:"Contract created successfully"})},onError:()=>{f({title:"Failed to create contract",variant:"destructive"})}}),g=ze({mutationFn:async({vendorId:F,data:z})=>Be("POST",`/api/vendors/${F}/history`,z),onSuccess:()=>{uc.invalidateQueries({queryKey:["/api/strata",v,"vendor-history"]}),l(!1),U.reset(),f({title:"History entry created successfully"})},onError:()=>{f({title:"Failed to create history entry",variant:"destructive"})}}),k=["Landscaping","Plumbing","Electrical","HVAC","Roofing","Cleaning","Security","Property Management","Maintenance","Snow Removal","Waste Management","Painting","Flooring","Appliance Repair"],P=[{value:"service_completed",label:"Service Completed"},{value:"issue_reported",label:"Issue Reported"},{value:"contract_signed",label:"Contract Signed"},{value:"payment_made",label:"Payment Made"},{value:"note_added",label:"Note Added"}],I=[{value:"monthly",label:"Monthly"},{value:"quarterly",label:"Quarterly"},{value:"annually",label:"Annually"},{value:"one-time",label:"One-time"}],R=E==null?void 0:E.filter(F=>{var se;const z=F.name.toLowerCase().includes(c.toLowerCase()),W=!h||h==="all"||((se=F.serviceCategories)==null?void 0:se.includes(h));return z&&W}),Q=F=>{const z=(y==null?void 0:y.filter(ve=>ve.vendorId===F))||[],W=(w==null?void 0:w.filter(ve=>ve.vendorId===F))||[],se=z.filter(ve=>ve.status==="active").length,Ce=z.length,Me=z.reduce((ve,Ue)=>ve+parseFloat(Ue.costAmount||0),0),q=W.length>0?W.reduce((ve,Ue)=>ve+(Ue.rating||0),0)/W.filter(ve=>ve.rating).length:0;return{activeContracts:se,totalContracts:Ce,totalCost:Me,avgRating:Math.round(q*10)/10}},Ne=F=>{A.mutate(F)},de=F=>{if(!t)return;const z={...F,startDate:new Date(F.startDate).toISOString(),endDate:F.endDate?new Date(F.endDate).toISOString():null,costAmount:parseFloat(F.costAmount)};S.mutate({vendorId:t,data:z})},K=F=>{if(!t)return;const z={...F,eventDate:new Date(F.eventDate).toISOString(),cost:F.cost?parseFloat(F.cost):null,rating:F.rating||null};g.mutate({vendorId:t,data:z})};return j||!_?s.jsx("div",{className:"p-6 space-y-6",children:s.jsxs("div",{className:"animate-pulse space-y-4",children:[s.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[...Array(3)].map((F,z)=>s.jsx("div",{className:"h-32 bg-gray-200 rounded"},z))})]})}):N?s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsx("div",{className:"flex justify-between items-center",children:s.jsx("h1",{className:"text-3xl font-bold",children:"Vendor Management"})}),s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{children:"Loading vendors..."})})]}):s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:"Vendor Management"}),s.jsx("p",{className:"text-muted-foreground mt-1 text-sm sm:text-base",children:"Manage contractors, contracts, and service history"})]}),s.jsx("div",{className:"flex gap-2",children:s.jsxs(ut,{open:n,onOpenChange:r,children:[s.jsx(Fn,{asChild:!0,children:s.jsxs($,{className:"w-full sm:w-auto text-sm sm:text-base",children:[s.jsx(en,{className:"mr-2 h-4 w-4"}),"Add Vendor"]})}),s.jsxs(ct,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(ht,{children:s.jsx(mt,{children:"Add New Vendor"})}),s.jsx(ln,{...T,children:s.jsxs("form",{onSubmit:T.handleSubmit(Ne),className:"space-y-4",children:[s.jsx(oe,{control:T.control,name:"name",render:({field:F})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Vendor Name"}),s.jsx(le,{children:s.jsx(re,{...F,placeholder:"Company Name"})}),s.jsx(ce,{})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(oe,{control:T.control,name:"contactInfo.email",render:({field:F})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Email"}),s.jsx(le,{children:s.jsx(re,{...F,type:"email",placeholder:"contact@company.com"})}),s.jsx(ce,{})]})}),s.jsx(oe,{control:T.control,name:"contactInfo.phone",render:({field:F})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Phone"}),s.jsx(le,{children:s.jsx(re,{...F,placeholder:"+1 (555) 123-4567"})}),s.jsx(ce,{})]})})]}),s.jsx(oe,{control:T.control,name:"contactInfo.address",render:({field:F})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Address"}),s.jsx(le,{children:s.jsx($t,{...F,placeholder:"Street address"})}),s.jsx(ce,{})]})}),s.jsx(oe,{control:T.control,name:"contactInfo.website",render:({field:F})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Website"}),s.jsx(le,{children:s.jsx(re,{...F,placeholder:"https://www.company.com"})}),s.jsx(ce,{})]})}),s.jsxs("div",{children:[s.jsx(me,{className:"text-sm font-medium",children:"Service Categories"}),s.jsx("div",{className:"grid grid-cols-3 gap-2 mt-2",children:k.map(F=>{var z;return s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",id:`category-${F}`,checked:((z=T.watch("serviceCategories"))==null?void 0:z.includes(F))||!1,onChange:W=>{const se=T.getValues("serviceCategories")||[];W.target.checked?T.setValue("serviceCategories",[...se,F]):T.setValue("serviceCategories",se.filter(Ce=>Ce!==F))},className:"rounded border-gray-300"}),s.jsx("label",{htmlFor:`category-${F}`,className:"text-sm",children:F})]},F)})}),s.jsxs("div",{className:"mt-3 space-y-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",id:"category-other",checked:!!T.watch("otherCategory"),onChange:F=>{if(!F.target.checked){T.setValue("otherCategory","");const W=(T.getValues("serviceCategories")||[]).filter(se=>k.includes(se));T.setValue("serviceCategories",W)}},className:"rounded border-gray-300"}),s.jsx("label",{htmlFor:"category-other",className:"text-sm font-medium",children:"Other (specify below)"})]}),T.watch("otherCategory")!==void 0&&s.jsx(re,{placeholder:"Enter custom service category",value:T.watch("otherCategory")||"",onChange:F=>{const z=F.target.value;T.setValue("otherCategory",z);const se=(T.getValues("serviceCategories")||[]).filter(Ce=>k.includes(Ce));z.trim()?T.setValue("serviceCategories",[...se,z.trim()]):T.setValue("serviceCategories",se)},className:"ml-6"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(oe,{control:T.control,name:"businessLicense",render:({field:F})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Business License"}),s.jsx(le,{children:s.jsx(re,{...F,placeholder:"License number"})}),s.jsx(ce,{})]})}),s.jsx(oe,{control:T.control,name:"emergencyContact",render:({field:F})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Emergency Contact"}),s.jsx(le,{children:s.jsx(re,{...F,placeholder:"Emergency phone number"})}),s.jsx(ce,{})]})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(me,{className:"text-sm font-medium",children:"Insurance Information"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-2",children:[s.jsxs("div",{children:[s.jsx(me,{className:"text-xs text-muted-foreground",children:"Provider"}),s.jsx(re,{placeholder:"Insurance provider",value:T.watch("insurance.provider")||"",onChange:F=>T.setValue("insurance.provider",F.target.value)})]}),s.jsxs("div",{children:[s.jsx(me,{className:"text-xs text-muted-foreground",children:"Policy Number"}),s.jsx(re,{placeholder:"Policy number",value:T.watch("insurance.policyNumber")||"",onChange:F=>T.setValue("insurance.policyNumber",F.target.value)})]}),s.jsxs("div",{children:[s.jsx(me,{className:"text-xs text-muted-foreground",children:"Expiry Date"}),s.jsx(re,{type:"date",value:T.watch("insurance.expiryDate")||"",onChange:F=>T.setValue("insurance.expiryDate",F.target.value)})]}),s.jsxs("div",{children:[s.jsx(me,{className:"text-xs text-muted-foreground",children:"Coverage Amount"}),s.jsx(re,{placeholder:"$1,000,000",value:T.watch("insurance.coverageAmount")||"",onChange:F=>T.setValue("insurance.coverageAmount",F.target.value)})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",id:"isPreferred",checked:T.watch("isPreferred")||!1,onChange:F=>T.setValue("isPreferred",F.target.checked),className:"rounded border-gray-300"}),s.jsx(me,{htmlFor:"isPreferred",className:"text-sm",children:"Mark as Preferred Vendor"})]})]}),s.jsx(oe,{control:T.control,name:"notes",render:({field:F})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Notes"}),s.jsx(le,{children:s.jsx($t,{...F,placeholder:"Additional notes about this vendor"})}),s.jsx(ce,{})]})}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[s.jsx($,{type:"button",variant:"outline",onClick:()=>r(!1),children:"Cancel"}),s.jsx($,{type:"submit",disabled:A.isPending,children:A.isPending?"Creating...":"Create Vendor"})]})]})})]})]})})]}),s.jsxs("div",{className:"flex gap-4 mb-6",children:[s.jsx("div",{className:"flex-1",children:s.jsx(re,{placeholder:"Search vendors...",value:c,onChange:F=>u(F.target.value),className:"max-w-sm"})}),s.jsxs(tt,{value:h,onValueChange:p,children:[s.jsx(Ze,{className:"w-48",children:s.jsx(nt,{placeholder:"Filter by category"})}),s.jsxs(Je,{children:[s.jsx(V,{value:"all",children:"All Categories"}),k.map(F=>s.jsx(V,{value:F,children:F},F))]})]})]}),s.jsxs("div",{className:"grid gap-6",children:[R==null?void 0:R.map(F=>{var W,se,Ce,Me,q,ve,Ue,we;const z=Q(F.id);return s.jsxs(ge,{className:"hover:shadow-md transition-shadow",children:[s.jsx(Ge,{children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Qe,{className:"text-xl",children:F.name}),F.isPreferred&&s.jsx(He,{className:"bg-yellow-100 text-yellow-800",children:"Preferred"})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:(W=F.serviceCategories)==null?void 0:W.map(fe=>s.jsx(He,{variant:"secondary",children:fe},fe))}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(N0,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{children:((se=F.contactInfo)==null?void 0:se.phone)||"No phone provided"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(od,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"truncate",children:((Ce=F.contactInfo)==null?void 0:Ce.email)||"No email provided"})]}),((Me=F.contactInfo)==null?void 0:Me.website)&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(xv,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("a",{href:F.contactInfo.website,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline truncate",children:"Website"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Es,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{children:F.businessLicense||"License not provided"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ix,{className:"h-4 w-4 text-yellow-500"}),s.jsx("span",{children:z.avgRating>0?`${z.avgRating}/5 rating`:"No ratings yet"})]}),F.emergencyContact&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(S0,{className:"h-4 w-4 text-red-500"}),s.jsxs("span",{children:["Emergency: ",F.emergencyContact]})]})]})]}),F.insurance&&(F.insurance.provider||F.insurance.expiryDate)&&s.jsxs("div",{className:"mt-3 p-2 bg-blue-50 rounded-md",children:[s.jsx("div",{className:"text-xs font-medium text-blue-800 mb-1",children:"Insurance"}),s.jsxs("div",{className:"text-xs text-blue-700",children:[F.insurance.provider&&`Provider: ${F.insurance.provider}`,F.insurance.provider&&F.insurance.expiryDate&&" • ",F.insurance.expiryDate&&`Expires: ${new Date(F.insurance.expiryDate).toLocaleDateString()}`]})]}),F.notes&&s.jsxs("div",{className:"mt-3 p-2 bg-gray-50 rounded-md",children:[s.jsx("div",{className:"text-xs font-medium text-gray-700 mb-1",children:"Notes"}),s.jsx("div",{className:"text-xs text-gray-600 line-clamp-2",children:F.notes})]})]}),s.jsx("div",{className:"flex gap-2",children:s.jsxs(ut,{children:[s.jsx(Fn,{asChild:!0,children:s.jsx($,{variant:"outline",size:"sm",children:s.jsx(Nn,{className:"h-4 w-4"})})}),s.jsxs(ct,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsx(ht,{children:s.jsx(mt,{className:"text-2xl",children:F.name})}),s.jsxs(ud,{defaultValue:"overview",className:"mt-4",children:[s.jsxs(bl,{className:"grid w-full grid-cols-4",children:[s.jsx(Qt,{value:"overview",children:"Overview"}),s.jsxs(Qt,{value:"contracts",children:["Contracts (",z.activeContracts,"/",z.totalContracts,")"]}),s.jsx(Qt,{value:"history",children:"History"}),s.jsx(Qt,{value:"actions",children:"Actions"})]}),s.jsxs(Sn,{value:"overview",className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsx(ge,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Vt,{className:"h-5 w-5 text-blue-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:z.totalContracts}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Contracts"})]})]})}),s.jsx(ge,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ur,{className:"h-5 w-5 text-green-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:z.activeContracts}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Contracts"})]})]})}),s.jsx(ge,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(dr,{className:"h-5 w-5 text-green-500"}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-2xl font-bold",children:["$",z.totalCost.toLocaleString()]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Value"})]})]})}),s.jsx(ge,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ix,{className:"h-5 w-5 text-yellow-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:z.avgRating||"N/A"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Average Rating"})]})]})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Contact Information"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("strong",{children:"Email:"})," ",((q=F.contactInfo)==null?void 0:q.email)||"Not provided"]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Phone:"})," ",((ve=F.contactInfo)==null?void 0:ve.phone)||"Not provided"]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx("strong",{children:"Address:"})," ",((Ue=F.contactInfo)==null?void 0:Ue.address)||"Not provided"]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Website:"})," ",((we=F.contactInfo)==null?void 0:we.website)||"Not provided"]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Emergency Contact:"})," ",F.emergencyContact||"Not provided"]})]})]}),F.notes&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Notes"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:F.notes})]})]})]}),s.jsxs(Sn,{value:"contracts",className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h4",{className:"font-semibold",children:"Contracts"}),s.jsxs(ut,{open:i,onOpenChange:a,children:[s.jsx(Fn,{asChild:!0,children:s.jsxs($,{size:"sm",onClick:()=>e(F.id),children:[s.jsx(en,{className:"h-4 w-4 mr-2"}),"Add Contract"]})}),s.jsxs(ct,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(ht,{children:s.jsxs(mt,{children:["Add Contract for ",F.name]})}),s.jsx(ln,{...O,children:s.jsxs("form",{onSubmit:O.handleSubmit(de),className:"space-y-4",children:[s.jsx(oe,{control:O.control,name:"contractName",render:({field:fe})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Contract Name"}),s.jsx(le,{children:s.jsx(re,{...fe,placeholder:"e.g., Landscaping Services 2024"})}),s.jsx(ce,{})]})}),s.jsx(oe,{control:O.control,name:"description",render:({field:fe})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Description"}),s.jsx(le,{children:s.jsx($t,{...fe,placeholder:"Brief description of services"})}),s.jsx(ce,{})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(oe,{control:O.control,name:"startDate",render:({field:fe})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Start Date"}),s.jsx(le,{children:s.jsx(re,{...fe,type:"date"})}),s.jsx(ce,{})]})}),s.jsx(oe,{control:O.control,name:"endDate",render:({field:fe})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"End Date (Optional)"}),s.jsx(le,{children:s.jsx(re,{...fe,type:"date"})}),s.jsx(ce,{})]})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(oe,{control:O.control,name:"costAmount",render:({field:fe})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Cost Amount"}),s.jsx(le,{children:s.jsx(re,{...fe,type:"number",placeholder:"0.00",step:"0.01"})}),s.jsx(ce,{})]})}),s.jsx(oe,{control:O.control,name:"costFrequency",render:({field:fe})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Cost Frequency"}),s.jsxs(tt,{onValueChange:fe.onChange,defaultValue:fe.value,children:[s.jsx(le,{children:s.jsx(Ze,{children:s.jsx(nt,{placeholder:"Select frequency"})})}),s.jsx(Je,{children:I.map(Y=>s.jsx(V,{value:Y.value,children:Y.label},Y.value))})]}),s.jsx(ce,{})]})})]}),s.jsx(oe,{control:O.control,name:"serviceScope",render:({field:fe})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Service Scope"}),s.jsx(le,{children:s.jsx($t,{...fe,placeholder:"Detailed scope of work"})}),s.jsx(ce,{})]})}),s.jsx(oe,{control:O.control,name:"paymentTerms",render:({field:fe})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Payment Terms"}),s.jsx(le,{children:s.jsx(re,{...fe,placeholder:"e.g., Net 30 days"})}),s.jsx(ce,{})]})}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[s.jsx($,{type:"button",variant:"outline",onClick:()=>a(!1),children:"Cancel"}),s.jsx($,{type:"submit",disabled:S.isPending,children:S.isPending?"Creating...":"Create Contract"})]})]})})]})]})]}),s.jsx("div",{className:"space-y-3",children:(y==null?void 0:y.filter(fe=>fe.vendorId===F.id).map(fe=>s.jsx(ge,{className:"p-4",children:s.jsx("div",{className:"flex justify-between items-start",children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("h5",{className:"font-semibold",children:fe.contractName}),s.jsx(He,{className:fe.status==="active"?"bg-green-100 text-green-800":fe.status==="expired"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800",children:fe.status})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:fe.description}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("strong",{children:"Cost:"})," $",parseFloat(fe.costAmount).toLocaleString()," / ",fe.costFrequency]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Start:"})," ",new Date(fe.startDate).toLocaleDateString()]}),s.jsxs("div",{children:[s.jsx("strong",{children:"End:"})," ",fe.endDate?new Date(fe.endDate).toLocaleDateString():"Ongoing"]})]})]})})},fe.id)))||s.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No contracts found"})})]}),s.jsxs(Sn,{value:"history",className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h4",{className:"font-semibold",children:"Service History"}),s.jsxs(ut,{open:o,onOpenChange:l,children:[s.jsx(Fn,{asChild:!0,children:s.jsxs($,{size:"sm",onClick:()=>e(F.id),children:[s.jsx(en,{className:"h-4 w-4 mr-2"}),"Add Entry"]})}),s.jsxs(ct,{className:"max-w-2xl",children:[s.jsx(ht,{children:s.jsxs(mt,{children:["Add History Entry for ",F.name]})}),s.jsx(ln,{...U,children:s.jsxs("form",{onSubmit:U.handleSubmit(K),className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(oe,{control:U.control,name:"eventType",render:({field:fe})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Event Type"}),s.jsxs(tt,{onValueChange:fe.onChange,defaultValue:fe.value,children:[s.jsx(le,{children:s.jsx(Ze,{children:s.jsx(nt,{placeholder:"Select event type"})})}),s.jsx(Je,{children:P.map(Y=>s.jsx(V,{value:Y.value,children:Y.label},Y.value))})]}),s.jsx(ce,{})]})}),s.jsx(oe,{control:U.control,name:"eventDate",render:({field:fe})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Event Date"}),s.jsx(le,{children:s.jsx(re,{...fe,type:"date"})}),s.jsx(ce,{})]})})]}),s.jsx(oe,{control:U.control,name:"title",render:({field:fe})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Title"}),s.jsx(le,{children:s.jsx(re,{...fe,placeholder:"Brief title for this entry"})}),s.jsx(ce,{})]})}),s.jsx(oe,{control:U.control,name:"description",render:({field:fe})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Description"}),s.jsx(le,{children:s.jsx($t,{...fe,placeholder:"Detailed description of the event"})}),s.jsx(ce,{})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(oe,{control:U.control,name:"cost",render:({field:fe})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Cost (Optional)"}),s.jsx(le,{children:s.jsx(re,{...fe,type:"number",placeholder:"0.00",step:"0.01"})}),s.jsx(ce,{})]})}),s.jsx(oe,{control:U.control,name:"rating",render:({field:fe})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Rating (1-5)"}),s.jsx(le,{children:s.jsx(re,{...fe,type:"number",min:"1",max:"5",placeholder:"Rating"})}),s.jsx(ce,{})]})})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[s.jsx($,{type:"button",variant:"outline",onClick:()=>l(!1),children:"Cancel"}),s.jsx($,{type:"submit",disabled:g.isPending,children:g.isPending?"Creating...":"Create Entry"})]})]})})]})]})]}),s.jsx("div",{className:"space-y-3",children:(w==null?void 0:w.filter(fe=>fe.vendorId===F.id).sort((fe,Y)=>new Date(Y.eventDate).getTime()-new Date(fe.eventDate).getTime()).map(fe=>{var Y;return s.jsx(ge,{className:"p-4",children:s.jsx("div",{className:"flex justify-between items-start",children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("h5",{className:"font-semibold",children:fe.title}),s.jsx(He,{variant:"outline",children:(Y=P.find(X=>X.value===fe.eventType))==null?void 0:Y.label}),fe.rating&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Ix,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"}),s.jsxs("span",{className:"text-sm",children:[fe.rating,"/5"]})]})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:fe.description}),s.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(ss,{className:"h-4 w-4"}),new Date(fe.eventDate).toLocaleDateString()]}),fe.cost&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(dr,{className:"h-4 w-4"}),"$",parseFloat(fe.cost).toLocaleString()]})]})]})})},fe.id)}))||s.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No history entries found"})})]}),s.jsx(Sn,{value:"actions",className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs($,{variant:"outline",className:"h-20 flex-col",children:[s.jsx(mc,{className:"h-6 w-6 mb-2"}),"Upload Contract"]}),s.jsxs($,{variant:"outline",className:"h-20 flex-col",children:[s.jsx(Tq,{className:"h-6 w-6 mb-2"}),"Edit Details"]}),s.jsxs($,{variant:"outline",className:"h-20 flex-col",children:[s.jsx(jv,{className:"h-6 w-6 mb-2"}),"View Analytics"]}),s.jsxs($,{variant:"outline",className:"h-20 flex-col text-red-600 hover:text-red-700",children:[s.jsx(Un,{className:"h-6 w-6 mb-2"}),"Remove Vendor"]})]})})]})]})]})})]})}),s.jsx(be,{children:s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Vt,{className:"h-4 w-4 text-blue-500"}),s.jsxs("span",{className:"font-medium",children:[z.totalContracts," Contracts"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ur,{className:"h-4 w-4 text-green-500"}),s.jsxs("span",{className:"font-medium",children:[z.activeContracts," Active"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(dr,{className:"h-4 w-4 text-green-500"}),s.jsxs("span",{className:"font-medium",children:["$",z.totalCost.toLocaleString()," Total"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(jv,{className:"h-4 w-4 text-blue-500"}),s.jsxs("span",{className:"font-medium",children:[y==null?void 0:y.filter(fe=>fe.vendorId===F.id&&fe.costFrequency==="monthly").length," Monthly"]})]})]})})]},F.id)}),(!R||R.length===0)&&s.jsx(ge,{children:s.jsxs(be,{className:"text-center py-12",children:[s.jsx($s,{className:"h-16 w-16 mx-auto mb-4 text-muted-foreground opacity-50"}),s.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No Vendors Found"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:(E==null?void 0:E.length)===0?"Start by adding your first vendor to begin managing contracts and services.":"No vendors match your current search criteria."}),s.jsxs($,{onClick:()=>r(!0),children:[s.jsx(en,{className:"mr-2 h-4 w-4"}),"Add First Vendor"]})]})})]})]})}var aM="AlertDialog",[qY,fne]=os(aM,[b4]),ia=b4(),oM=t=>{const{__scopeAlertDialog:e,...n}=t,r=ia(e);return s.jsx(H0,{...r,...n,modal:!0})};oM.displayName=aM;var HY="AlertDialogTrigger",WY=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=ia(n);return s.jsx(W0,{...i,...r,ref:e})});WY.displayName=HY;var KY="AlertDialogPortal",lM=t=>{const{__scopeAlertDialog:e,...n}=t,r=ia(e);return s.jsx(K0,{...r,...n})};lM.displayName=KY;var GY="AlertDialogOverlay",cM=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=ia(n);return s.jsx(kh,{...i,...r,ref:e})});cM.displayName=GY;var yc="AlertDialogContent",[QY,YY]=qY(yc),XY=SI("AlertDialogContent"),dM=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:r,...i}=t,a=ia(n),o=m.useRef(null),l=ft(e,o),c=m.useRef(null);return s.jsx(pG,{contentName:yc,titleName:uM,docsSlug:"alert-dialog",children:s.jsx(QY,{scope:n,cancelRef:c,children:s.jsxs(Ah,{role:"alertdialog",...a,...i,ref:l,onOpenAutoFocus:Te(i.onOpenAutoFocus,u=>{var h;u.preventDefault(),(h=c.current)==null||h.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[s.jsx(XY,{children:r}),s.jsx(JY,{contentRef:o})]})})})});dM.displayName=yc;var uM="AlertDialogTitle",hM=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=ia(n);return s.jsx(Ih,{...i,...r,ref:e})});hM.displayName=uM;var mM="AlertDialogDescription",fM=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=ia(n);return s.jsx(Rh,{...i,...r,ref:e})});fM.displayName=mM;var ZY="AlertDialogAction",pM=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=ia(n);return s.jsx(dg,{...i,...r,ref:e})});pM.displayName=ZY;var gM="AlertDialogCancel",xM=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:i}=YY(gM,n),a=ia(n),o=ft(e,i);return s.jsx(dg,{...a,...r,ref:o})});xM.displayName=gM;var JY=({contentRef:t})=>{const e=`\`${yc}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${yc}\` by passing a \`${mM}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${yc}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return m.useEffect(()=>{var r;document.getElementById((r=t.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},eX=oM,tX=lM,yM=cM,vM=dM,jM=pM,wM=xM,bM=hM,NM=fM;const SM=eX,nX=tX,_M=m.forwardRef(({className:t,...e},n)=>s.jsx(yM,{className:Re("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));_M.displayName=yM.displayName;const sw=m.forwardRef(({className:t,...e},n)=>s.jsxs(nX,{children:[s.jsx(_M,{}),s.jsx(vM,{ref:n,className:Re("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));sw.displayName=vM.displayName;const rw=({className:t,...e})=>s.jsx("div",{className:Re("flex flex-col space-y-2 text-center sm:text-left",t),...e});rw.displayName="AlertDialogHeader";const iw=({className:t,...e})=>s.jsx("div",{className:Re("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});iw.displayName="AlertDialogFooter";const aw=m.forwardRef(({className:t,...e},n)=>s.jsx(bM,{ref:n,className:Re("text-lg font-semibold",t),...e}));aw.displayName=bM.displayName;const ow=m.forwardRef(({className:t,...e},n)=>s.jsx(NM,{ref:n,className:Re("text-sm text-muted-foreground",t),...e}));ow.displayName=NM.displayName;const lw=m.forwardRef(({className:t,...e},n)=>s.jsx(jM,{ref:n,className:Re(L0(),t),...e}));lw.displayName=jM.displayName;const cw=m.forwardRef(({className:t,...e},n)=>s.jsx(wM,{ref:n,className:Re(L0({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));cw.displayName=wM.displayName;function sX(){var S;const[t,e]=m.useState(!1),[n,r]=m.useState(null),[i,a]=m.useState(!1),[o,l]=m.useState(null),c=as(),{toast:u}=xn(),{selectedStrataId:h,selectedStrata:p,isLoading:f}=ra(),{data:v=[],isLoading:_}=ot({queryKey:[`/api/strata/${h}/units`],enabled:!!h}),{data:j}=ot({queryKey:[`/api/financial/fees/${h}`],enabled:!!h}),E=((S=j==null?void 0:j.feeStructure)==null?void 0:S.tiers)||[],N=ze({mutationFn:async g=>(await Be("POST",`/api/strata/${h}/units`,g)).json(),onSuccess:()=>{c.invalidateQueries({queryKey:[`/api/strata/${h}/units`]}),e(!1),u({title:"Success",description:"Unit created successfully"})},onError:()=>{u({title:"Error",description:"Failed to create unit",variant:"destructive"})}}),y=ze({mutationFn:async g=>(await Be("PATCH",`/api/units/${n.id}`,g)).json(),onSuccess:()=>{c.invalidateQueries({queryKey:[`/api/strata/${h}/units`]}),e(!1),r(null),u({title:"Success",description:"Unit updated successfully"})},onError:()=>{u({title:"Error",description:"Failed to update unit",variant:"destructive"})}}),w=ze({mutationFn:async g=>(await Be("DELETE",`/api/units/${g}`)).json(),onSuccess:()=>{c.invalidateQueries({queryKey:[`/api/strata/${h}/units`]}),u({title:"Success",description:"Unit deleted successfully"})},onError:()=>{u({title:"Error",description:"Failed to delete unit",variant:"destructive"})}}),T=g=>{g.preventDefault();const k=new FormData(g.currentTarget),P={unitNumber:k.get("unitNumber"),unitType:k.get("unitType"),feeTierId:k.get("feeTierId"),ownerName:k.get("ownerName"),ownerEmail:k.get("ownerEmail"),ownerPhone:k.get("ownerPhone"),squareFootage:parseFloat(k.get("squareFootage")||"0"),parkingSpaces:parseInt(k.get("parkingSpaces")||"0")};n?y.mutate(P):N.mutate(P)},O=g=>{r(g),e(!0)},U=g=>{l(g),a(!0)},A=()=>{o&&(w.mutate(o.id),a(!1),l(null))};return f||!p?s.jsx("div",{className:"p-6 space-y-6",children:s.jsxs("div",{className:"animate-pulse space-y-4",children:[s.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3"}),s.jsx("div",{className:"h-32 bg-gray-200 rounded"})]})}):_?s.jsx("div",{className:"p-6 space-y-6",children:s.jsxs("div",{className:"animate-pulse space-y-4",children:[s.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3"}),s.jsx("div",{className:"h-32 bg-gray-200 rounded"})]})}):s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-foreground",children:"Dwelling Management"}),s.jsx("p",{className:"text-muted-foreground mt-1 text-sm sm:text-base",children:"Manage individual units, owners, and property details"})]}),s.jsxs(ut,{open:t,onOpenChange:e,children:[s.jsx(Fn,{asChild:!0,children:s.jsxs($,{className:"bg-green-500 hover:bg-green-600 text-white w-full sm:w-auto text-sm sm:text-base",onClick:()=>r(null),children:[s.jsx(en,{className:"mr-2 h-4 w-4"}),"Add Unit"]})}),s.jsxs(ct,{children:[s.jsxs(ht,{children:[s.jsx(mt,{children:n?"Edit Unit":"Add New Unit"}),s.jsx(Zt,{children:n?"Update unit details and owner information":"Add a new unit to the strata"})]}),s.jsxs("form",{onSubmit:T,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(me,{htmlFor:"unitNumber",children:"Unit Number"}),s.jsx(re,{id:"unitNumber",name:"unitNumber",defaultValue:n==null?void 0:n.unitNumber,required:!0})]}),s.jsxs("div",{children:[s.jsx(me,{htmlFor:"unitType",children:"Unit Type"}),s.jsxs(tt,{name:"unitType",defaultValue:n==null?void 0:n.unitType,children:[s.jsx(Ze,{children:s.jsx(nt,{placeholder:"Select unit type"})}),s.jsxs(Je,{children:[s.jsx(V,{value:"studio",children:"Studio"}),s.jsx(V,{value:"one_bedroom",children:"One Bedroom"}),s.jsx(V,{value:"two_bedroom",children:"Two Bedroom"}),s.jsx(V,{value:"three_bedroom",children:"Three Bedroom"}),s.jsx(V,{value:"penthouse",children:"Penthouse"})]})]})]}),s.jsxs("div",{children:[s.jsx(me,{htmlFor:"feeTierId",children:"Fee Tier"}),s.jsxs(tt,{name:"feeTierId",defaultValue:n==null?void 0:n.feeTierId,children:[s.jsx(Ze,{children:s.jsx(nt,{placeholder:"Select fee tier"})}),s.jsx(Je,{children:E.map(g=>s.jsxs(V,{value:g.id,children:[g.name," - $",g.amount,"/month"]},g.id))})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-medium",children:"Owner Information"}),s.jsxs("div",{children:[s.jsx(me,{htmlFor:"ownerName",children:"Owner Name"}),s.jsx(re,{id:"ownerName",name:"ownerName",defaultValue:n==null?void 0:n.ownerName,required:!0})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(me,{htmlFor:"ownerEmail",children:"Email"}),s.jsx(re,{id:"ownerEmail",name:"ownerEmail",type:"email",defaultValue:n==null?void 0:n.ownerEmail})]}),s.jsxs("div",{children:[s.jsx(me,{htmlFor:"ownerPhone",children:"Phone"}),s.jsx(re,{id:"ownerPhone",name:"ownerPhone",defaultValue:n==null?void 0:n.ownerPhone})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-medium",children:"Unit Details"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(me,{htmlFor:"squareFootage",children:"Square Footage"}),s.jsx(re,{id:"squareFootage",name:"squareFootage",type:"number",defaultValue:n==null?void 0:n.squareFootage})]}),s.jsxs("div",{children:[s.jsx(me,{htmlFor:"parkingSpaces",children:"Parking Spaces"}),s.jsx(re,{id:"parkingSpaces",name:"parkingSpaces",type:"number",defaultValue:n==null?void 0:n.parkingSpaces})]})]})]}),s.jsx($,{type:"submit",disabled:N.isPending||y.isPending,children:n?y.isPending?"Updating...":"Update Unit":N.isPending?"Creating...":"Create Unit"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsxs(ge,{children:[s.jsxs(Ge,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Qe,{className:"text-sm font-medium",children:"Total Units"}),s.jsx(vs,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(be,{children:[s.jsx("div",{className:"text-2xl font-bold",children:v.length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Active dwelling units"})]})]}),s.jsxs(ge,{children:[s.jsxs(Ge,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Qe,{className:"text-sm font-medium",children:"Occupied Units"}),s.jsx($s,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(be,{children:[s.jsx("div",{className:"text-2xl font-bold",children:v.filter(g=>g.ownerName).length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Units with registered owners"})]})]}),s.jsxs(ge,{children:[s.jsxs(Ge,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Qe,{className:"text-sm font-medium",children:"Average Size"}),s.jsx(Sh,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(be,{children:[s.jsx("div",{className:"text-2xl font-bold",children:v.length>0?Math.round(v.reduce((g,k)=>g+(k.squareFootage||0),0)/v.length):0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Square feet per unit"})]})]}),s.jsxs(ge,{children:[s.jsxs(Ge,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Qe,{className:"text-sm font-medium",children:"Parking Spaces"}),s.jsx(Vt,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(be,{children:[s.jsx("div",{className:"text-2xl font-bold",children:v.reduce((g,k)=>g+(k.parkingSpaces||0),0)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Total parking spaces"})]})]})]}),s.jsxs(ge,{children:[s.jsx(Ge,{children:s.jsx(Qe,{children:"Unit Directory"})}),s.jsxs(be,{children:[s.jsx("div",{className:"hidden md:block overflow-x-auto",children:s.jsxs(Ks,{children:[s.jsx(Gs,{children:s.jsxs(Ft,{children:[s.jsx(Ie,{className:"w-20",children:"Unit"}),s.jsx(Ie,{className:"w-32",children:"Owner"}),s.jsx(Ie,{className:"w-44",children:"Contact"}),s.jsx(Ie,{className:"w-24",children:"Size"}),s.jsx(Ie,{className:"w-20",children:"Parking"}),s.jsx(Ie,{className:"w-36",children:"Actions"})]})}),s.jsx(Qs,{children:v.map(g=>{var k;return s.jsxs(Ft,{children:[s.jsxs(Ee,{className:"font-medium text-sm",children:["#",g.unitNumber]}),s.jsx(Ee,{className:"text-sm",children:s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:g.ownerName||"N/A"}),g.feeTierId?s.jsx("div",{className:"text-xs text-muted-foreground",children:((k=E.find(P=>P.id===g.feeTierId))==null?void 0:k.name)||"Unknown"}):s.jsx(He,{variant:"secondary",className:"text-xs",children:"Unassigned"})]})}),s.jsx(Ee,{className:"text-xs",children:g.ownerEmail||g.ownerPhone?s.jsxs("div",{children:[g.ownerEmail&&s.jsx("div",{className:"truncate max-w-32",children:g.ownerEmail}),g.ownerPhone&&s.jsx("div",{children:g.ownerPhone})]}):"N/A"}),s.jsx(Ee,{className:"text-xs",children:g.squareFootage?`${g.squareFootage} sq ft`:"N/A"}),s.jsxs(Ee,{className:"text-xs",children:[g.parkingSpaces||0," spaces"]}),s.jsx(Ee,{children:s.jsxs("div",{className:"flex space-x-1",children:[s.jsx($,{size:"sm",variant:"outline",className:"text-blue-600 border-blue-600 hover:bg-blue-50 p-2",onClick:()=>O(g),title:"Edit Unit",children:s.jsx(gs,{className:"h-3 w-3"})}),s.jsx($,{size:"sm",variant:"outline",className:"text-green-600 border-green-600 hover:bg-green-50 p-2",title:"Documents",children:s.jsx(Vt,{className:"h-3 w-3"})}),s.jsx($,{size:"sm",variant:"outline",className:"text-red-600 border-red-600 hover:bg-red-50 p-2",onClick:()=>U(g),disabled:w.isPending,title:"Delete Unit",children:s.jsx(Un,{className:"h-3 w-3"})})]})})]},g.id)})})]})}),s.jsx("div",{className:"md:hidden space-y-4",children:v.map(g=>{var k,P,I;return s.jsx(ge,{className:"border border-gray-200",children:s.jsxs(be,{className:"p-4",children:[s.jsxs("div",{className:"flex justify-between items-start mb-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("h3",{className:"font-semibold text-lg",children:["Unit ",g.unitNumber]}),s.jsx(He,{variant:"outline",className:"capitalize text-xs",children:(k=g.unitType)==null?void 0:k.replace("_"," ")})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx($,{size:"sm",variant:"outline",className:"text-blue-600 border-blue-600 hover:bg-blue-50 p-2",onClick:()=>O(g),title:"Edit Unit",children:s.jsx(gs,{className:"h-3 w-3"})}),s.jsx($,{size:"sm",variant:"outline",className:"text-green-600 border-green-600 hover:bg-green-50 p-2",title:"Documents",children:s.jsx(Vt,{className:"h-3 w-3"})}),s.jsx($,{size:"sm",variant:"outline",className:"text-red-600 border-red-600 hover:bg-red-50 p-2",onClick:()=>U(g),disabled:w.isPending,title:"Delete Unit",children:s.jsx(Un,{className:"h-3 w-3"})})]})]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Fee Tier:"}),s.jsx("div",{className:"text-right",children:g.feeTierId?s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:((P=E.find(R=>R.id===g.feeTierId))==null?void 0:P.name)||"Unknown"}),s.jsxs("div",{className:"text-muted-foreground text-xs",children:["$",((I=E.find(R=>R.id===g.feeTierId))==null?void 0:I.amount)||0,"/month"]})]}):s.jsx(He,{variant:"secondary",className:"text-xs",children:"Unassigned"})})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Owner:"}),s.jsx("span",{className:"font-medium",children:g.ownerName||"N/A"})]}),(g.ownerEmail||g.ownerPhone)&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Contact:"}),s.jsxs("div",{className:"text-right text-xs",children:[g.ownerEmail&&s.jsx("div",{children:g.ownerEmail}),g.ownerPhone&&s.jsx("div",{children:g.ownerPhone})]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Size:"}),s.jsx("span",{children:g.squareFootage?`${g.squareFootage} sq ft`:"N/A"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Parking:"}),s.jsxs("span",{children:[g.parkingSpaces||0," spaces"]})]})]})]})},g.id)})})]})]}),s.jsx(SM,{open:i,onOpenChange:a,children:s.jsxs(sw,{children:[s.jsxs(rw,{children:[s.jsx(aw,{children:"Delete Unit"}),s.jsxs(ow,{children:["Are you sure you want to delete Unit ",o==null?void 0:o.unitNumber,"? This action cannot be undone."]})]}),s.jsxs(iw,{children:[s.jsx(cw,{onClick:()=>a(!1),children:"Cancel"}),s.jsx(lw,{onClick:A,className:"bg-red-600 hover:bg-red-700 text-white",disabled:w.isPending,children:w.isPending?"Deleting...":"Delete"})]})]})})]})}function Wx(t){return/^401: .*Unauthorized/.test(t.message)}var Uv=["Enter"," "],rX=["ArrowDown","PageUp","Home"],CM=["ArrowUp","PageDown","End"],iX=[...rX,...CM],aX={ltr:[...Uv,"ArrowRight"],rtl:[...Uv,"ArrowLeft"]},oX={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Fh="Menu",[nh,lX,cX]=Gp(Fh),[Nl,TM]=os(Fh,[cX,go,ag]),yg=go(),EM=ag(),[dX,Sl]=Nl(Fh),[uX,Lh]=Nl(Fh),PM=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:i,onOpenChange:a,modal:o=!0}=t,l=yg(e),[c,u]=m.useState(null),h=m.useRef(!1),p=tn(a),f=Th(i);return m.useEffect(()=>{const v=()=>{h.current=!0,document.addEventListener("pointerdown",_,{capture:!0,once:!0}),document.addEventListener("pointermove",_,{capture:!0,once:!0})},_=()=>h.current=!1;return document.addEventListener("keydown",v,{capture:!0}),()=>{document.removeEventListener("keydown",v,{capture:!0}),document.removeEventListener("pointerdown",_,{capture:!0}),document.removeEventListener("pointermove",_,{capture:!0})}},[]),s.jsx(O0,{...l,children:s.jsx(dX,{scope:e,open:n,onOpenChange:p,content:c,onContentChange:u,children:s.jsx(uX,{scope:e,onClose:m.useCallback(()=>p(!1),[p]),isUsingKeyboardRef:h,dir:f,modal:o,children:r})})})};PM.displayName=Fh;var hX="MenuAnchor",dw=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=yg(n);return s.jsx(Ch,{...i,...r,ref:e})});dw.displayName=hX;var uw="MenuPortal",[mX,kM]=Nl(uw,{forceMount:void 0}),AM=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:i}=t,a=Sl(uw,e);return s.jsx(mX,{scope:e,forceMount:n,children:s.jsx(qn,{present:n||a.open,children:s.jsx(ad,{asChild:!0,container:i,children:r})})})};AM.displayName=uw;var ur="MenuContent",[fX,hw]=Nl(ur),IM=m.forwardRef((t,e)=>{const n=kM(ur,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,a=Sl(ur,t.__scopeMenu),o=Lh(ur,t.__scopeMenu);return s.jsx(nh.Provider,{scope:t.__scopeMenu,children:s.jsx(qn,{present:r||a.open,children:s.jsx(nh.Slot,{scope:t.__scopeMenu,children:o.modal?s.jsx(pX,{...i,ref:e}):s.jsx(gX,{...i,ref:e})})})})}),pX=m.forwardRef((t,e)=>{const n=Sl(ur,t.__scopeMenu),r=m.useRef(null),i=ft(e,r);return m.useEffect(()=>{const a=r.current;if(a)return cg(a)},[]),s.jsx(mw,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Te(t.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),gX=m.forwardRef((t,e)=>{const n=Sl(ur,t.__scopeMenu);return s.jsx(mw,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),xX=no("MenuContent.ScrollLock"),mw=m.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:h,onFocusOutside:p,onInteractOutside:f,onDismiss:v,disableOutsideScroll:_,...j}=t,E=Sl(ur,n),N=Lh(ur,n),y=yg(n),w=EM(n),T=lX(n),[O,U]=m.useState(null),A=m.useRef(null),S=ft(e,A,E.onContentChange),g=m.useRef(0),k=m.useRef(""),P=m.useRef(0),I=m.useRef(null),R=m.useRef("right"),Q=m.useRef(0),Ne=_?Ph:m.Fragment,de=_?{as:xX,allowPinchZoom:!0}:void 0,K=z=>{var we,fe;const W=k.current+z,se=T().filter(Y=>!Y.disabled),Ce=document.activeElement,Me=(we=se.find(Y=>Y.ref.current===Ce))==null?void 0:we.textValue,q=se.map(Y=>Y.textValue),ve=PX(q,W,Me),Ue=(fe=se.find(Y=>Y.textValue===ve))==null?void 0:fe.ref.current;(function Y(X){k.current=X,window.clearTimeout(g.current),X!==""&&(g.current=window.setTimeout(()=>Y(""),1e3))})(W),Ue&&setTimeout(()=>Ue.focus())};m.useEffect(()=>()=>window.clearTimeout(g.current),[]),og();const F=m.useCallback(z=>{var se,Ce;return R.current===((se=I.current)==null?void 0:se.side)&&AX(z,(Ce=I.current)==null?void 0:Ce.area)},[]);return s.jsx(fX,{scope:n,searchRef:k,onItemEnter:m.useCallback(z=>{F(z)&&z.preventDefault()},[F]),onItemLeave:m.useCallback(z=>{var W;F(z)||((W=A.current)==null||W.focus(),U(null))},[F]),onTriggerLeave:m.useCallback(z=>{F(z)&&z.preventDefault()},[F]),pointerGraceTimerRef:P,onPointerGraceIntentChange:m.useCallback(z=>{I.current=z},[]),children:s.jsx(Ne,{...de,children:s.jsx(Eh,{asChild:!0,trapped:i,onMountAutoFocus:Te(a,z=>{var W;z.preventDefault(),(W=A.current)==null||W.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:s.jsx(wl,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:h,onFocusOutside:p,onInteractOutside:f,onDismiss:v,children:s.jsx(ZR,{asChild:!0,...w,dir:N.dir,orientation:"vertical",loop:r,currentTabStopId:O,onCurrentTabStopIdChange:U,onEntryFocus:Te(c,z=>{N.isUsingKeyboardRef.current||z.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx(tg,{role:"menu","aria-orientation":"vertical","data-state":GM(E.open),"data-radix-menu-content":"",dir:N.dir,...y,...j,ref:S,style:{outline:"none",...j.style},onKeyDown:Te(j.onKeyDown,z=>{const se=z.target.closest("[data-radix-menu-content]")===z.currentTarget,Ce=z.ctrlKey||z.altKey||z.metaKey,Me=z.key.length===1;se&&(z.key==="Tab"&&z.preventDefault(),!Ce&&Me&&K(z.key));const q=A.current;if(z.target!==q||!iX.includes(z.key))return;z.preventDefault();const Ue=T().filter(we=>!we.disabled).map(we=>we.ref.current);CM.includes(z.key)&&Ue.reverse(),TX(Ue)}),onBlur:Te(t.onBlur,z=>{z.currentTarget.contains(z.target)||(window.clearTimeout(g.current),k.current="")}),onPointerMove:Te(t.onPointerMove,sh(z=>{const W=z.target,se=Q.current!==z.clientX;if(z.currentTarget.contains(W)&&se){const Ce=z.clientX>Q.current?"right":"left";R.current=Ce,Q.current=z.clientX}}))})})})})})})});IM.displayName=ur;var yX="MenuGroup",fw=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return s.jsx(Ye.div,{role:"group",...r,ref:e})});fw.displayName=yX;var vX="MenuLabel",RM=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return s.jsx(Ye.div,{...r,ref:e})});RM.displayName=vX;var mp="MenuItem",$S="menu.itemSelect",vg=m.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...i}=t,a=m.useRef(null),o=Lh(mp,t.__scopeMenu),l=hw(mp,t.__scopeMenu),c=ft(e,a),u=m.useRef(!1),h=()=>{const p=a.current;if(!n&&p){const f=new CustomEvent($S,{bubbles:!0,cancelable:!0});p.addEventListener($S,v=>r==null?void 0:r(v),{once:!0}),p0(p,f),f.defaultPrevented?u.current=!1:o.onClose()}};return s.jsx(DM,{...i,ref:c,disabled:n,onClick:Te(t.onClick,h),onPointerDown:p=>{var f;(f=t.onPointerDown)==null||f.call(t,p),u.current=!0},onPointerUp:Te(t.onPointerUp,p=>{var f;u.current||(f=p.currentTarget)==null||f.click()}),onKeyDown:Te(t.onKeyDown,p=>{const f=l.searchRef.current!=="";n||f&&p.key===" "||Uv.includes(p.key)&&(p.currentTarget.click(),p.preventDefault())})})});vg.displayName=mp;var DM=m.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...a}=t,o=hw(mp,n),l=EM(n),c=m.useRef(null),u=ft(e,c),[h,p]=m.useState(!1),[f,v]=m.useState("");return m.useEffect(()=>{const _=c.current;_&&v((_.textContent??"").trim())},[a.children]),s.jsx(nh.ItemSlot,{scope:n,disabled:r,textValue:i??f,children:s.jsx(JR,{asChild:!0,...l,focusable:!r,children:s.jsx(Ye.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...a,ref:u,onPointerMove:Te(t.onPointerMove,sh(_=>{r?o.onItemLeave(_):(o.onItemEnter(_),_.defaultPrevented||_.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Te(t.onPointerLeave,sh(_=>o.onItemLeave(_))),onFocus:Te(t.onFocus,()=>p(!0)),onBlur:Te(t.onBlur,()=>p(!1))})})})}),jX="MenuCheckboxItem",MM=m.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...i}=t;return s.jsx(VM,{scope:t.__scopeMenu,checked:n,children:s.jsx(vg,{role:"menuitemcheckbox","aria-checked":fp(n)?"mixed":n,...i,ref:e,"data-state":gw(n),onSelect:Te(i.onSelect,()=>r==null?void 0:r(fp(n)?!0:!n),{checkForDefaultPrevented:!1})})})});MM.displayName=jX;var OM="MenuRadioGroup",[wX,bX]=Nl(OM,{value:void 0,onValueChange:()=>{}}),FM=m.forwardRef((t,e)=>{const{value:n,onValueChange:r,...i}=t,a=tn(r);return s.jsx(wX,{scope:t.__scopeMenu,value:n,onValueChange:a,children:s.jsx(fw,{...i,ref:e})})});FM.displayName=OM;var LM="MenuRadioItem",UM=m.forwardRef((t,e)=>{const{value:n,...r}=t,i=bX(LM,t.__scopeMenu),a=n===i.value;return s.jsx(VM,{scope:t.__scopeMenu,checked:a,children:s.jsx(vg,{role:"menuitemradio","aria-checked":a,...r,ref:e,"data-state":gw(a),onSelect:Te(r.onSelect,()=>{var o;return(o=i.onValueChange)==null?void 0:o.call(i,n)},{checkForDefaultPrevented:!1})})})});UM.displayName=LM;var pw="MenuItemIndicator",[VM,NX]=Nl(pw,{checked:!1}),$M=m.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...i}=t,a=NX(pw,n);return s.jsx(qn,{present:r||fp(a.checked)||a.checked===!0,children:s.jsx(Ye.span,{...i,ref:e,"data-state":gw(a.checked)})})});$M.displayName=pw;var SX="MenuSeparator",zM=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return s.jsx(Ye.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});zM.displayName=SX;var _X="MenuArrow",BM=m.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=yg(n);return s.jsx(ng,{...i,...r,ref:e})});BM.displayName=_X;var CX="MenuSub",[pne,qM]=Nl(CX),Zd="MenuSubTrigger",HM=m.forwardRef((t,e)=>{const n=Sl(Zd,t.__scopeMenu),r=Lh(Zd,t.__scopeMenu),i=qM(Zd,t.__scopeMenu),a=hw(Zd,t.__scopeMenu),o=m.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=a,u={__scopeMenu:t.__scopeMenu},h=m.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return m.useEffect(()=>h,[h]),m.useEffect(()=>{const p=l.current;return()=>{window.clearTimeout(p),c(null)}},[l,c]),s.jsx(dw,{asChild:!0,...u,children:s.jsx(DM,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":GM(n.open),...t,ref:Kp(e,i.onTriggerChange),onClick:p=>{var f;(f=t.onClick)==null||f.call(t,p),!(t.disabled||p.defaultPrevented)&&(p.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Te(t.onPointerMove,sh(p=>{a.onItemEnter(p),!p.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(a.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),h()},100))})),onPointerLeave:Te(t.onPointerLeave,sh(p=>{var v,_;h();const f=(v=n.content)==null?void 0:v.getBoundingClientRect();if(f){const j=(_=n.content)==null?void 0:_.dataset.side,E=j==="right",N=E?-5:5,y=f[E?"left":"right"],w=f[E?"right":"left"];a.onPointerGraceIntentChange({area:[{x:p.clientX+N,y:p.clientY},{x:y,y:f.top},{x:w,y:f.top},{x:w,y:f.bottom},{x:y,y:f.bottom}],side:j}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(p),p.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:Te(t.onKeyDown,p=>{var v;const f=a.searchRef.current!=="";t.disabled||f&&p.key===" "||aX[r.dir].includes(p.key)&&(n.onOpenChange(!0),(v=n.content)==null||v.focus(),p.preventDefault())})})})});HM.displayName=Zd;var WM="MenuSubContent",KM=m.forwardRef((t,e)=>{const n=kM(ur,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,a=Sl(ur,t.__scopeMenu),o=Lh(ur,t.__scopeMenu),l=qM(WM,t.__scopeMenu),c=m.useRef(null),u=ft(e,c);return s.jsx(nh.Provider,{scope:t.__scopeMenu,children:s.jsx(qn,{present:r||a.open,children:s.jsx(nh.Slot,{scope:t.__scopeMenu,children:s.jsx(mw,{id:l.contentId,"aria-labelledby":l.triggerId,...i,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{var p;o.isUsingKeyboardRef.current&&((p=c.current)==null||p.focus()),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:Te(t.onFocusOutside,h=>{h.target!==l.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:Te(t.onEscapeKeyDown,h=>{o.onClose(),h.preventDefault()}),onKeyDown:Te(t.onKeyDown,h=>{var v;const p=h.currentTarget.contains(h.target),f=oX[o.dir].includes(h.key);p&&f&&(a.onOpenChange(!1),(v=l.trigger)==null||v.focus(),h.preventDefault())})})})})})});KM.displayName=WM;function GM(t){return t?"open":"closed"}function fp(t){return t==="indeterminate"}function gw(t){return fp(t)?"indeterminate":t?"checked":"unchecked"}function TX(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function EX(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function PX(t,e,n){const i=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,a=n?t.indexOf(n):-1;let o=EX(t,Math.max(a,0));i.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function kX(t,e){const{x:n,y:r}=t;let i=!1;for(let a=0,o=e.length-1;a<e.length;o=a++){const l=e[a].x,c=e[a].y,u=e[o].x,h=e[o].y;c>r!=h>r&&n<(u-l)*(r-c)/(h-c)+l&&(i=!i)}return i}function AX(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return kX(n,e)}function sh(t){return e=>e.pointerType==="mouse"?t(e):void 0}var IX=PM,RX=dw,DX=AM,MX=IM,OX=fw,FX=RM,LX=vg,UX=MM,VX=FM,$X=UM,zX=$M,BX=zM,qX=BM,HX=HM,WX=KM,xw="DropdownMenu",[KX,gne]=os(xw,[TM]),Ns=TM(),[GX,QM]=KX(xw),YM=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:i,defaultOpen:a,onOpenChange:o,modal:l=!0}=t,c=Ns(e),u=m.useRef(null),[h=!1,p]=yi({prop:i,defaultProp:a,onChange:o});return s.jsx(GX,{scope:e,triggerId:Vr(),triggerRef:u,contentId:Vr(),open:h,onOpenChange:p,onOpenToggle:m.useCallback(()=>p(f=>!f),[p]),modal:l,children:s.jsx(IX,{...c,open:h,onOpenChange:p,dir:r,modal:l,children:n})})};YM.displayName=xw;var XM="DropdownMenuTrigger",ZM=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=t,a=QM(XM,n),o=Ns(n);return s.jsx(RX,{asChild:!0,...o,children:s.jsx(Ye.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:Kp(e,a.triggerRef),onPointerDown:Te(t.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(a.onOpenToggle(),a.open||l.preventDefault())}),onKeyDown:Te(t.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&a.onOpenToggle(),l.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});ZM.displayName=XM;var QX="DropdownMenuPortal",JM=t=>{const{__scopeDropdownMenu:e,...n}=t,r=Ns(e);return s.jsx(DX,{...r,...n})};JM.displayName=QX;var eO="DropdownMenuContent",tO=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=QM(eO,n),a=Ns(n),o=m.useRef(!1);return s.jsx(MX,{id:i.contentId,"aria-labelledby":i.triggerId,...a,...r,ref:e,onCloseAutoFocus:Te(t.onCloseAutoFocus,l=>{var c;o.current||(c=i.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:Te(t.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,h=c.button===2||u;(!i.modal||h)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});tO.displayName=eO;var YX="DropdownMenuGroup",XX=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Ns(n);return s.jsx(OX,{...i,...r,ref:e})});XX.displayName=YX;var ZX="DropdownMenuLabel",nO=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Ns(n);return s.jsx(FX,{...i,...r,ref:e})});nO.displayName=ZX;var JX="DropdownMenuItem",sO=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Ns(n);return s.jsx(LX,{...i,...r,ref:e})});sO.displayName=JX;var eZ="DropdownMenuCheckboxItem",rO=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Ns(n);return s.jsx(UX,{...i,...r,ref:e})});rO.displayName=eZ;var tZ="DropdownMenuRadioGroup",nZ=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Ns(n);return s.jsx(VX,{...i,...r,ref:e})});nZ.displayName=tZ;var sZ="DropdownMenuRadioItem",iO=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Ns(n);return s.jsx($X,{...i,...r,ref:e})});iO.displayName=sZ;var rZ="DropdownMenuItemIndicator",aO=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Ns(n);return s.jsx(zX,{...i,...r,ref:e})});aO.displayName=rZ;var iZ="DropdownMenuSeparator",oO=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Ns(n);return s.jsx(BX,{...i,...r,ref:e})});oO.displayName=iZ;var aZ="DropdownMenuArrow",oZ=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Ns(n);return s.jsx(qX,{...i,...r,ref:e})});oZ.displayName=aZ;var lZ="DropdownMenuSubTrigger",lO=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Ns(n);return s.jsx(HX,{...i,...r,ref:e})});lO.displayName=lZ;var cZ="DropdownMenuSubContent",cO=m.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Ns(n);return s.jsx(WX,{...i,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});cO.displayName=cZ;var dZ=YM,uZ=ZM,hZ=JM,dO=tO,uO=nO,hO=sO,mO=rO,fO=iO,pO=aO,gO=oO,xO=lO,yO=cO;const Jd=dZ,eu=uZ,mZ=m.forwardRef(({className:t,inset:e,children:n,...r},i)=>s.jsxs(xO,{ref:i,className:Re("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...r,children:[n,s.jsx(b0,{className:"ml-auto"})]}));mZ.displayName=xO.displayName;const fZ=m.forwardRef(({className:t,...e},n)=>s.jsx(yO,{ref:n,className:Re("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...e}));fZ.displayName=yO.displayName;const Jl=m.forwardRef(({className:t,sideOffset:e=4,...n},r)=>s.jsx(hZ,{children:s.jsx(dO,{ref:r,sideOffset:e,className:Re("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...n})}));Jl.displayName=dO.displayName;const us=m.forwardRef(({className:t,inset:e,...n},r)=>s.jsx(hO,{ref:r,className:Re("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...n}));us.displayName=hO.displayName;const pZ=m.forwardRef(({className:t,children:e,checked:n,...r},i)=>s.jsxs(mO,{ref:i,className:Re("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(pO,{children:s.jsx(Ts,{className:"h-4 w-4"})})}),e]}));pZ.displayName=mO.displayName;const gZ=m.forwardRef(({className:t,children:e,...n},r)=>s.jsxs(fO,{ref:r,className:Re("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(pO,{children:s.jsx(gq,{className:"h-2 w-2 fill-current"})})}),e]}));gZ.displayName=fO.displayName;const xZ=m.forwardRef(({className:t,inset:e,...n},r)=>s.jsx(uO,{ref:r,className:Re("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));xZ.displayName=uO.displayName;const vO=m.forwardRef(({className:t,...e},n)=>s.jsx(gO,{ref:n,className:Re("-mx-1 my-1 h-px bg-muted",t),...e}));vO.displayName=gO.displayName;const yZ=G.object({name:G.string().min(1,"Folder name is required"),description:G.string().optional(),parentFolderId:G.string().optional()}),vZ=G.object({title:G.string().min(1,"Document title is required"),description:G.string().optional(),type:G.string().min(1,"Document type is required"),tags:G.string().optional(),folderId:G.string().optional()});function jZ(){const{user:t,isAuthenticated:e,isLoading:n}=xr(),{toast:r}=xn(),[i,a]=m.useState(null),[o,l]=m.useState(""),[c,u]=m.useState([]),[h,p]=m.useState(!1),[f,v]=m.useState(!1),[_,j]=m.useState([]),[E,N]=m.useState([]),[y,w]=m.useState({folders:[],documents:[]}),[T,O]=m.useState(!1),[U,A]=m.useState(null);m.useState(!1);const{data:S=[]}=ot({queryKey:["/api/strata"],enabled:e}),g=Array.isArray(S)&&S.length>0?S[0]:null,k=kn({resolver:An(yZ),defaultValues:{name:"",description:"",parentFolderId:i||void 0}}),P=kn({resolver:An(vZ),defaultValues:{title:"",description:"",type:"",tags:"",folderId:i||void 0}}),I=async()=>{if(g!=null&&g.id){O(!0);try{const q=new URLSearchParams;i&&q.set("parent",i);const Ue=await(await Be("GET",`/api/strata/${g.id}/document-folders?${q}`)).json();j(Ue||[])}catch(q){console.error("Error fetching folders:",q),j([])}finally{O(!1)}}},R=async()=>{if(g!=null&&g.id){O(!0);try{const q=new URLSearchParams;i&&q.set("folder",i),o&&q.set("search",o);const Ue=await(await Be("GET",`/api/strata/${g.id}/documents?${q}`)).json();N(Ue||[])}catch(q){console.error("Error fetching documents:",q),N([])}finally{O(!1)}}},Q=async()=>{if(!(g!=null&&g.id)||!o){w({folders:[],documents:[]});return}try{const q=await fetch(`/api/strata/${g.id}/search?q=${encodeURIComponent(o)}`);if(q.ok){const ve=await q.json();w(ve)}}catch(q){console.error("Error searching:",q)}},Ne=ze({mutationFn:async q=>await Be("POST",`/api/strata/${g==null?void 0:g.id}/document-folders`,{...q,parentFolderId:i}),onSuccess:()=>{r({title:"Success",description:"Folder created successfully"}),I(),p(!1),k.reset()},onError:q=>{if(q.message.includes("401")){r({title:"Unauthorized",description:"You are logged out. Logging in again...",variant:"destructive"}),setTimeout(()=>window.location.href="/api/login",500);return}r({title:"Error",description:"Failed to create folder",variant:"destructive"})}}),de=ze({mutationFn:async q=>{if(!U)throw new Error("No file selected");const ve=new FormData;ve.append("file",U),ve.append("title",q.title),ve.append("type",q.type),q.description&&ve.append("description",q.description),q.tags&&ve.append("tags",q.tags),i&&ve.append("folderId",i),console.log("🚨 Using emergency upload route");const Ue=await Be("POST",`/api/emergency-upload/${g==null?void 0:g.id}`,ve);if(!Ue.ok){const we=await Ue.json();throw new Error(we.message||"Failed to create document")}return Ue.json()},onSuccess:()=>{r({title:"Success",description:"Document uploaded successfully"}),R(),v(!1),A(null),P.reset()},onError:q=>{if(Wx(q)){r({title:"Unauthorized",description:"You are logged out. Logging in again...",variant:"destructive"}),setTimeout(()=>window.location.href="/api/login",500);return}r({title:"Error",description:"Failed to upload document",variant:"destructive"})}}),K=ze({mutationFn:async q=>{const ve=await Be("DELETE",`/api/document-folders/${q}`);if(!ve.ok)throw new Error("Failed to delete folder");return ve.json()},onSuccess:()=>{r({title:"Success",description:"Folder deleted successfully"}),I()},onError:q=>{if(Wx(q)){r({title:"Unauthorized",description:"You are logged out. Logging in again...",variant:"destructive"}),setTimeout(()=>window.location.href="/api/login",500);return}r({title:"Error",description:"Failed to delete folder",variant:"destructive"})}}),F=ze({mutationFn:async q=>{const ve=await Be("DELETE",`/api/documents/${q}`);if(!ve.ok)throw new Error("Failed to delete document");return ve.json()},onSuccess:()=>{r({title:"Success",description:"Document deleted successfully"}),R()},onError:q=>{if(Wx(q)){r({title:"Unauthorized",description:"You are logged out. Logging in again...",variant:"destructive"}),setTimeout(()=>window.location.href="/api/login",500);return}r({title:"Error",description:"Failed to delete document",variant:"destructive"})}});m.useEffect(()=>{g!=null&&g.id&&(I(),R())},[g==null?void 0:g.id,i]),m.useEffect(()=>{o?Q():w({folders:[],documents:[]})},[o,g==null?void 0:g.id]);const z=q=>{a(q.id);const ve=[...c],Ue=ve.findIndex(we=>we.id===q.id);Ue>=0?u(ve.slice(0,Ue+1)):(ve.push(q),u(ve))},W=()=>{a(null),u([])},se=q=>{if(q===-1)W();else{const ve=c[q];a(ve.id),u(c.slice(0,q+1))}};if(m.useEffect(()=>{!n&&!e&&(r({title:"Unauthorized",description:"You are logged out. Logging in again...",variant:"destructive"}),setTimeout(()=>window.location.href="/api/login",500))},[e,n,r]),n||!e)return s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900 mx-auto"}),s.jsx("p",{className:"mt-2 text-muted-foreground",children:"Loading document library..."})]})});const Ce=q=>{if(!q)return"Unknown size";const ve=["Bytes","KB","MB","GB"],Ue=Math.floor(Math.log(q)/Math.log(1024));return Math.round(q/Math.pow(1024,Ue)*100)/100+" "+ve[Ue]},Me=q=>q?q.includes("pdf")?Vt:q.includes("image")||q.includes("video")?Nn:eS:eS;return s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Document Library"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Secure storage and management of important documents"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(ut,{open:h,onOpenChange:p,children:[s.jsx(Fn,{asChild:!0,children:s.jsxs($,{variant:"outline",children:[s.jsx(tS,{className:"mr-2 h-4 w-4"}),"New Folder"]})}),s.jsxs(ct,{children:[s.jsx(ht,{children:s.jsx(mt,{children:"Create New Folder"})}),s.jsx(ln,{...k,children:s.jsxs("form",{onSubmit:k.handleSubmit(q=>Ne.mutate(q)),className:"space-y-4",children:[s.jsx(oe,{control:k.control,name:"name",render:({field:q})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Folder Name"}),s.jsx(le,{children:s.jsx(re,{placeholder:"Enter folder name",...q})}),s.jsx(ce,{})]})}),s.jsx(oe,{control:k.control,name:"description",render:({field:q})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Description (Optional)"}),s.jsx(le,{children:s.jsx($t,{placeholder:"Enter folder description",...q})}),s.jsx(ce,{})]})}),s.jsxs("div",{className:"flex gap-2 justify-end",children:[s.jsx($,{type:"button",variant:"outline",onClick:()=>p(!1),children:"Cancel"}),s.jsx($,{type:"submit",disabled:Ne.isPending,children:Ne.isPending?"Creating...":"Create Folder"})]})]})})]})]}),s.jsxs(ut,{open:f,onOpenChange:v,children:[s.jsx(Fn,{asChild:!0,children:s.jsxs($,{className:"bg-secondary hover:bg-secondary/90",children:[s.jsx(mc,{className:"mr-2 h-4 w-4"}),"Upload Document"]})}),s.jsxs(ct,{className:"max-w-2xl",children:[s.jsx(ht,{children:s.jsx(mt,{children:"Upload Document"})}),s.jsx(ln,{...P,children:s.jsxs("form",{onSubmit:P.handleSubmit(q=>{if(!U){r({title:"Error",description:"Please select a file to upload",variant:"destructive"});return}de.mutate(q)}),className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(oe,{control:P.control,name:"title",render:({field:q})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Document Title"}),s.jsx(le,{children:s.jsx(re,{placeholder:"Enter document title",...q})}),s.jsx(ce,{})]})}),s.jsx(oe,{control:P.control,name:"type",render:({field:q})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Document Type"}),s.jsxs(tt,{onValueChange:q.onChange,defaultValue:q.value,children:[s.jsx(le,{children:s.jsx(Ze,{children:s.jsx(nt,{placeholder:"Select type"})})}),s.jsxs(Je,{children:[s.jsx(V,{value:"financial",children:"Financial"}),s.jsx(V,{value:"legal",children:"Legal"}),s.jsx(V,{value:"maintenance",children:"Maintenance"}),s.jsx(V,{value:"meeting",children:"Meeting"}),s.jsx(V,{value:"policy",children:"Policy"}),s.jsx(V,{value:"insurance",children:"Insurance"}),s.jsx(V,{value:"contract",children:"Contract"}),s.jsx(V,{value:"other",children:"Other"})]})]}),s.jsx(ce,{})]})})]}),s.jsx(oe,{control:P.control,name:"description",render:({field:q})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Description (Optional)"}),s.jsx(le,{children:s.jsx($t,{placeholder:"Enter document description",...q})}),s.jsx(ce,{})]})}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Choose File"}),s.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-gray-400 transition-colors",onDragOver:q=>{q.preventDefault(),q.currentTarget.classList.add("border-blue-400","bg-blue-50")},onDragLeave:q=>{q.preventDefault(),q.currentTarget.classList.remove("border-blue-400","bg-blue-50")},onDrop:q=>{var Ue;q.preventDefault(),q.currentTarget.classList.remove("border-blue-400","bg-blue-50");const ve=(Ue=q.dataTransfer.files)==null?void 0:Ue[0];if(ve){if(ve.size>10*1024*1024){r({title:"Error",description:"File size must be less than 10MB",variant:"destructive"});return}A(ve),P.getValues("title")||P.setValue("title",ve.name.split(".")[0])}},children:[s.jsx("input",{type:"file",onChange:q=>{var Ue;const ve=(Ue=q.target.files)==null?void 0:Ue[0];if(ve){if(ve.size>10*1024*1024){r({title:"Error",description:"File size must be less than 10MB",variant:"destructive"});return}A(ve),P.getValues("title")||P.setValue("title",ve.name.split(".")[0])}},className:"hidden",id:"file-upload",accept:".pdf,.doc,.docx,.txt,.png,.jpg,.jpeg,.gif,.xls,.xlsx,.csv"}),s.jsxs("label",{htmlFor:"file-upload",className:"cursor-pointer block",children:[s.jsx(mc,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),U?s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-sm font-medium text-green-600",children:U.name}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[Ce(U.size)," • ",U.type]}),s.jsxs($,{type:"button",variant:"outline",size:"sm",onClick:q=>{q.preventDefault(),A(null)},className:"mt-2",children:[s.jsx(mi,{className:"h-4 w-4 mr-1"}),"Remove"]})]}):s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:"Click to upload or drag and drop"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"PDF, DOC, TXT, images, or spreadsheets up to 10MB"})]})]})]})]})}),s.jsx(oe,{control:P.control,name:"tags",render:({field:q})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Tags (Optional)"}),s.jsx(le,{children:s.jsx(re,{placeholder:"budget, 2024, financial (comma separated)",...q})}),s.jsx(ce,{})]})}),s.jsxs("div",{className:"flex gap-2 justify-end",children:[s.jsx($,{type:"button",variant:"outline",onClick:()=>{v(!1),A(null),P.reset()},children:"Cancel"}),s.jsx($,{type:"submit",disabled:de.isPending||!U,children:de.isPending?"Uploading...":"Upload Document"})]})]})})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Gf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),s.jsx(re,{placeholder:"Search documents and folders...",value:o,onChange:q=>l(q.target.value),className:"pl-10"}),o&&s.jsx($,{variant:"ghost",size:"sm",className:"absolute right-2 top-1/2 transform -translate-y-1/2 h-6 w-6 p-0",onClick:()=>l(""),children:s.jsx(mi,{className:"h-4 w-4"})})]}),!o&&s.jsxs("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground",children:[s.jsx($,{variant:"ghost",size:"sm",onClick:W,className:"p-1 h-auto",children:s.jsx(Sh,{className:"h-4 w-4"})}),c.map((q,ve)=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(b0,{className:"h-4 w-4"}),s.jsx($,{variant:"ghost",size:"sm",onClick:()=>se(ve),className:"p-1 h-auto",children:q.name})]},q.id))]})]}),s.jsx("div",{className:"grid gap-6",children:o?s.jsxs("div",{className:"space-y-6",children:[y.folders.length>0&&s.jsxs(ge,{children:[s.jsx(Ge,{children:s.jsxs(Qe,{className:"flex items-center gap-2",children:[s.jsx(Ol,{className:"h-5 w-5"}),"Folders (",y.folders.length,")"]})}),s.jsx(be,{children:s.jsx("div",{className:"grid gap-3",children:y.folders.map(q=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-muted/50 cursor-pointer transition-colors",onClick:()=>z(q),children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Ol,{className:"h-5 w-5 text-blue-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:q.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:q.path})]})]}),s.jsxs(Jd,{children:[s.jsx(eu,{asChild:!0,children:s.jsx($,{variant:"ghost",size:"sm",onClick:ve=>ve.stopPropagation(),children:s.jsx(Gd,{className:"h-4 w-4"})})}),s.jsxs(Jl,{children:[s.jsxs(us,{onClick:ve=>{ve.stopPropagation(),z(q)},children:[s.jsx(Nn,{className:"mr-2 h-4 w-4"}),"Open"]}),s.jsxs(us,{className:"text-destructive",onClick:ve=>{ve.stopPropagation(),K.mutate(q.id)},children:[s.jsx(Un,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})]},q.id))})})]}),y.documents.length>0&&s.jsxs(ge,{children:[s.jsx(Ge,{children:s.jsxs(Qe,{className:"flex items-center gap-2",children:[s.jsx(Vt,{className:"h-5 w-5"}),"Documents (",y.documents.length,")"]})}),s.jsx(be,{children:s.jsx("div",{className:"grid gap-3",children:y.documents.map(q=>{const ve=Me(q.mimeType);return s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-muted/50 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ve,{className:"h-5 w-5 text-gray-500"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium",children:q.title}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[s.jsx("span",{children:q.fileName}),s.jsx("span",{children:Ce(q.fileSize)}),s.jsxs("span",{children:["v",q.version]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(ss,{className:"h-3 w-3"}),new Date(q.createdAt).toLocaleDateString()]})]}),q.tags&&q.tags.length>0&&s.jsx("div",{className:"flex gap-1 mt-1",children:q.tags.map(Ue=>s.jsx(He,{variant:"secondary",className:"text-xs",children:Ue},Ue))})]})]}),s.jsxs(Jd,{children:[s.jsx(eu,{asChild:!0,children:s.jsx($,{variant:"ghost",size:"sm",children:s.jsx(Gd,{className:"h-4 w-4"})})}),s.jsxs(Jl,{children:[s.jsxs(us,{onClick:()=>window.open(q.fileUrl,"_blank"),children:[s.jsx(Nn,{className:"mr-2 h-4 w-4"}),"View"]}),s.jsxs(us,{onClick:()=>window.open(q.fileUrl,"_blank"),children:[s.jsx(Hc,{className:"mr-2 h-4 w-4"}),"Download"]}),s.jsxs(us,{className:"text-destructive",onClick:()=>F.mutate(q.id),children:[s.jsx(Un,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})]},q.id)})})})]}),y.folders.length===0&&y.documents.length===0&&s.jsx(ge,{children:s.jsxs(be,{className:"text-center py-8",children:[s.jsx(Gf,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground opacity-50"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No results found"}),s.jsx("p",{className:"text-muted-foreground",children:"Try adjusting your search terms or browse folders directly."})]})})]}):s.jsxs("div",{className:"grid gap-6",children:[_.length>0&&s.jsxs(ge,{children:[s.jsx(Ge,{children:s.jsxs(Qe,{className:"flex items-center gap-2",children:[s.jsx(Ol,{className:"h-5 w-5"}),"Folders (",_.length,")"]})}),s.jsx(be,{children:s.jsx("div",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-3",children:_.map(q=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50 cursor-pointer transition-colors group",onClick:()=>z(q),children:[s.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[s.jsx(Ol,{className:"h-6 w-6 text-blue-500"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium truncate",children:q.name}),q.description&&s.jsx("p",{className:"text-sm text-muted-foreground truncate",children:q.description})]})]}),s.jsxs(Jd,{children:[s.jsx(eu,{asChild:!0,children:s.jsx($,{variant:"ghost",size:"sm",className:"opacity-0 group-hover:opacity-100 transition-opacity",onClick:ve=>ve.stopPropagation(),children:s.jsx(Gd,{className:"h-4 w-4"})})}),s.jsxs(Jl,{children:[s.jsxs(us,{onClick:ve=>{ve.stopPropagation(),z(q)},children:[s.jsx(Nn,{className:"mr-2 h-4 w-4"}),"Open"]}),s.jsxs(us,{className:"text-destructive",onClick:ve=>{ve.stopPropagation(),K.mutate(q.id)},children:[s.jsx(Un,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})]},q.id))})})]}),E.length>0&&s.jsxs(ge,{children:[s.jsx(Ge,{children:s.jsxs(Qe,{className:"flex items-center gap-2",children:[s.jsx(Vt,{className:"h-5 w-5"}),"Documents (",E.length,")"]})}),s.jsx(be,{children:s.jsx("div",{className:"space-y-3",children:E.map(q=>{const ve=Me(q.mimeType);return s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50 transition-colors group",children:[s.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[s.jsx(ve,{className:"h-6 w-6 text-gray-500"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium",children:q.title}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[s.jsx("span",{children:q.fileName}),s.jsx("span",{children:Ce(q.fileSize)}),s.jsxs("span",{children:["v",q.version]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(ss,{className:"h-3 w-3"}),new Date(q.createdAt).toLocaleDateString()]})]}),q.tags&&q.tags.length>0&&s.jsx("div",{className:"flex gap-1 mt-2",children:q.tags.map(Ue=>s.jsx(He,{variant:"secondary",className:"text-xs",children:Ue},Ue))})]})]}),s.jsxs(Jd,{children:[s.jsx(eu,{asChild:!0,children:s.jsx($,{variant:"ghost",size:"sm",className:"opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx(Gd,{className:"h-4 w-4"})})}),s.jsxs(Jl,{children:[s.jsxs(us,{onClick:()=>window.open(q.fileUrl,"_blank"),children:[s.jsx(Nn,{className:"mr-2 h-4 w-4"}),"View"]}),s.jsxs(us,{onClick:()=>window.open(q.fileUrl,"_blank"),children:[s.jsx(Hc,{className:"mr-2 h-4 w-4"}),"Download"]}),s.jsxs(us,{className:"text-destructive",onClick:()=>F.mutate(q.id),children:[s.jsx(Un,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})]},q.id)})})})]}),_.length===0&&E.length===0&&!T&&s.jsx(ge,{children:s.jsxs(be,{className:"text-center py-12",children:[s.jsx(Ol,{className:"h-16 w-16 mx-auto mb-4 text-muted-foreground opacity-50"}),s.jsx("h3",{className:"text-xl font-semibold mb-2",children:i?"This folder is empty":"No documents yet"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:i?"Create folders or upload documents to organize your files here.":"Get started by creating folders to organize your documents or upload your first document."}),s.jsxs("div",{className:"flex gap-3 justify-center",children:[s.jsxs($,{variant:"outline",onClick:()=>p(!0),children:[s.jsx(tS,{className:"mr-2 h-4 w-4"}),"Create Folder"]}),s.jsxs($,{onClick:()=>v(!0),className:"bg-secondary hover:bg-secondary/90",children:[s.jsx(mc,{className:"mr-2 h-4 w-4"}),"Upload Document"]})]})]})}),T&&s.jsx(ge,{children:s.jsxs(be,{className:"text-center py-12",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900 mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})})]})})]})}function wZ(){const[t,e]=m.useState(!1),[n,r]=m.useState(null),[i,a]=m.useState(!1),[o,l]=m.useState(0),[c,u]=m.useState(null),[h,p]=m.useState(!1),[f,v]=m.useState(!1),[_,j]=m.useState(null),E=m.useRef(null),N=m.useRef([]),y=m.useRef(null),w=as(),{toast:T}=xn(),{selectedStrataId:O,selectedStrata:U,isLoading:A}=ra(),[S]=fo();m.useEffect(()=>{new URLSearchParams(S.split("?")[1]||"").get("action")==="schedule"&&(e(!0),r(null),window.history.replaceState({},document.title,"/meetings"))},[S]);const{data:g=[],isLoading:k}=ot({queryKey:[`/api/strata/${O}/meetings`],enabled:!!O}),P=g.filter(X=>X.id!=="NYMz1ZhyBdpqrMk7Ipep"),{data:I=[]}=ot({queryKey:[`/api/strata/${O}/users`],enabled:!!O}),R=ze({mutationFn:async X=>(await Be("POST",`/api/strata/${O}/meetings`,X)).json(),onSuccess:()=>{w.invalidateQueries({queryKey:[`/api/strata/${O}/meetings`]}),e(!1),r(null),T({title:"Success",description:"Meeting created successfully"})},onError:()=>{T({title:"Error",description:"Failed to create meeting",variant:"destructive"})}}),Q=ze({mutationFn:async X=>(await Be("PATCH",`/api/meetings/${n==null?void 0:n.id}`,X)).json(),onSuccess:()=>{w.invalidateQueries({queryKey:[`/api/strata/${U}/meetings`]}),e(!1),p(!1),r(null),T({title:"Success",description:"Meeting updated successfully"})},onError:()=>{T({title:"Error",description:"Failed to update meeting",variant:"destructive"})}}),Ne=ze({mutationFn:async({id:X,minutes:je})=>(await Be("PATCH",`/api/meetings/${X}`,{minutes:je})).json(),onSuccess:X=>{w.invalidateQueries({queryKey:[`/api/strata/${O}/meetings`]}),c&&u({...c,minutes:X.minutes}),T({title:"Success",description:"Meeting minutes saved successfully"})},onError:()=>{T({title:"Error",description:"Failed to save meeting minutes",variant:"destructive"})}}),de=ze({mutationFn:async X=>(await Be("DELETE",`/api/meetings/${X}`)).json(),onSuccess:()=>{w.invalidateQueries({queryKey:[`/api/strata/${O}/meetings`]}),T({title:"Success",description:"Meeting deleted successfully"})},onError:()=>{T({title:"Error",description:"Failed to delete meeting",variant:"destructive"})}}),K=ze({mutationFn:async({meetingId:X,audioBlob:je})=>{console.log("🎙️ Starting audio upload for meeting:",X),console.log("📊 Audio blob size:",je.size);const Oe=new FormData;return Oe.append("audio",je,"recording.wav"),(await Be("POST",`/api/meetings/${X}/upload-audio`,Oe)).json()},onSuccess:X=>{w.invalidateQueries({queryKey:[`/api/strata/${U}/meetings`]}),T({title:"Audio Transcribed",description:"Audio uploaded and transcribed successfully. Generating meeting minutes..."}),c!=null&&c.id&&F.mutate(c.id)},onError:X=>{console.error("Upload error:",X),T({title:"Transcription Failed",description:X.message||"Failed to transcribe audio",variant:"destructive"})}}),F=ze({mutationFn:async X=>(await Be("POST",`/api/meetings/${X}/generate-minutes`)).json(),onSuccess:X=>{w.invalidateQueries({queryKey:[`/api/strata/${O}/meetings`]}),T({title:"Minutes Generated",description:"AI-powered meeting minutes have been created and are ready for review."})},onError:X=>{console.error("Minutes generation error:",X),T({title:"Minutes Generation Failed",description:"Failed to generate meeting minutes",variant:"destructive"})}}),z=async()=>{try{const X=await navigator.mediaDevices.getUserMedia({audio:!0}),je=new MediaRecorder(X);E.current=je,N.current=[],je.ondataavailable=Oe=>{Oe.data.size>0&&N.current.push(Oe.data)},je.start(),a(!0),l(0),y.current=setInterval(()=>{l(Oe=>Oe+1)},1e3),T({title:"Recording started",description:"Audio recording is now active"})}catch{T({title:"Error",description:"Could not access microphone",variant:"destructive"})}},W=()=>{E.current&&i&&(E.current.stop(),a(!1),y.current&&clearInterval(y.current),E.current.onstop=()=>{const X=new Blob(N.current,{type:"audio/wav"});se(X)},T({title:"Recording stopped",description:"Processing audio..."}))},se=async X=>{if(!(c!=null&&c.id)){T({title:"Error",description:"No meeting selected for recording",variant:"destructive"});return}K.mutate({meetingId:c.id,audioBlob:X})},Ce=X=>{X.preventDefault();const je=new FormData(X.currentTarget),Oe=je.get("meetingDate"),lt=je.getAll("invitees"),Dt={title:je.get("title"),description:je.get("description"),meetingType:je.get("meetingType"),meetingDate:new Date(Oe).toISOString(),location:je.get("location"),chairperson:je.get("chairperson"),agenda:je.get("agenda"),scheduledAt:new Date(Oe).toISOString(),status:"scheduled",invitees:lt};n?Q.mutate(Dt):R.mutate(Dt)},Me=X=>{r(X),e(!0)},q=X=>{j(X)},ve=()=>{_&&(de.mutate(_),j(null))},Ue=X=>{u(X),p(!0)},we=async X=>{v(!0);try{await F.mutateAsync(X)}finally{v(!1)}},fe=X=>{const je=Math.floor(X/60),Oe=X%60;return`${je.toString().padStart(2,"0")}:${Oe.toString().padStart(2,"0")}`},Y=X=>{switch(X){case"completed":return"bg-green-500";case"in_progress":return"bg-blue-500";case"scheduled":return"bg-yellow-500";case"cancelled":return"bg-red-500";default:return"bg-gray-500"}};return A||!U?s.jsx("div",{className:"p-6 space-y-6",children:s.jsxs("div",{className:"animate-pulse space-y-4",children:[s.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3"}),s.jsx("div",{className:"h-32 bg-gray-200 rounded"})]})}):k?s.jsx("div",{className:"p-6 space-y-6",children:s.jsxs("div",{className:"animate-pulse space-y-4",children:[s.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3"}),s.jsx("div",{className:"h-32 bg-gray-200 rounded"})]})}):s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Meeting Management"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Schedule meetings, record audio, and manage minutes"})]}),s.jsxs(ut,{open:t,onOpenChange:e,children:[s.jsx(Fn,{asChild:!0,children:s.jsxs($,{className:"bg-green-500 hover:bg-green-600 text-white",onClick:()=>{r(null),e(!0)},children:[s.jsx(en,{className:"mr-2 h-4 w-4"}),"Schedule Meeting"]})}),s.jsxs(ct,{className:"max-w-2xl",children:[s.jsxs(ht,{children:[s.jsx(mt,{children:n?"Edit Meeting":"Schedule New Meeting"}),s.jsx(Zt,{children:n?"Update meeting details":"Create a new meeting for the strata"})]}),s.jsxs("form",{onSubmit:Ce,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(me,{htmlFor:"title",children:"Meeting Title"}),s.jsx(re,{id:"title",name:"title",defaultValue:n==null?void 0:n.title,placeholder:"e.g., Monthly Board Meeting",required:!0})]}),s.jsxs("div",{children:[s.jsx(me,{htmlFor:"meetingType",children:"Meeting Type"}),s.jsxs(tt,{name:"meetingType",defaultValue:(n==null?void 0:n.meetingType)||"board",children:[s.jsx(Ze,{children:s.jsx(nt,{placeholder:"Select meeting type"})}),s.jsxs(Je,{children:[s.jsx(V,{value:"board",children:"Board Meeting"}),s.jsx(V,{value:"annual",children:"Annual General Meeting"}),s.jsx(V,{value:"special",children:"Special Meeting"}),s.jsx(V,{value:"committee",children:"Committee Meeting"}),s.jsx(V,{value:"emergency",children:"Emergency Meeting"})]})]})]})]}),s.jsxs("div",{children:[s.jsx(me,{htmlFor:"description",children:"Description"}),s.jsx($t,{id:"description",name:"description",defaultValue:n==null?void 0:n.description,placeholder:"Meeting description and purpose"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(me,{htmlFor:"meetingDate",children:"Date & Time"}),s.jsx(re,{id:"meetingDate",name:"meetingDate",type:"datetime-local",defaultValue:n!=null&&n.meetingDate?new Date(n.meetingDate).toISOString().slice(0,16):"",required:!0})]}),s.jsxs("div",{children:[s.jsx(me,{htmlFor:"location",children:"Location"}),s.jsx(re,{id:"location",name:"location",defaultValue:n==null?void 0:n.location,placeholder:"Meeting location or virtual link"})]})]}),s.jsxs("div",{children:[s.jsx(me,{htmlFor:"chairperson",children:"Chairperson"}),s.jsx(re,{id:"chairperson",name:"chairperson",defaultValue:n==null?void 0:n.chairperson,placeholder:"Meeting chairperson name"})]}),s.jsxs("div",{children:[s.jsx(me,{htmlFor:"agenda",children:"Agenda"}),s.jsx($t,{id:"agenda",name:"agenda",defaultValue:n==null?void 0:n.agenda,placeholder:"Meeting agenda items",rows:4})]}),s.jsxs("div",{children:[s.jsx(me,{htmlFor:"invitees",children:"Meeting Invitees"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Select residents to invite to this meeting"}),s.jsx("div",{className:"grid grid-cols-1 gap-2 max-h-32 overflow-y-auto border rounded p-2",children:I.map(X=>{var je,Oe,lt;return s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",id:`invitee-${X.userId}`,name:"invitees",value:X.userId,className:"h-4 w-4 rounded border-gray-300"}),s.jsx(me,{htmlFor:`invitee-${X.userId}`,className:"text-sm font-normal cursor-pointer flex-1",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:(je=X.user)!=null&&je.firstName&&((Oe=X.user)!=null&&Oe.lastName)?`${X.user.firstName} ${X.user.lastName}`:((lt=X.user)==null?void 0:lt.email)||"Unknown User"}),s.jsx(He,{variant:"outline",className:"text-xs",children:X.role})]})})]},X.id)})})]})]}),s.jsx($,{type:"submit",disabled:R.isPending||Q.isPending,children:R.isPending||Q.isPending?"Saving...":n?"Update Meeting":"Schedule Meeting"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsxs(ge,{children:[s.jsxs(Ge,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Qe,{className:"text-sm font-medium",children:"Total Meetings"}),s.jsx(ss,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(be,{children:[s.jsx("div",{className:"text-2xl font-bold",children:P.length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"All scheduled meetings"})]})]}),s.jsxs(ge,{children:[s.jsxs(Ge,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Qe,{className:"text-sm font-medium",children:"Upcoming"}),s.jsx(Hs,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(be,{children:[s.jsx("div",{className:"text-2xl font-bold",children:P.filter(X=>new Date(X.meetingDate)>new Date&&X.status==="scheduled").length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Scheduled meetings"})]})]}),s.jsxs(ge,{children:[s.jsxs(Ge,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Qe,{className:"text-sm font-medium",children:"Completed"}),s.jsx(Vt,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(be,{children:[s.jsx("div",{className:"text-2xl font-bold",children:P.filter(X=>X.status==="completed").length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"With minutes"})]})]}),s.jsxs(ge,{children:[s.jsxs(Ge,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Qe,{className:"text-sm font-medium",children:"Recordings"}),s.jsx(sR,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(be,{children:[s.jsx("div",{className:"text-2xl font-bold",children:P.filter(X=>X.audioUrl).length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Audio recordings"})]})]})]}),c&&s.jsxs(ge,{children:[s.jsx(Ge,{children:s.jsxs(Qe,{children:["Audio Recording - ",c.title]})}),s.jsx(be,{children:s.jsxs("div",{className:"flex items-center space-x-4",children:[i?s.jsxs($,{onClick:W,variant:"destructive",children:[s.jsx(Ax,{className:"mr-2 h-4 w-4"}),"Stop Recording"]}):s.jsxs($,{onClick:z,className:"bg-red-500 hover:bg-red-600 text-white",children:[s.jsx(Px,{className:"mr-2 h-4 w-4"}),"Start Recording"]}),i&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full animate-pulse"}),s.jsx("span",{className:"font-mono text-lg",children:fe(o)})]})]})})]}),s.jsxs(ge,{children:[s.jsx(Ge,{children:s.jsx("div",{className:"flex justify-between items-center",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(Qe,{children:"Meetings Schedule"}),i&&s.jsxs("div",{className:"flex items-center space-x-2 text-red-600",children:[s.jsx("div",{className:"w-3 h-3 bg-red-600 rounded-full animate-pulse"}),s.jsxs("span",{className:"text-sm font-medium",children:["Recording: ",fe(o)]})]}),(K.isPending||F.isPending)&&s.jsxs("div",{className:"flex items-center space-x-2 text-blue-600",children:[s.jsx("div",{className:"w-3 h-3 bg-blue-600 rounded-full animate-spin border-2 border-transparent border-t-blue-600"}),s.jsx("span",{className:"text-sm font-medium",children:K.isPending?"Transcribing Audio...":"Generating Minutes..."})]})]})})}),s.jsxs(be,{className:"p-0",children:[s.jsx("div",{className:"hidden lg:block",children:s.jsxs(Ks,{children:[s.jsx(Gs,{children:s.jsxs(Ft,{children:[s.jsx(Ie,{children:"Meeting"}),s.jsx(Ie,{children:"Type"}),s.jsx(Ie,{children:"Date & Time"}),s.jsx(Ie,{children:"Status"}),s.jsx(Ie,{children:"Chairperson"}),s.jsx(Ie,{children:"Actions"})]})}),s.jsx(Qs,{children:P.map(X=>{var je;return s.jsxs(Ft,{children:[s.jsx(Ee,{children:s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:X.title}),X.description&&s.jsx("div",{className:"text-sm text-muted-foreground",children:X.description})]})}),s.jsx(Ee,{children:s.jsx(He,{variant:"outline",className:"capitalize",children:(je=X.meetingType)==null?void 0:je.replace("_"," ")})}),s.jsx(Ee,{children:s.jsxs("div",{className:"text-sm",children:[s.jsx("div",{children:new Date(X.meetingDate).toLocaleDateString()}),s.jsx("div",{className:"text-muted-foreground",children:new Date(X.meetingDate).toLocaleTimeString()})]})}),s.jsx(Ee,{children:s.jsx(He,{className:`${Y(X.status)} text-white capitalize`,children:X.status.replace("_"," ")})}),s.jsx(Ee,{children:X.chairperson||"TBD"}),s.jsx(Ee,{children:s.jsxs("div",{className:"flex space-x-2",children:[s.jsx($,{size:"sm",variant:"outline",onClick:()=>Me(X),className:"text-blue-600 border-blue-600 hover:bg-blue-50",children:s.jsx(gs,{className:"h-3 w-3"})}),s.jsx($,{size:"sm",variant:"outline",onClick:()=>{u(X),i&&(c==null?void 0:c.id)===X.id?W():z()},className:`${i&&(c==null?void 0:c.id)===X.id?"text-red-600 border-red-600 hover:bg-red-50":"text-green-600 border-green-600 hover:bg-green-50"}`,title:i&&(c==null?void 0:c.id)===X.id?"Stop Recording":"Start Recording",disabled:K.isPending||F.isPending,children:i&&(c==null?void 0:c.id)===X.id?s.jsx(Ax,{className:"h-3 w-3"}):s.jsx(Px,{className:"h-3 w-3"})}),s.jsx($,{size:"sm",variant:"outline",onClick:()=>Ue(X),className:"text-purple-600 border-purple-600 hover:bg-purple-50",title:"View Minutes",children:s.jsx(Vt,{className:"h-3 w-3"})}),s.jsx($,{size:"sm",variant:"outline",onClick:()=>q(X.id),className:"text-red-600 border-red-600 hover:bg-red-50",children:s.jsx(Un,{className:"h-3 w-3"})})]})})]},X.id)})})]})}),s.jsx("div",{className:"lg:hidden space-y-4 p-4",children:P.map(X=>{var je;return s.jsx(ge,{className:"border border-gray-200",children:s.jsx(be,{className:"p-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-medium text-base",children:X.title}),X.description&&s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:X.description})]}),s.jsx(He,{className:`${Y(X.status)} text-white capitalize ml-2 shrink-0`,children:X.status.replace("_"," ")})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Type:"}),s.jsx("div",{className:"mt-1",children:s.jsx(He,{variant:"outline",className:"capitalize",children:(je=X.meetingType)==null?void 0:je.replace("_"," ")})})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Chairperson:"}),s.jsx("div",{className:"mt-1 font-medium",children:X.chairperson||"TBD"})]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground text-sm",children:"Date & Time:"}),s.jsxs("div",{className:"mt-1",children:[s.jsx("div",{className:"font-medium",children:new Date(X.meetingDate).toLocaleDateString()}),s.jsx("div",{className:"text-sm text-muted-foreground",children:new Date(X.meetingDate).toLocaleTimeString()})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-2 pt-2 border-t",children:[s.jsxs($,{size:"sm",variant:"outline",onClick:()=>Me(X),className:"text-blue-600 border-blue-600 hover:bg-blue-50 flex-1 min-w-[80px]",children:[s.jsx(gs,{className:"h-3 w-3 mr-1"}),"Edit"]}),s.jsx($,{size:"sm",variant:"outline",onClick:()=>{u(X),i&&(c==null?void 0:c.id)===X.id?W():z()},className:`${i&&(c==null?void 0:c.id)===X.id?"text-red-600 border-red-600 hover:bg-red-50":"text-green-600 border-green-600 hover:bg-green-50"} flex-1 min-w-[80px]`,disabled:K.isPending||F.isPending,children:i&&(c==null?void 0:c.id)===X.id?s.jsxs(s.Fragment,{children:[s.jsx(Ax,{className:"h-3 w-3 mr-1"}),"Stop"]}):s.jsxs(s.Fragment,{children:[s.jsx(Px,{className:"h-3 w-3 mr-1"}),"Record"]})}),s.jsxs($,{size:"sm",variant:"outline",onClick:()=>Ue(X),className:"text-purple-600 border-purple-600 hover:bg-purple-50 flex-1 min-w-[80px]",children:[s.jsx(Vt,{className:"h-3 w-3 mr-1"}),"Minutes"]}),s.jsx($,{size:"sm",variant:"outline",onClick:()=>q(X.id),className:"text-red-600 border-red-600 hover:bg-red-50",children:s.jsx(Un,{className:"h-3 w-3"})})]})]})})},X.id)})})]})]}),s.jsx(ut,{open:h,onOpenChange:p,children:s.jsxs(ct,{className:"max-w-4xl w-full mx-4 max-h-[90vh] overflow-hidden",children:[s.jsxs(ht,{children:[s.jsxs(mt,{className:"text-lg md:text-xl",children:["Meeting Minutes - ",c==null?void 0:c.title]}),s.jsx(Zt,{children:"View and manage meeting minutes and transcriptions"})]}),c&&s.jsxs("div",{className:"space-y-4 overflow-y-auto max-h-[calc(90vh-120px)] pr-2",children:[c.audioUrl&&s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("h4",{className:"font-medium mb-2",children:"Audio Recording"}),s.jsxs("audio",{controls:!0,className:"w-full",children:[s.jsx("source",{src:c.audioUrl,type:"audio/wav"}),"Your browser does not support the audio element."]}),!c.minutes&&s.jsx($,{onClick:()=>we(c.id),disabled:f,className:"mt-2",children:f?"Generating...":"Generate Minutes with AI"})]}),c.transcription&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2",children:"Transcription"}),s.jsx("div",{className:"bg-gray-50 p-4 rounded-lg max-h-60 overflow-y-auto",children:s.jsx("p",{className:"text-sm whitespace-pre-wrap",children:c.transcription})})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2",children:"Meeting Minutes"}),s.jsx($t,{value:c.minutes||"",onChange:X=>u({...c,minutes:X.target.value}),rows:8,className:"min-h-[200px] max-h-[300px] resize-y",placeholder:"Meeting minutes will be generated here or you can type them manually..."})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:space-x-2 sticky bottom-0 bg-white pt-4 border-t",children:[s.jsx($,{onClick:()=>Ne.mutate({id:c.id,minutes:c.minutes||""}),disabled:Ne.isPending,children:Ne.isPending?"Saving...":"Save Minutes"}),c.minutes&&s.jsxs($,{variant:"outline",children:[s.jsx(Hc,{className:"mr-2 h-4 w-4"}),"Export PDF"]})]})]})]})}),s.jsx(SM,{open:!!_,onOpenChange:()=>j(null),children:s.jsxs(sw,{children:[s.jsxs(rw,{children:[s.jsx(aw,{children:"Delete Meeting"}),s.jsx(ow,{children:"Are you sure you want to delete this meeting? This action cannot be undone."})]}),s.jsxs(iw,{children:[s.jsx(cw,{children:"Cancel"}),s.jsx(lw,{onClick:ve,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})})]})}const Ri=[{value:"roofing",label:"Roofing",icon:vs},{value:"concrete",label:"Concrete",icon:ZI},{value:"fencing",label:"Fencing",icon:wq},{value:"painting",label:"Painting",icon:Cq},{value:"plumbing",label:"Plumbing",icon:jq},{value:"electrical",label:"Electrical",icon:rR},{value:"hvac",label:"HVAC",icon:Sh},{value:"parking",label:"Parking/Paving",icon:mq},{value:"landscaping",label:"Landscaping",icon:kq},{value:"security",label:"Security",icon:Es},{value:"waste",label:"Waste Management",icon:Un},{value:"other",label:"Other",icon:oi}],zS={low:"bg-green-100 text-green-800 border-green-200",medium:"bg-yellow-100 text-yellow-800 border-yellow-200",high:"bg-orange-100 text-orange-800 border-orange-200",critical:"bg-red-100 text-red-800 border-red-200"},BS={planned:"bg-blue-100 text-blue-800 border-blue-200",scheduled:"bg-purple-100 text-purple-800 border-purple-200","in-progress":"bg-yellow-100 text-yellow-800 border-yellow-200",completed:"bg-green-100 text-green-800 border-green-200",cancelled:"bg-gray-100 text-gray-800 border-gray-200",overdue:"bg-red-100 text-red-800 border-red-200"};function bZ(){var g,k;xr();const{toast:t}=xn(),[e,n]=m.useState(!1),[r,i]=m.useState(null),[a,o]=m.useState(null),[l,c]=m.useState(!1),{selectedStrataId:u,selectedStrata:h,isLoading:p}=ra(),{data:f=[],isLoading:v}=ot({queryKey:[`/api/strata/${u}/maintenance`],enabled:!!h}),_=ze({mutationFn:async P=>(await Be("POST",`/api/strata/${u}/maintenance`,P)).json(),onSuccess:()=>{uc.invalidateQueries({queryKey:[`/api/strata/${u}/maintenance`]}),n(!1),i(null),t({title:"Success",description:"Maintenance project created successfully"})},onError:()=>{t({title:"Error",description:"Failed to create maintenance project",variant:"destructive"})}}),j=ze({mutationFn:async P=>(await Be("PATCH",`/api/maintenance/${r==null?void 0:r.id}`,P)).json(),onSuccess:()=>{uc.invalidateQueries({queryKey:[`/api/strata/${u}/maintenance`]}),n(!1),c(!1),i(null),t({title:"Success",description:"Maintenance project updated successfully"})},onError:()=>{t({title:"Error",description:"Failed to update maintenance project",variant:"destructive"})}}),E=P=>{P.preventDefault();const I=new FormData(P.currentTarget),R={title:I.get("title"),description:I.get("description"),category:I.get("category"),priority:I.get("priority"),status:I.get("status"),estimatedCost:parseFloat(I.get("estimatedCost"))||0,actualCost:I.get("actualCost")?parseFloat(I.get("actualCost")):void 0,scheduledDate:I.get("scheduledDate")?new Date(I.get("scheduledDate")).toISOString():void 0,completedDate:I.get("completedDate")?new Date(I.get("completedDate")).toISOString():void 0,nextServiceDate:I.get("nextServiceDate")?new Date(I.get("nextServiceDate")).toISOString():void 0,contractor:I.get("contractor"),warranty:I.get("warranty"),notes:I.get("notes")};r?j.mutate(R):_.mutate(R)},N=f.length;f.filter(P=>P.status==="completed").length;const y=f.filter(P=>P.status==="in-progress").length,w=f.filter(P=>{if(!P.scheduledDate)return!1;const I=new Date(P.scheduledDate),R=new Date,Q=new Date(R.getTime()+30*24*60*60*1e3);return I>R&&I<=Q}).length,T=f.reduce((P,I)=>P+(I.estimatedCost||0),0),O=f.reduce((P,I)=>P+(I.actualCost||0),0),U=f.filter(P=>["planned","scheduled","in-progress"].includes(P.status)),A=f.filter(P=>P.status==="completed"),S=f.filter(P=>{if(!P.nextServiceDate)return!1;const I=new Date(P.nextServiceDate),R=new Date,Q=new Date(R.getTime()+365*24*60*60*1e3);return I>R&&I<=Q});return p||!h?s.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-background",children:s.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary"})}):v?s.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-background",children:s.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary"})}):s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Maintenance Projects"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Track large maintenance projects, historical work, and future scheduling"})]}),s.jsxs(ut,{open:e,onOpenChange:n,children:[s.jsx(Fn,{asChild:!0,children:s.jsxs($,{className:"bg-green-500 hover:bg-green-600 text-white",onClick:()=>{i(null),n(!0)},children:[s.jsx(en,{className:"mr-2 h-4 w-4"}),"New Project"]})}),s.jsxs(ct,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(ht,{children:[s.jsx(mt,{children:r?"Edit Project":"New Maintenance Project"}),s.jsx(Zt,{children:r?"Update project details":"Create a new maintenance project for tracking"})]}),s.jsxs("form",{onSubmit:E,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(me,{htmlFor:"title",children:"Project Title"}),s.jsx(re,{id:"title",name:"title",defaultValue:r==null?void 0:r.title,placeholder:"e.g., Roof Replacement - Building A",required:!0})]}),s.jsxs("div",{children:[s.jsx(me,{htmlFor:"category",children:"Category"}),s.jsxs(tt,{name:"category",defaultValue:(r==null?void 0:r.category)||"other",children:[s.jsx(Ze,{children:s.jsx(nt,{placeholder:"Select category"})}),s.jsx(Je,{children:Ri.map(P=>s.jsx(V,{value:P.value,children:P.label},P.value))})]})]})]}),s.jsxs("div",{children:[s.jsx(me,{htmlFor:"description",children:"Description"}),s.jsx($t,{id:"description",name:"description",defaultValue:r==null?void 0:r.description,placeholder:"Detailed project description, scope of work, materials needed...",rows:3})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(me,{htmlFor:"priority",children:"Priority"}),s.jsxs(tt,{name:"priority",defaultValue:(r==null?void 0:r.priority)||"medium",children:[s.jsx(Ze,{children:s.jsx(nt,{placeholder:"Select priority"})}),s.jsxs(Je,{children:[s.jsx(V,{value:"low",children:"Low"}),s.jsx(V,{value:"medium",children:"Medium"}),s.jsx(V,{value:"high",children:"High"}),s.jsx(V,{value:"critical",children:"Critical"})]})]})]}),s.jsxs("div",{children:[s.jsx(me,{htmlFor:"status",children:"Status"}),s.jsxs(tt,{name:"status",defaultValue:(r==null?void 0:r.status)||"planned",children:[s.jsx(Ze,{children:s.jsx(nt,{placeholder:"Select status"})}),s.jsxs(Je,{children:[s.jsx(V,{value:"planned",children:"Planned"}),s.jsx(V,{value:"scheduled",children:"Scheduled"}),s.jsx(V,{value:"in-progress",children:"In Progress"}),s.jsx(V,{value:"completed",children:"Completed"}),s.jsx(V,{value:"cancelled",children:"Cancelled"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(me,{htmlFor:"estimatedCost",children:"Estimated Cost ($)"}),s.jsx(re,{id:"estimatedCost",name:"estimatedCost",type:"number",step:"0.01",defaultValue:r==null?void 0:r.estimatedCost,placeholder:"0.00"})]}),s.jsxs("div",{children:[s.jsx(me,{htmlFor:"actualCost",children:"Actual Cost ($)"}),s.jsx(re,{id:"actualCost",name:"actualCost",type:"number",step:"0.01",defaultValue:r==null?void 0:r.actualCost,placeholder:"0.00"})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(me,{htmlFor:"scheduledDate",children:"Scheduled Date"}),s.jsx(re,{id:"scheduledDate",name:"scheduledDate",type:"date",defaultValue:r!=null&&r.scheduledDate?new Date(r.scheduledDate).toISOString().split("T")[0]:""})]}),s.jsxs("div",{children:[s.jsx(me,{htmlFor:"completedDate",children:"Completed Date"}),s.jsx(re,{id:"completedDate",name:"completedDate",type:"date",defaultValue:r!=null&&r.completedDate?new Date(r.completedDate).toISOString().split("T")[0]:""})]}),s.jsxs("div",{children:[s.jsx(me,{htmlFor:"nextServiceDate",children:"Next Service Due"}),s.jsx(re,{id:"nextServiceDate",name:"nextServiceDate",type:"date",defaultValue:r!=null&&r.nextServiceDate?new Date(r.nextServiceDate).toISOString().split("T")[0]:""})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(me,{htmlFor:"contractor",children:"Contractor"}),s.jsx(re,{id:"contractor",name:"contractor",defaultValue:r==null?void 0:r.contractor,placeholder:"Contractor name or company"})]}),s.jsxs("div",{children:[s.jsx(me,{htmlFor:"warranty",children:"Warranty Period"}),s.jsx(re,{id:"warranty",name:"warranty",defaultValue:r==null?void 0:r.warranty,placeholder:"e.g., 5 years, 10 years"})]})]}),s.jsxs("div",{children:[s.jsx(me,{htmlFor:"notes",children:"Notes"}),s.jsx($t,{id:"notes",name:"notes",defaultValue:r==null?void 0:r.notes,placeholder:"Additional notes, special considerations, contact information...",rows:3})]}),s.jsx($,{type:"submit",disabled:_.isPending||j.isPending,children:_.isPending||j.isPending?"Saving...":r?"Update Project":"Create Project"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsxs(ge,{children:[s.jsxs(Ge,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Qe,{className:"text-sm font-medium",children:"Total Projects"}),s.jsx(ZI,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(be,{children:[s.jsx("div",{className:"text-2xl font-bold",children:N}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"All maintenance projects"})]})]}),s.jsxs(ge,{children:[s.jsxs(Ge,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Qe,{className:"text-sm font-medium",children:"In Progress"}),s.jsx(Hs,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(be,{children:[s.jsx("div",{className:"text-2xl font-bold",children:y}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Currently active projects"})]})]}),s.jsxs(ge,{children:[s.jsxs(Ge,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Qe,{className:"text-sm font-medium",children:"Upcoming Due"}),s.jsx(ai,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(be,{children:[s.jsx("div",{className:"text-2xl font-bold",children:w}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Next 30 days"})]})]}),s.jsxs(ge,{children:[s.jsxs(Ge,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Qe,{className:"text-sm font-medium",children:"Budget Overview"}),s.jsx(dr,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(be,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:["$",T.toLocaleString()]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Estimated: $",T.toLocaleString()," | Actual: $",O.toLocaleString()]})]})]})]}),s.jsxs(ud,{defaultValue:"active",className:"space-y-4",children:[s.jsxs(bl,{children:[s.jsxs(Qt,{value:"active",children:["Active Projects (",U.length,")"]}),s.jsxs(Qt,{value:"completed",children:["Completed (",A.length,")"]}),s.jsxs(Qt,{value:"upcoming",children:["Upcoming Service (",S.length,")"]})]}),s.jsx(Sn,{value:"active",children:s.jsxs(ge,{children:[s.jsx(Ge,{children:s.jsx(Qe,{children:"Active Maintenance Projects"})}),s.jsx(be,{children:s.jsxs(Ks,{children:[s.jsx(Gs,{children:s.jsxs(Ft,{children:[s.jsx(Ie,{children:"Project"}),s.jsx(Ie,{children:"Category"}),s.jsx(Ie,{children:"Priority"}),s.jsx(Ie,{children:"Status"}),s.jsx(Ie,{children:"Scheduled"}),s.jsx(Ie,{children:"Cost"}),s.jsx(Ie,{children:"Actions"})]})}),s.jsx(Qs,{children:U.length===0?s.jsx(Ft,{children:s.jsx(Ee,{colSpan:7,className:"text-center py-8 text-muted-foreground",children:"No active projects found"})}):U.map(P=>{var R,Q,Ne;const I=((R=Ri.find(de=>de.value===P.category))==null?void 0:R.icon)||oi;return s.jsxs(Ft,{children:[s.jsx(Ee,{children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(I,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:P.title}),P.description&&s.jsx("div",{className:"text-sm text-muted-foreground truncate max-w-xs",children:P.description})]})]})}),s.jsx(Ee,{children:s.jsx(He,{variant:"outline",children:((Q=Ri.find(de=>de.value===P.category))==null?void 0:Q.label)||P.category})}),s.jsx(Ee,{children:s.jsx(He,{className:zS[P.priority],children:P.priority})}),s.jsx(Ee,{children:s.jsx(He,{className:BS[P.status],children:P.status.replace("-"," ")})}),s.jsx(Ee,{children:P.scheduledDate?new Date(P.scheduledDate).toLocaleDateString():s.jsx("span",{className:"text-muted-foreground",children:"Not scheduled"})}),s.jsx(Ee,{children:s.jsxs("div",{className:"text-sm",children:[s.jsxs("div",{children:["Est: $",((Ne=P.estimatedCost)==null?void 0:Ne.toLocaleString())||"0"]}),P.actualCost&&s.jsxs("div",{className:"text-muted-foreground",children:["Act: $",P.actualCost.toLocaleString()]})]})}),s.jsx(Ee,{children:s.jsxs("div",{className:"flex space-x-2",children:[s.jsx($,{variant:"ghost",size:"sm",onClick:()=>{o(P),c(!0)},children:s.jsx(Nn,{className:"h-4 w-4"})}),s.jsx($,{variant:"ghost",size:"sm",onClick:()=>{i(P),n(!0)},children:s.jsx(gs,{className:"h-4 w-4"})})]})})]},P.id)})})]})})]})}),s.jsx(Sn,{value:"completed",children:s.jsxs(ge,{children:[s.jsx(Ge,{children:s.jsx(Qe,{children:"Completed Projects"})}),s.jsx(be,{children:s.jsxs(Ks,{children:[s.jsx(Gs,{children:s.jsxs(Ft,{children:[s.jsx(Ie,{children:"Project"}),s.jsx(Ie,{children:"Category"}),s.jsx(Ie,{children:"Completed"}),s.jsx(Ie,{children:"Cost"}),s.jsx(Ie,{children:"Contractor"}),s.jsx(Ie,{children:"Warranty"}),s.jsx(Ie,{children:"Actions"})]})}),s.jsx(Qs,{children:A.length===0?s.jsx(Ft,{children:s.jsx(Ee,{colSpan:7,className:"text-center py-8 text-muted-foreground",children:"No completed projects found"})}):A.map(P=>{var R,Q,Ne;const I=((R=Ri.find(de=>de.value===P.category))==null?void 0:R.icon)||oi;return s.jsxs(Ft,{children:[s.jsx(Ee,{children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(I,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("div",{children:s.jsx("div",{className:"font-medium",children:P.title})})]})}),s.jsx(Ee,{children:s.jsx(He,{variant:"outline",children:((Q=Ri.find(de=>de.value===P.category))==null?void 0:Q.label)||P.category})}),s.jsx(Ee,{children:P.completedDate?new Date(P.completedDate).toLocaleDateString():s.jsx("span",{className:"text-muted-foreground",children:"Not recorded"})}),s.jsx(Ee,{children:s.jsx("div",{className:"text-sm",children:P.actualCost?s.jsxs("div",{className:"font-medium",children:["$",P.actualCost.toLocaleString()]}):s.jsxs("div",{children:["$",((Ne=P.estimatedCost)==null?void 0:Ne.toLocaleString())||"0"]})})}),s.jsx(Ee,{children:P.contractor||s.jsx("span",{className:"text-muted-foreground",children:"Not recorded"})}),s.jsx(Ee,{children:P.warranty||s.jsx("span",{className:"text-muted-foreground",children:"No warranty"})}),s.jsx(Ee,{children:s.jsx($,{variant:"ghost",size:"sm",onClick:()=>{o(P),c(!0)},children:s.jsx(Nn,{className:"h-4 w-4"})})})]},P.id)})})]})})]})}),s.jsx(Sn,{value:"upcoming",children:s.jsxs(ge,{children:[s.jsx(Ge,{children:s.jsx(Qe,{children:"Upcoming Service Due"})}),s.jsx(be,{children:s.jsxs(Ks,{children:[s.jsx(Gs,{children:s.jsxs(Ft,{children:[s.jsx(Ie,{children:"Project"}),s.jsx(Ie,{children:"Category"}),s.jsx(Ie,{children:"Last Completed"}),s.jsx(Ie,{children:"Next Service Due"}),s.jsx(Ie,{children:"Days Until Due"}),s.jsx(Ie,{children:"Actions"})]})}),s.jsx(Qs,{children:S.length===0?s.jsx(Ft,{children:s.jsx(Ee,{colSpan:6,className:"text-center py-8 text-muted-foreground",children:"No upcoming service dates found"})}):S.map(P=>{var Q,Ne;const I=((Q=Ri.find(de=>de.value===P.category))==null?void 0:Q.icon)||oi,R=P.nextServiceDate?Math.ceil((new Date(P.nextServiceDate).getTime()-new Date().getTime())/(1e3*60*60*24)):0;return s.jsxs(Ft,{children:[s.jsx(Ee,{children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(I,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("div",{children:s.jsx("div",{className:"font-medium",children:P.title})})]})}),s.jsx(Ee,{children:s.jsx(He,{variant:"outline",children:((Ne=Ri.find(de=>de.value===P.category))==null?void 0:Ne.label)||P.category})}),s.jsx(Ee,{children:P.completedDate?new Date(P.completedDate).toLocaleDateString():s.jsx("span",{className:"text-muted-foreground",children:"Not recorded"})}),s.jsx(Ee,{children:P.nextServiceDate?new Date(P.nextServiceDate).toLocaleDateString():s.jsx("span",{className:"text-muted-foreground",children:"Not set"})}),s.jsx(Ee,{children:s.jsxs(He,{className:R<=30?"bg-red-100 text-red-800 border-red-200":R<=90?"bg-yellow-100 text-yellow-800 border-yellow-200":"bg-green-100 text-green-800 border-green-200",children:[R," days"]})}),s.jsx(Ee,{children:s.jsx($,{variant:"ghost",size:"sm",onClick:()=>{o(P),c(!0)},children:s.jsx(Nn,{className:"h-4 w-4"})})})]},P.id)})})]})})]})})]}),s.jsx(ut,{open:l,onOpenChange:c,children:s.jsxs(ct,{className:"max-w-2xl",children:[s.jsx(ht,{children:s.jsx(mt,{children:"Project Details"})}),a&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[(()=>{var I;const P=((I=Ri.find(R=>R.value===a.category))==null?void 0:I.icon)||oi;return s.jsx(P,{className:"h-5 w-5 text-muted-foreground"})})(),s.jsx("h3",{className:"text-lg font-semibold",children:a.title})]}),a.description&&s.jsxs("div",{children:[s.jsx(me,{className:"text-sm font-medium",children:"Description"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:a.description})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(me,{className:"text-sm font-medium",children:"Category"}),s.jsx(He,{variant:"outline",className:"mt-1",children:((g=Ri.find(P=>P.value===a.category))==null?void 0:g.label)||a.category})]}),s.jsxs("div",{children:[s.jsx(me,{className:"text-sm font-medium",children:"Priority"}),s.jsx(He,{className:`mt-1 ${zS[a.priority]}`,children:a.priority})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(me,{className:"text-sm font-medium",children:"Status"}),s.jsx(He,{className:`mt-1 ${BS[a.status]}`,children:a.status.replace("-"," ")})]}),s.jsxs("div",{children:[s.jsx(me,{className:"text-sm font-medium",children:"Cost"}),s.jsxs("div",{className:"text-sm mt-1",children:[s.jsxs("div",{children:["Estimated: $",((k=a.estimatedCost)==null?void 0:k.toLocaleString())||"0"]}),a.actualCost&&s.jsxs("div",{children:["Actual: $",a.actualCost.toLocaleString()]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(me,{className:"text-sm font-medium",children:"Scheduled"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:a.scheduledDate?new Date(a.scheduledDate).toLocaleDateString():"Not scheduled"})]}),s.jsxs("div",{children:[s.jsx(me,{className:"text-sm font-medium",children:"Completed"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:a.completedDate?new Date(a.completedDate).toLocaleDateString():"Not completed"})]}),s.jsxs("div",{children:[s.jsx(me,{className:"text-sm font-medium",children:"Next Service"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:a.nextServiceDate?new Date(a.nextServiceDate).toLocaleDateString():"Not set"})]})]}),a.contractor&&s.jsxs("div",{children:[s.jsx(me,{className:"text-sm font-medium",children:"Contractor"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:a.contractor})]}),a.warranty&&s.jsxs("div",{children:[s.jsx(me,{className:"text-sm font-medium",children:"Warranty"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:a.warranty})]}),a.notes&&s.jsxs("div",{children:[s.jsx(me,{className:"text-sm font-medium",children:"Notes"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:a.notes})]}),s.jsx("div",{className:"flex justify-end space-x-2 pt-4",children:s.jsxs($,{variant:"outline",onClick:()=>{i(a),c(!1),n(!0)},children:[s.jsx(gs,{className:"mr-2 h-4 w-4"}),"Edit Project"]})})]})]})})]})}function NZ(t,e){return m.useReducer((n,r)=>e[n][r]??n,t)}var yw="ScrollArea",[jO,xne]=os(yw),[SZ,yr]=jO(yw),wO=m.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:a=600,...o}=t,[l,c]=m.useState(null),[u,h]=m.useState(null),[p,f]=m.useState(null),[v,_]=m.useState(null),[j,E]=m.useState(null),[N,y]=m.useState(0),[w,T]=m.useState(0),[O,U]=m.useState(!1),[A,S]=m.useState(!1),g=ft(e,P=>c(P)),k=Th(i);return s.jsx(SZ,{scope:n,type:r,dir:k,scrollHideDelay:a,scrollArea:l,viewport:u,onViewportChange:h,content:p,onContentChange:f,scrollbarX:v,onScrollbarXChange:_,scrollbarXEnabled:O,onScrollbarXEnabledChange:U,scrollbarY:j,onScrollbarYChange:E,scrollbarYEnabled:A,onScrollbarYEnabledChange:S,onCornerWidthChange:y,onCornerHeightChange:T,children:s.jsx(Ye.div,{dir:k,...o,ref:g,style:{position:"relative","--radix-scroll-area-corner-width":N+"px","--radix-scroll-area-corner-height":w+"px",...t.style}})})});wO.displayName=yw;var bO="ScrollAreaViewport",NO=m.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,nonce:i,...a}=t,o=yr(bO,n),l=m.useRef(null),c=ft(e,l,o.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),s.jsx(Ye.div,{"data-radix-scroll-area-viewport":"",...a,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...t.style},children:s.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});NO.displayName=bO;var Si="ScrollAreaScrollbar",vw=m.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=yr(Si,t.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:o}=i,l=t.orientation==="horizontal";return m.useEffect(()=>(l?a(!0):o(!0),()=>{l?a(!1):o(!1)}),[l,a,o]),i.type==="hover"?s.jsx(_Z,{...r,ref:e,forceMount:n}):i.type==="scroll"?s.jsx(CZ,{...r,ref:e,forceMount:n}):i.type==="auto"?s.jsx(SO,{...r,ref:e,forceMount:n}):i.type==="always"?s.jsx(jw,{...r,ref:e}):null});vw.displayName=Si;var _Z=m.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=yr(Si,t.__scopeScrollArea),[a,o]=m.useState(!1);return m.useEffect(()=>{const l=i.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},h=()=>{c=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",h),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",h)}}},[i.scrollArea,i.scrollHideDelay]),s.jsx(qn,{present:n||a,children:s.jsx(SO,{"data-state":a?"visible":"hidden",...r,ref:e})})}),CZ=m.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=yr(Si,t.__scopeScrollArea),a=t.orientation==="horizontal",o=wg(()=>c("SCROLL_END"),100),[l,c]=NZ("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return m.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,i.scrollHideDelay,c]),m.useEffect(()=>{const u=i.viewport,h=a?"scrollLeft":"scrollTop";if(u){let p=u[h];const f=()=>{const v=u[h];p!==v&&(c("SCROLL"),o()),p=v};return u.addEventListener("scroll",f),()=>u.removeEventListener("scroll",f)}},[i.viewport,a,c,o]),s.jsx(qn,{present:n||l!=="hidden",children:s.jsx(jw,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:Te(t.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Te(t.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),SO=m.forwardRef((t,e)=>{const n=yr(Si,t.__scopeScrollArea),{forceMount:r,...i}=t,[a,o]=m.useState(!1),l=t.orientation==="horizontal",c=wg(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,h=n.viewport.offsetHeight<n.viewport.scrollHeight;o(l?u:h)}},10);return Xc(n.viewport,c),Xc(n.content,c),s.jsx(qn,{present:r||a,children:s.jsx(jw,{"data-state":a?"visible":"hidden",...i,ref:e})})}),jw=m.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,i=yr(Si,t.__scopeScrollArea),a=m.useRef(null),o=m.useRef(0),[l,c]=m.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=PO(l.viewport,l.content),h={...r,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:f=>a.current=f,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:f=>o.current=f};function p(f,v){return IZ(f,o.current,l,v)}return n==="horizontal"?s.jsx(TZ,{...h,ref:e,onThumbPositionChange:()=>{if(i.viewport&&a.current){const f=i.viewport.scrollLeft,v=qS(f,l,i.dir);a.current.style.transform=`translate3d(${v}px, 0, 0)`}},onWheelScroll:f=>{i.viewport&&(i.viewport.scrollLeft=f)},onDragScroll:f=>{i.viewport&&(i.viewport.scrollLeft=p(f,i.dir))}}):n==="vertical"?s.jsx(EZ,{...h,ref:e,onThumbPositionChange:()=>{if(i.viewport&&a.current){const f=i.viewport.scrollTop,v=qS(f,l);a.current.style.transform=`translate3d(0, ${v}px, 0)`}},onWheelScroll:f=>{i.viewport&&(i.viewport.scrollTop=f)},onDragScroll:f=>{i.viewport&&(i.viewport.scrollTop=p(f))}}):null}),TZ=m.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,a=yr(Si,t.__scopeScrollArea),[o,l]=m.useState(),c=m.useRef(null),u=ft(e,c,a.onScrollbarXChange);return m.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(CO,{"data-orientation":"horizontal",...i,ref:u,sizes:n,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":jg(n)+"px",...t.style},onThumbPointerDown:h=>t.onThumbPointerDown(h.x),onDragScroll:h=>t.onDragScroll(h.x),onWheelScroll:(h,p)=>{if(a.viewport){const f=a.viewport.scrollLeft+h.deltaX;t.onWheelScroll(f),AO(f,p)&&h.preventDefault()}},onResize:()=>{c.current&&a.viewport&&o&&r({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:gp(o.paddingLeft),paddingEnd:gp(o.paddingRight)}})}})}),EZ=m.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,a=yr(Si,t.__scopeScrollArea),[o,l]=m.useState(),c=m.useRef(null),u=ft(e,c,a.onScrollbarYChange);return m.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(CO,{"data-orientation":"vertical",...i,ref:u,sizes:n,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":jg(n)+"px",...t.style},onThumbPointerDown:h=>t.onThumbPointerDown(h.y),onDragScroll:h=>t.onDragScroll(h.y),onWheelScroll:(h,p)=>{if(a.viewport){const f=a.viewport.scrollTop+h.deltaY;t.onWheelScroll(f),AO(f,p)&&h.preventDefault()}},onResize:()=>{c.current&&a.viewport&&o&&r({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:gp(o.paddingTop),paddingEnd:gp(o.paddingBottom)}})}})}),[PZ,_O]=jO(Si),CO=m.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:a,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:h,onResize:p,...f}=t,v=yr(Si,n),[_,j]=m.useState(null),E=ft(e,g=>j(g)),N=m.useRef(null),y=m.useRef(""),w=v.viewport,T=r.content-r.viewport,O=tn(h),U=tn(c),A=wg(p,10);function S(g){if(N.current){const k=g.clientX-N.current.left,P=g.clientY-N.current.top;u({x:k,y:P})}}return m.useEffect(()=>{const g=k=>{const P=k.target;(_==null?void 0:_.contains(P))&&O(k,T)};return document.addEventListener("wheel",g,{passive:!1}),()=>document.removeEventListener("wheel",g,{passive:!1})},[w,_,T,O]),m.useEffect(U,[r,U]),Xc(_,A),Xc(v.content,A),s.jsx(PZ,{scope:n,scrollbar:_,hasThumb:i,onThumbChange:tn(a),onThumbPointerUp:tn(o),onThumbPositionChange:U,onThumbPointerDown:tn(l),children:s.jsx(Ye.div,{...f,ref:E,style:{position:"absolute",...f.style},onPointerDown:Te(t.onPointerDown,g=>{g.button===0&&(g.target.setPointerCapture(g.pointerId),N.current=_.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",v.viewport&&(v.viewport.style.scrollBehavior="auto"),S(g))}),onPointerMove:Te(t.onPointerMove,S),onPointerUp:Te(t.onPointerUp,g=>{const k=g.target;k.hasPointerCapture(g.pointerId)&&k.releasePointerCapture(g.pointerId),document.body.style.webkitUserSelect=y.current,v.viewport&&(v.viewport.style.scrollBehavior=""),N.current=null})})})}),pp="ScrollAreaThumb",TO=m.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=_O(pp,t.__scopeScrollArea);return s.jsx(qn,{present:n||i.hasThumb,children:s.jsx(kZ,{ref:e,...r})})}),kZ=m.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...i}=t,a=yr(pp,n),o=_O(pp,n),{onThumbPositionChange:l}=o,c=ft(e,p=>o.onThumbChange(p)),u=m.useRef(void 0),h=wg(()=>{u.current&&(u.current(),u.current=void 0)},100);return m.useEffect(()=>{const p=a.viewport;if(p){const f=()=>{if(h(),!u.current){const v=RZ(p,l);u.current=v,l()}};return l(),p.addEventListener("scroll",f),()=>p.removeEventListener("scroll",f)}},[a.viewport,h,l]),s.jsx(Ye.div,{"data-state":o.hasThumb?"visible":"hidden",...i,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Te(t.onPointerDownCapture,p=>{const v=p.target.getBoundingClientRect(),_=p.clientX-v.left,j=p.clientY-v.top;o.onThumbPointerDown({x:_,y:j})}),onPointerUp:Te(t.onPointerUp,o.onThumbPointerUp)})});TO.displayName=pp;var ww="ScrollAreaCorner",EO=m.forwardRef((t,e)=>{const n=yr(ww,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?s.jsx(AZ,{...t,ref:e}):null});EO.displayName=ww;var AZ=m.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,i=yr(ww,n),[a,o]=m.useState(0),[l,c]=m.useState(0),u=!!(a&&l);return Xc(i.scrollbarX,()=>{var p;const h=((p=i.scrollbarX)==null?void 0:p.offsetHeight)||0;i.onCornerHeightChange(h),c(h)}),Xc(i.scrollbarY,()=>{var p;const h=((p=i.scrollbarY)==null?void 0:p.offsetWidth)||0;i.onCornerWidthChange(h),o(h)}),u?s.jsx(Ye.div,{...r,ref:e,style:{width:a,height:l,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function gp(t){return t?parseInt(t,10):0}function PO(t,e){const n=t/e;return isNaN(n)?0:n}function jg(t){const e=PO(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function IZ(t,e,n,r="ltr"){const i=jg(n),a=i/2,o=e||a,l=i-o,c=n.scrollbar.paddingStart+o,u=n.scrollbar.size-n.scrollbar.paddingEnd-l,h=n.content-n.viewport,p=r==="ltr"?[0,h]:[h*-1,0];return kO([c,u],p)(t)}function qS(t,e,n="ltr"){const r=jg(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,a=e.scrollbar.size-i,o=e.content-e.viewport,l=a-r,c=n==="ltr"?[0,o]:[o*-1,0],u=Ev(t,c);return kO([0,o],[0,l])(u)}function kO(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function AO(t,e){return t>0&&t<e}var RZ=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function i(){const a={left:t.scrollLeft,top:t.scrollTop},o=n.left!==a.left,l=n.top!==a.top;(o||l)&&e(),n=a,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function wg(t,e){const n=tn(t),r=m.useRef(0);return m.useEffect(()=>()=>window.clearTimeout(r.current),[]),m.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function Xc(t,e){const n=tn(e);Rn(()=>{let r=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(t),()=>{window.cancelAnimationFrame(r),i.unobserve(t)}}},[t,n])}var IO=wO,DZ=NO,MZ=EO;const bg=m.forwardRef(({className:t,children:e,...n},r)=>s.jsxs(IO,{ref:r,className:Re("relative overflow-hidden",t),...n,children:[s.jsx(DZ,{className:"h-full w-full rounded-[inherit]",children:e}),s.jsx(RO,{}),s.jsx(MZ,{})]}));bg.displayName=IO.displayName;const RO=m.forwardRef(({className:t,orientation:e="vertical",...n},r)=>s.jsx(vw,{ref:r,orientation:e,className:Re("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:s.jsx(TO,{className:"relative flex-1 rounded-full bg-border"})}));RO.displayName=vw.displayName;const ye=Symbol.for("drizzle:entityKind");function En(t,e){if(!t||typeof t!="object")return!1;if(t instanceof e)return!0;if(!Object.prototype.hasOwnProperty.call(e,ye))throw new Error(`Class "${e.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let n=Object.getPrototypeOf(t).constructor;if(n)for(;n;){if(ye in n&&n[ye]===e[ye])return!0;n=Object.getPrototypeOf(n)}return!1}var w_;w_=ye;class Zc{constructor(e,n){H(this,"name");H(this,"keyAsName");H(this,"primary");H(this,"notNull");H(this,"default");H(this,"defaultFn");H(this,"onUpdateFn");H(this,"hasDefault");H(this,"isUnique");H(this,"uniqueName");H(this,"uniqueType");H(this,"dataType");H(this,"columnType");H(this,"enumValues");H(this,"generated");H(this,"generatedIdentity");H(this,"config");this.table=e,this.config=n,this.name=n.name,this.keyAsName=n.keyAsName,this.notNull=n.notNull,this.default=n.default,this.defaultFn=n.defaultFn,this.onUpdateFn=n.onUpdateFn,this.hasDefault=n.hasDefault,this.primary=n.primaryKey,this.isUnique=n.isUnique,this.uniqueName=n.uniqueName,this.uniqueType=n.uniqueType,this.dataType=n.dataType,this.columnType=n.columnType,this.generated=n.generated,this.generatedIdentity=n.generatedIdentity}mapFromDriverValue(e){return e}mapToDriverValue(e){return e}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}H(Zc,w_,"Column");var b_;b_=ye;class DO{constructor(e,n,r){H(this,"config");H(this,"$default",this.$defaultFn);H(this,"$onUpdate",this.$onUpdateFn);this.config={name:e,keyAsName:e==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:n,columnType:r,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(e){return this.config.default=e,this.config.hasDefault=!0,this}$defaultFn(e){return this.config.defaultFn=e,this.config.hasDefault=!0,this}$onUpdateFn(e){return this.config.onUpdateFn=e,this.config.hasDefault=!0,this}primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(e){this.config.name===""&&(this.config.name=e)}}H(DO,b_,"ColumnBuilder");const vc=Symbol.for("drizzle:Name");var N_;N_=ye;class MO{constructor(e,n){H(this,"reference");H(this,"_onUpdate","no action");H(this,"_onDelete","no action");this.reference=()=>{const{name:r,columns:i,foreignColumns:a}=e();return{name:r,columns:i,foreignTable:a[0].table,foreignColumns:a}},n&&(this._onUpdate=n.onUpdate,this._onDelete=n.onDelete)}onUpdate(e){return this._onUpdate=e===void 0?"no action":e,this}onDelete(e){return this._onDelete=e===void 0?"no action":e,this}build(e){return new OO(e,this)}}H(MO,N_,"PgForeignKeyBuilder");var S_;S_=ye;class OO{constructor(e,n){H(this,"reference");H(this,"onUpdate");H(this,"onDelete");this.table=e,this.reference=n.reference,this.onUpdate=n._onUpdate,this.onDelete=n._onDelete}getName(){const{name:e,columns:n,foreignColumns:r}=this.reference(),i=n.map(l=>l.name),a=r.map(l=>l.name),o=[this.table[vc],...i,r[0].table[vc],...a];return e??`${o.join("_")}_fk`}}H(OO,S_,"PgForeignKey");function OZ(t,...e){return t(...e)}function FZ(t,e){return`${t[vc]}_${e.join("_")}_unique`}function HS(t,e,n){for(let r=e;r<t.length;r++){const i=t[r];if(i==="\\"){r++;continue}if(i==='"')return[t.slice(e,r).replace(/\\/g,""),r+1];if(!n&&(i===","||i==="}"))return[t.slice(e,r).replace(/\\/g,""),r]}return[t.slice(e).replace(/\\/g,""),t.length]}function FO(t,e=0){const n=[];let r=e,i=!1;for(;r<t.length;){const a=t[r];if(a===","){(i||r===e)&&n.push(""),i=!0,r++;continue}if(i=!1,a==="\\"){r+=2;continue}if(a==='"'){const[c,u]=HS(t,r+1,!0);n.push(c),r=u;continue}if(a==="}")return[n,r+1];if(a==="{"){const[c,u]=FO(t,r+1);n.push(c),r=u;continue}const[o,l]=HS(t,r,!1);n.push(o),r=l}return[n,r]}function LZ(t){const[e]=FO(t,1);return e}function LO(t){return`{${t.map(e=>Array.isArray(e)?LO(e):typeof e=="string"?`"${e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${e}`).join(",")}}`}var __,C_;class Et extends(C_=DO,__=ye,C_){constructor(){super(...arguments);H(this,"foreignKeyConfigs",[])}array(n){return new VO(this.config.name,this,n)}references(n,r={}){return this.foreignKeyConfigs.push({ref:n,actions:r}),this}unique(n,r){return this.config.isUnique=!0,this.config.uniqueName=n,this.config.uniqueType=r==null?void 0:r.nulls,this}generatedAlwaysAs(n){return this.config.generated={as:n,type:"always",mode:"stored"},this}buildForeignKeys(n,r){return this.foreignKeyConfigs.map(({ref:i,actions:a})=>OZ((o,l)=>{const c=new MO(()=>{const u=o();return{columns:[n],foreignColumns:[u]}});return l.onUpdate&&c.onUpdate(l.onUpdate),l.onDelete&&c.onDelete(l.onDelete),c.build(r)},i,a))}buildExtraConfigColumn(n){return new UO(n,this.config)}}H(Et,__,"PgColumnBuilder");var T_,E_;class xt extends(E_=Zc,T_=ye,E_){constructor(e,n){n.uniqueName||(n.uniqueName=FZ(e,[n.name])),super(e,n),this.table=e}}H(xt,T_,"PgColumn");var P_,k_;class UO extends(k_=xt,P_=ye,k_){constructor(){super(...arguments);H(this,"indexConfig",{order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass});H(this,"defaultConfig",{order:"asc",nulls:"last",opClass:void 0})}getSQLType(){return this.getSQLType()}asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(n){return this.indexConfig.opClass=n,this}}H(UO,P_,"ExtraConfigColumn");var A_;A_=ye;class of{constructor(e,n,r,i){H(this,"name");H(this,"keyAsName");H(this,"type");H(this,"indexConfig");this.name=e,this.keyAsName=n,this.type=r,this.indexConfig=i}}H(of,A_,"IndexedColumn");var I_,R_;class VO extends(R_=Et,I_=ye,R_){constructor(e,n,r){super(e,"array","PgArray"),this.config.baseBuilder=n,this.config.size=r}build(e){const n=this.config.baseBuilder.build(e);return new Vv(e,this.config,n)}}H(VO,I_,"PgArrayBuilder");var D_,M_;const bp=class bp extends(M_=xt,D_=ye,M_){constructor(n,r,i,a){super(n,r);H(this,"size");this.baseColumn=i,this.range=a,this.size=r.size}getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(n){return typeof n=="string"&&(n=LZ(n)),n.map(r=>this.baseColumn.mapFromDriverValue(r))}mapToDriverValue(n,r=!1){const i=n.map(a=>a===null?null:En(this.baseColumn,bp)?this.baseColumn.mapToDriverValue(a,!0):this.baseColumn.mapToDriverValue(a));return r?i:LO(i)}};H(bp,D_,"PgArray");let Vv=bp;const WS=Symbol.for("drizzle:isPgEnum");function UZ(t){return!!t&&typeof t=="function"&&WS in t&&t[WS]===!0}var O_;O_=ye;class bw{constructor(e,n,r,i=!1){this._={brand:"Subquery",sql:e,selectedFields:n,alias:r,isWith:i}}}H(bw,O_,"Subquery");const VZ={startActiveSpan(t,e){return e()}},jc=Symbol.for("drizzle:ViewBaseConfig"),Kx=Symbol.for("drizzle:Schema"),KS=Symbol.for("drizzle:Columns"),GS=Symbol.for("drizzle:ExtraConfigColumns"),Gx=Symbol.for("drizzle:OriginalName"),Qx=Symbol.for("drizzle:BaseName"),xp=Symbol.for("drizzle:IsAlias"),QS=Symbol.for("drizzle:ExtraConfigBuilder"),$O=Symbol.for("drizzle:IsDrizzleTable");var F_,L_,U_,V_,$_,z_,B_,q_,H_,W_;W_=ye,H_=vc,q_=Gx,B_=Kx,z_=KS,$_=GS,V_=Qx,U_=xp,L_=$O,F_=QS;class ps{constructor(e,n,r){H(this,H_);H(this,q_);H(this,B_);H(this,z_);H(this,$_);H(this,V_);H(this,U_,!1);H(this,L_,!0);H(this,F_);this[vc]=this[Gx]=e,this[Kx]=n,this[Qx]=r}}H(ps,W_,"Table"),H(ps,"Symbol",{Name:vc,Schema:Kx,OriginalName:Gx,Columns:KS,ExtraConfigColumns:GS,BaseName:Qx,IsAlias:xp,ExtraConfigBuilder:QS});function zO(t){return typeof t=="object"&&t!==null&&$O in t}function $Z(t){return t!=null&&typeof t.getSQL=="function"}function zZ(t){var n;const e={sql:"",params:[]};for(const r of t)e.sql+=r.sql,e.params.push(...r.params),(n=r.typings)!=null&&n.length&&(e.typings||(e.typings=[]),e.typings.push(...r.typings));return e}var K_;K_=ye;class ir{constructor(e){H(this,"value");this.value=Array.isArray(e)?e:[e]}getSQL(){return new gn([this])}}H(ir,K_,"StringChunk");var G_;G_=ye;const Po=class Po{constructor(e){H(this,"decoder",BO);H(this,"shouldInlineParams",!1);this.queryChunks=e}append(e){return this.queryChunks.push(...e.queryChunks),this}toQuery(e){return VZ.startActiveSpan("drizzle.buildSQL",n=>{const r=this.buildQueryFromSourceParams(this.queryChunks,e);return n==null||n.setAttributes({"drizzle.query.text":r.sql,"drizzle.query.params":JSON.stringify(r.params)}),r})}buildQueryFromSourceParams(e,n){const r=Object.assign({},n,{inlineParams:n.inlineParams||this.shouldInlineParams,paramStartIndex:n.paramStartIndex||{value:0}}),{casing:i,escapeName:a,escapeParam:o,prepareTyping:l,inlineParams:c,paramStartIndex:u}=r;return zZ(e.map(h=>{var p;if(En(h,ir))return{sql:h.value.join(""),params:[]};if(En(h,yp))return{sql:a(h.value),params:[]};if(h===void 0)return{sql:"",params:[]};if(Array.isArray(h)){const f=[new ir("(")];for(const[v,_]of h.entries())f.push(_),v<h.length-1&&f.push(new ir(", "));return f.push(new ir(")")),this.buildQueryFromSourceParams(f,r)}if(En(h,Po))return this.buildQueryFromSourceParams(h.queryChunks,{...r,inlineParams:c||h.shouldInlineParams});if(En(h,ps)){const f=h[ps.Symbol.Schema],v=h[ps.Symbol.Name];return{sql:f===void 0||h[xp]?a(v):a(f)+"."+a(v),params:[]}}if(En(h,Zc)){const f=i.getColumnCasing(h);if(n.invokeSource==="indexes")return{sql:a(f),params:[]};const v=h.table[ps.Symbol.Schema];return{sql:h.table[xp]||v===void 0?a(h.table[ps.Symbol.Name])+"."+a(f):a(v)+"."+a(h.table[ps.Symbol.Name])+"."+a(f),params:[]}}if(En(h,WO)){const f=h[jc].schema,v=h[jc].name;return{sql:f===void 0||h[jc].isAlias?a(v):a(f)+"."+a(v),params:[]}}if(En(h,Nw)){if(En(h.value,jp))return{sql:o(u.value++,h),params:[h],typings:["none"]};const f=h.value===null?null:h.encoder.mapToDriverValue(h.value);if(En(f,Po))return this.buildQueryFromSourceParams([f],r);if(c)return{sql:this.mapInlineParam(f,r),params:[]};let v=["none"];return l&&(v=[l(h.encoder)]),{sql:o(u.value++,f),params:[f],typings:v}}return En(h,jp)?{sql:o(u.value++,h),params:[h],typings:["none"]}:En(h,Po.Aliased)&&h.fieldAlias!==void 0?{sql:a(h.fieldAlias),params:[]}:En(h,bw)?h._.isWith?{sql:a(h._.alias),params:[]}:this.buildQueryFromSourceParams([new ir("("),h._.sql,new ir(") "),new yp(h._.alias)],r):UZ(h)?h.schema?{sql:a(h.schema)+"."+a(h.enumName),params:[]}:{sql:a(h.enumName),params:[]}:$Z(h)?(p=h.shouldOmitSQLParens)!=null&&p.call(h)?this.buildQueryFromSourceParams([h.getSQL()],r):this.buildQueryFromSourceParams([new ir("("),h.getSQL(),new ir(")")],r):c?{sql:this.mapInlineParam(h,r),params:[]}:{sql:o(u.value++,h),params:[h],typings:["none"]}}))}mapInlineParam(e,{escapeString:n}){if(e===null)return"null";if(typeof e=="number"||typeof e=="boolean")return e.toString();if(typeof e=="string")return n(e);if(typeof e=="object"){const r=e.toString();return n(r==="[object Object]"?JSON.stringify(e):r)}throw new Error("Unexpected param value: "+e)}getSQL(){return this}as(e){return e===void 0?this:new Po.Aliased(this,e)}mapWith(e){return this.decoder=typeof e=="function"?{mapFromDriverValue:e}:e,this}inlineParams(){return this.shouldInlineParams=!0,this}if(e){return e?this:void 0}};H(Po,G_,"SQL");let gn=Po;var Q_;Q_=ye;class yp{constructor(e){H(this,"brand");this.value=e}getSQL(){return new gn([this])}}H(yp,Q_,"Name");const BO={mapFromDriverValue:t=>t},qO={mapToDriverValue:t=>t};({...BO,...qO});var Y_;Y_=ye;class Nw{constructor(e,n=qO){H(this,"brand");this.value=e,this.encoder=n}getSQL(){return new gn([this])}}H(Nw,Y_,"Param");function vp(t,...e){const n=[];(e.length>0||t.length>0&&t[0]!=="")&&n.push(new ir(t[0]));for(const[r,i]of e.entries())n.push(i,new ir(t[r+1]));return new gn(n)}(t=>{function e(){return new gn([])}t.empty=e;function n(c){return new gn(c)}t.fromList=n;function r(c){return new gn([new ir(c)])}t.raw=r;function i(c,u){const h=[];for(const[p,f]of c.entries())p>0&&u!==void 0&&h.push(u),h.push(f);return new gn(h)}t.join=i;function a(c){return new yp(c)}t.identifier=a;function o(c){return new jp(c)}t.placeholder=o;function l(c,u){return new Nw(c,u)}t.param=l})(vp||(vp={}));(t=>{var n;n=ye;const r=class r{constructor(a,o){H(this,"isSelectionField",!1);this.sql=a,this.fieldAlias=o}getSQL(){return this.sql}clone(){return new r(this.sql,this.fieldAlias)}};H(r,n,"SQL.Aliased");let e=r;t.Aliased=e})(gn||(gn={}));var X_;X_=ye;class jp{constructor(e){this.name=e}getSQL(){return new gn([this])}}H(jp,X_,"Placeholder");const HO=Symbol.for("drizzle:IsDrizzleView");var Z_,J_,eC;eC=ye,J_=jc,Z_=HO;class WO{constructor({name:e,schema:n,selectedFields:r,query:i}){H(this,J_);H(this,Z_,!0);this[jc]={name:e,originalName:e,schema:n,selectedFields:r,query:i,isExisting:!i,isAlias:!1}}getSQL(){return new gn([this])}}H(WO,eC,"View");function BZ(t){return typeof t=="object"&&t!==null&&HO in t}Zc.prototype.getSQL=function(){return new gn([this])};ps.prototype.getSQL=function(){return new gn([this])};bw.prototype.getSQL=function(){return new gn([this])};function qZ(t){return t[ps.Symbol.Columns]}function HZ(t){return t[jc].selectedFields}function Hn(t,e){return{name:typeof t=="string"&&t.length>0?t:"",config:typeof t=="object"?t:e}}var tC,nC;class Uh extends(nC=Et,tC=ye,nC){generatedAlwaysAsIdentity(e){if(e){const{name:n,...r}=e;this.config.generatedIdentity={type:"always",sequenceName:n,sequenceOptions:r}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(e){if(e){const{name:n,...r}=e;this.config.generatedIdentity={type:"byDefault",sequenceName:n,sequenceOptions:r}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}H(Uh,tC,"PgIntColumnBaseBuilder");var sC,rC;class KO extends(rC=Uh,sC=ye,rC){constructor(e){super(e,"number","PgBigInt53")}build(e){return new GO(e,this.config)}}H(KO,sC,"PgBigInt53Builder");var iC,aC;class GO extends(aC=xt,iC=ye,aC){getSQLType(){return"bigint"}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}}H(GO,iC,"PgBigInt53");var oC,lC;class QO extends(lC=Uh,oC=ye,lC){constructor(e){super(e,"bigint","PgBigInt64")}build(e){return new YO(e,this.config)}}H(QO,oC,"PgBigInt64Builder");var cC,dC;class YO extends(dC=xt,cC=ye,dC){getSQLType(){return"bigint"}mapFromDriverValue(e){return BigInt(e)}}H(YO,cC,"PgBigInt64");function WZ(t,e){const{name:n,config:r}=Hn(t,e);return r.mode==="number"?new KO(n):new QO(n)}var uC,hC;class XO extends(hC=Et,uC=ye,hC){constructor(e){super(e,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new ZO(e,this.config)}}H(XO,uC,"PgBigSerial53Builder");var mC,fC;class ZO extends(fC=xt,mC=ye,fC){getSQLType(){return"bigserial"}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}}H(ZO,mC,"PgBigSerial53");var pC,gC;class JO extends(gC=Et,pC=ye,gC){constructor(e){super(e,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(e){return new e3(e,this.config)}}H(JO,pC,"PgBigSerial64Builder");var xC,yC;class e3 extends(yC=xt,xC=ye,yC){getSQLType(){return"bigserial"}mapFromDriverValue(e){return BigInt(e)}}H(e3,xC,"PgBigSerial64");function KZ(t,e){const{name:n,config:r}=Hn(t,e);return r.mode==="number"?new XO(n):new JO(n)}var vC,jC;class t3 extends(jC=Et,vC=ye,jC){constructor(e){super(e,"boolean","PgBoolean")}build(e){return new n3(e,this.config)}}H(t3,vC,"PgBooleanBuilder");var wC,bC;class n3 extends(bC=xt,wC=ye,bC){getSQLType(){return"boolean"}}H(n3,wC,"PgBoolean");function Cn(t){return new t3(t??"")}var NC,SC;class s3 extends(SC=Et,NC=ye,SC){constructor(e,n){super(e,"string","PgChar"),this.config.length=n.length,this.config.enumValues=n.enum}build(e){return new r3(e,this.config)}}H(s3,NC,"PgCharBuilder");var _C,CC;class r3 extends(CC=xt,_C=ye,CC){constructor(){super(...arguments);H(this,"length",this.config.length);H(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}H(r3,_C,"PgChar");function GZ(t,e={}){const{name:n,config:r}=Hn(t,e);return new s3(n,r)}var TC,EC;class i3 extends(EC=Et,TC=ye,EC){constructor(e){super(e,"string","PgCidr")}build(e){return new a3(e,this.config)}}H(i3,TC,"PgCidrBuilder");var PC,kC;class a3 extends(kC=xt,PC=ye,kC){getSQLType(){return"cidr"}}H(a3,PC,"PgCidr");function QZ(t){return new i3(t??"")}var AC,IC;class o3 extends(IC=Et,AC=ye,IC){constructor(e,n,r){super(e,"custom","PgCustomColumn"),this.config.fieldConfig=n,this.config.customTypeParams=r}build(e){return new l3(e,this.config)}}H(o3,AC,"PgCustomColumnBuilder");var RC,DC;class l3 extends(DC=xt,RC=ye,DC){constructor(n,r){super(n,r);H(this,"sqlName");H(this,"mapTo");H(this,"mapFrom");this.sqlName=r.customTypeParams.dataType(r.fieldConfig),this.mapTo=r.customTypeParams.toDriver,this.mapFrom=r.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(n){return typeof this.mapFrom=="function"?this.mapFrom(n):n}mapToDriverValue(n){return typeof this.mapTo=="function"?this.mapTo(n):n}}H(l3,RC,"PgCustomColumn");function YZ(t){return(e,n)=>{const{name:r,config:i}=Hn(e,n);return new o3(r,i,t)}}var MC,OC;class md extends(OC=Et,MC=ye,OC){defaultNow(){return this.default(vp`now()`)}}H(md,MC,"PgDateColumnBaseBuilder");var FC,LC;class c3 extends(LC=md,FC=ye,LC){constructor(e){super(e,"date","PgDate")}build(e){return new d3(e,this.config)}}H(c3,FC,"PgDateBuilder");var UC,VC;class d3 extends(VC=xt,UC=ye,VC){getSQLType(){return"date"}mapFromDriverValue(e){return new Date(e)}mapToDriverValue(e){return e.toISOString()}}H(d3,UC,"PgDate");var $C,zC;class u3 extends(zC=md,$C=ye,zC){constructor(e){super(e,"string","PgDateString")}build(e){return new h3(e,this.config)}}H(u3,$C,"PgDateStringBuilder");var BC,qC;class h3 extends(qC=xt,BC=ye,qC){getSQLType(){return"date"}}H(h3,BC,"PgDateString");function XZ(t,e){const{name:n,config:r}=Hn(t,e);return(r==null?void 0:r.mode)==="date"?new c3(n):new u3(n)}var HC,WC;class m3 extends(WC=Et,HC=ye,WC){constructor(e){super(e,"number","PgDoublePrecision")}build(e){return new f3(e,this.config)}}H(m3,HC,"PgDoublePrecisionBuilder");var KC,GC;class f3 extends(GC=xt,KC=ye,GC){getSQLType(){return"double precision"}mapFromDriverValue(e){return typeof e=="string"?Number.parseFloat(e):e}}H(f3,KC,"PgDoublePrecision");function ZZ(t){return new m3(t??"")}var QC,YC;class p3 extends(YC=Et,QC=ye,YC){constructor(e){super(e,"string","PgInet")}build(e){return new g3(e,this.config)}}H(p3,QC,"PgInetBuilder");var XC,ZC;class g3 extends(ZC=xt,XC=ye,ZC){getSQLType(){return"inet"}}H(g3,XC,"PgInet");function JZ(t){return new p3(t??"")}var JC,e2;class x3 extends(e2=Uh,JC=ye,e2){constructor(e){super(e,"number","PgInteger")}build(e){return new y3(e,this.config)}}H(x3,JC,"PgIntegerBuilder");var t2,n2;class y3 extends(n2=xt,t2=ye,n2){getSQLType(){return"integer"}mapFromDriverValue(e){return typeof e=="string"?Number.parseInt(e):e}}H(y3,t2,"PgInteger");function zs(t){return new x3(t??"")}var s2,r2;class v3 extends(r2=Et,s2=ye,r2){constructor(e,n){super(e,"string","PgInterval"),this.config.intervalConfig=n}build(e){return new j3(e,this.config)}}H(v3,s2,"PgIntervalBuilder");var i2,a2;class j3 extends(a2=xt,i2=ye,a2){constructor(){super(...arguments);H(this,"fields",this.config.intervalConfig.fields);H(this,"precision",this.config.intervalConfig.precision)}getSQLType(){const n=this.fields?` ${this.fields}`:"",r=this.precision?`(${this.precision})`:"";return`interval${n}${r}`}}H(j3,i2,"PgInterval");function eJ(t,e={}){const{name:n,config:r}=Hn(t,e);return new v3(n,r)}var o2,l2;class w3 extends(l2=Et,o2=ye,l2){constructor(e){super(e,"json","PgJson")}build(e){return new b3(e,this.config)}}H(w3,o2,"PgJsonBuilder");var c2,d2;class b3 extends(d2=xt,c2=ye,d2){constructor(e,n){super(e,n)}getSQLType(){return"json"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}}H(b3,c2,"PgJson");function tJ(t){return new w3(t??"")}var u2,h2;class N3 extends(h2=Et,u2=ye,h2){constructor(e){super(e,"json","PgJsonb")}build(e){return new S3(e,this.config)}}H(N3,u2,"PgJsonbBuilder");var m2,f2;class S3 extends(f2=xt,m2=ye,f2){constructor(e,n){super(e,n)}getSQLType(){return"jsonb"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}}H(S3,m2,"PgJsonb");function Xa(t){return new N3(t??"")}var p2,g2;class _3 extends(g2=Et,p2=ye,g2){constructor(e){super(e,"array","PgLine")}build(e){return new C3(e,this.config)}}H(_3,p2,"PgLineBuilder");var x2,y2;class C3 extends(y2=xt,x2=ye,y2){getSQLType(){return"line"}mapFromDriverValue(e){const[n,r,i]=e.slice(1,-1).split(",");return[Number.parseFloat(n),Number.parseFloat(r),Number.parseFloat(i)]}mapToDriverValue(e){return`{${e[0]},${e[1]},${e[2]}}`}}H(C3,x2,"PgLine");var v2,j2;class T3 extends(j2=Et,v2=ye,j2){constructor(e){super(e,"json","PgLineABC")}build(e){return new E3(e,this.config)}}H(T3,v2,"PgLineABCBuilder");var w2,b2;class E3 extends(b2=xt,w2=ye,b2){getSQLType(){return"line"}mapFromDriverValue(e){const[n,r,i]=e.slice(1,-1).split(",");return{a:Number.parseFloat(n),b:Number.parseFloat(r),c:Number.parseFloat(i)}}mapToDriverValue(e){return`{${e.a},${e.b},${e.c}}`}}H(E3,w2,"PgLineABC");function nJ(t,e){const{name:n,config:r}=Hn(t,e);return!(r!=null&&r.mode)||r.mode==="tuple"?new _3(n):new T3(n)}var N2,S2;class P3 extends(S2=Et,N2=ye,S2){constructor(e){super(e,"string","PgMacaddr")}build(e){return new k3(e,this.config)}}H(P3,N2,"PgMacaddrBuilder");var _2,C2;class k3 extends(C2=xt,_2=ye,C2){getSQLType(){return"macaddr"}}H(k3,_2,"PgMacaddr");function sJ(t){return new P3(t??"")}var T2,E2;class A3 extends(E2=Et,T2=ye,E2){constructor(e){super(e,"string","PgMacaddr8")}build(e){return new I3(e,this.config)}}H(A3,T2,"PgMacaddr8Builder");var P2,k2;class I3 extends(k2=xt,P2=ye,k2){getSQLType(){return"macaddr8"}}H(I3,P2,"PgMacaddr8");function rJ(t){return new A3(t??"")}var A2,I2;class R3 extends(I2=Et,A2=ye,I2){constructor(e,n,r){super(e,"string","PgNumeric"),this.config.precision=n,this.config.scale=r}build(e){return new D3(e,this.config)}}H(R3,A2,"PgNumericBuilder");var R2,D2;class D3 extends(D2=xt,R2=ye,D2){constructor(n,r){super(n,r);H(this,"precision");H(this,"scale");this.precision=r.precision,this.scale=r.scale}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}H(D3,R2,"PgNumeric");function M3(t,e){const{name:n,config:r}=Hn(t,e);return new R3(n,r==null?void 0:r.precision,r==null?void 0:r.scale)}const Xs=M3;var M2,O2;class O3 extends(O2=Et,M2=ye,O2){constructor(e){super(e,"array","PgPointTuple")}build(e){return new F3(e,this.config)}}H(O3,M2,"PgPointTupleBuilder");var F2,L2;class F3 extends(L2=xt,F2=ye,L2){getSQLType(){return"point"}mapFromDriverValue(e){if(typeof e=="string"){const[n,r]=e.slice(1,-1).split(",");return[Number.parseFloat(n),Number.parseFloat(r)]}return[e.x,e.y]}mapToDriverValue(e){return`(${e[0]},${e[1]})`}}H(F3,F2,"PgPointTuple");var U2,V2;class L3 extends(V2=Et,U2=ye,V2){constructor(e){super(e,"json","PgPointObject")}build(e){return new U3(e,this.config)}}H(L3,U2,"PgPointObjectBuilder");var $2,z2;class U3 extends(z2=xt,$2=ye,z2){getSQLType(){return"point"}mapFromDriverValue(e){if(typeof e=="string"){const[n,r]=e.slice(1,-1).split(",");return{x:Number.parseFloat(n),y:Number.parseFloat(r)}}return e}mapToDriverValue(e){return`(${e.x},${e.y})`}}H(U3,$2,"PgPointObject");function iJ(t,e){const{name:n,config:r}=Hn(t,e);return!(r!=null&&r.mode)||r.mode==="tuple"?new O3(n):new L3(n)}function aJ(t){const e=[];for(let n=0;n<t.length;n+=2)e.push(Number.parseInt(t.slice(n,n+2),16));return new Uint8Array(e)}function YS(t,e){const n=new ArrayBuffer(8),r=new DataView(n);for(let i=0;i<8;i++)r.setUint8(i,t[e+i]);return r.getFloat64(0,!0)}function V3(t){const e=aJ(t);let n=0;const r=e[n];n+=1;const i=new DataView(e.buffer),a=i.getUint32(n,r===1);if(n+=4,a&536870912&&(i.getUint32(n,r===1),n+=4),(a&65535)===1){const o=YS(e,n);n+=8;const l=YS(e,n);return n+=8,[o,l]}throw new Error("Unsupported geometry type")}var B2,q2;class $3 extends(q2=Et,B2=ye,q2){constructor(e){super(e,"array","PgGeometry")}build(e){return new z3(e,this.config)}}H($3,B2,"PgGeometryBuilder");var H2,W2;class z3 extends(W2=xt,H2=ye,W2){getSQLType(){return"geometry(point)"}mapFromDriverValue(e){return V3(e)}mapToDriverValue(e){return`point(${e[0]} ${e[1]})`}}H(z3,H2,"PgGeometry");var K2,G2;class B3 extends(G2=Et,K2=ye,G2){constructor(e){super(e,"json","PgGeometryObject")}build(e){return new q3(e,this.config)}}H(B3,K2,"PgGeometryObjectBuilder");var Q2,Y2;class q3 extends(Y2=xt,Q2=ye,Y2){getSQLType(){return"geometry(point)"}mapFromDriverValue(e){const n=V3(e);return{x:n[0],y:n[1]}}mapToDriverValue(e){return`point(${e.x} ${e.y})`}}H(q3,Q2,"PgGeometryObject");function oJ(t,e){const{name:n,config:r}=Hn(t,e);return!(r!=null&&r.mode)||r.mode==="tuple"?new $3(n):new B3(n)}var X2,Z2;class H3 extends(Z2=Et,X2=ye,Z2){constructor(e,n){super(e,"number","PgReal"),this.config.length=n}build(e){return new W3(e,this.config)}}H(H3,X2,"PgRealBuilder");var J2,eT;class W3 extends(eT=xt,J2=ye,eT){constructor(n,r){super(n,r);H(this,"mapFromDriverValue",n=>typeof n=="string"?Number.parseFloat(n):n)}getSQLType(){return"real"}}H(W3,J2,"PgReal");function lJ(t){return new H3(t??"")}var tT,nT;class K3 extends(nT=Et,tT=ye,nT){constructor(e){super(e,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new G3(e,this.config)}}H(K3,tT,"PgSerialBuilder");var sT,rT;class G3 extends(rT=xt,sT=ye,rT){getSQLType(){return"serial"}}H(G3,sT,"PgSerial");function cJ(t){return new K3(t??"")}var iT,aT;class Q3 extends(aT=Uh,iT=ye,aT){constructor(e){super(e,"number","PgSmallInt")}build(e){return new Y3(e,this.config)}}H(Q3,iT,"PgSmallIntBuilder");var oT,lT;class Y3 extends(lT=xt,oT=ye,lT){constructor(){super(...arguments);H(this,"mapFromDriverValue",n=>typeof n=="string"?Number(n):n)}getSQLType(){return"smallint"}}H(Y3,oT,"PgSmallInt");function dJ(t){return new Q3(t??"")}var cT,dT;class X3 extends(dT=Et,cT=ye,dT){constructor(e){super(e,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new Z3(e,this.config)}}H(X3,cT,"PgSmallSerialBuilder");var uT,hT;class Z3 extends(hT=xt,uT=ye,hT){getSQLType(){return"smallserial"}}H(Z3,uT,"PgSmallSerial");function uJ(t){return new X3(t??"")}var mT,fT;class J3 extends(fT=Et,mT=ye,fT){constructor(e,n){super(e,"string","PgText"),this.config.enumValues=n.enum}build(e){return new eF(e,this.config)}}H(J3,mT,"PgTextBuilder");var pT,gT;class eF extends(gT=xt,pT=ye,gT){constructor(){super(...arguments);H(this,"enumValues",this.config.enumValues)}getSQLType(){return"text"}}H(eF,pT,"PgText");function dt(t,e={}){const{name:n,config:r}=Hn(t,e);return new J3(n,r)}var xT,yT;class tF extends(yT=md,xT=ye,yT){constructor(e,n,r){super(e,"string","PgTime"),this.withTimezone=n,this.precision=r,this.config.withTimezone=n,this.config.precision=r}build(e){return new nF(e,this.config)}}H(tF,xT,"PgTimeBuilder");var vT,jT;class nF extends(jT=xt,vT=ye,jT){constructor(n,r){super(n,r);H(this,"withTimezone");H(this,"precision");this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}H(nF,vT,"PgTime");function hJ(t,e={}){const{name:n,config:r}=Hn(t,e);return new tF(n,r.withTimezone??!1,r.precision)}var wT,bT;class sF extends(bT=md,wT=ye,bT){constructor(e,n,r){super(e,"date","PgTimestamp"),this.config.withTimezone=n,this.config.precision=r}build(e){return new rF(e,this.config)}}H(sF,wT,"PgTimestampBuilder");var NT,ST;class rF extends(ST=xt,NT=ye,ST){constructor(n,r){super(n,r);H(this,"withTimezone");H(this,"precision");H(this,"mapFromDriverValue",n=>new Date(this.withTimezone?n:n+"+0000"));H(this,"mapToDriverValue",n=>n.toISOString());this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}}H(rF,NT,"PgTimestamp");var _T,CT;class iF extends(CT=md,_T=ye,CT){constructor(e,n,r){super(e,"string","PgTimestampString"),this.config.withTimezone=n,this.config.precision=r}build(e){return new aF(e,this.config)}}H(iF,_T,"PgTimestampStringBuilder");var TT,ET;class aF extends(ET=xt,TT=ye,ET){constructor(n,r){super(n,r);H(this,"withTimezone");H(this,"precision");this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}H(aF,TT,"PgTimestampString");function Ae(t,e={}){const{name:n,config:r}=Hn(t,e);return(r==null?void 0:r.mode)==="string"?new iF(n,r.withTimezone??!1,r.precision):new sF(n,(r==null?void 0:r.withTimezone)??!1,r==null?void 0:r.precision)}var PT,kT;class oF extends(kT=Et,PT=ye,kT){constructor(e){super(e,"string","PgUUID")}defaultRandom(){return this.default(vp`gen_random_uuid()`)}build(e){return new lF(e,this.config)}}H(oF,PT,"PgUUIDBuilder");var AT,IT;class lF extends(IT=xt,AT=ye,IT){getSQLType(){return"uuid"}}H(lF,AT,"PgUUID");function We(t){return new oF(t??"")}var RT,DT;class cF extends(DT=Et,RT=ye,DT){constructor(e,n){super(e,"string","PgVarchar"),this.config.length=n.length,this.config.enumValues=n.enum}build(e){return new dF(e,this.config)}}H(cF,RT,"PgVarcharBuilder");var MT,OT;class dF extends(OT=xt,MT=ye,OT){constructor(){super(...arguments);H(this,"length",this.config.length);H(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}H(dF,MT,"PgVarchar");function ne(t,e={}){const{name:n,config:r}=Hn(t,e);return new cF(n,r)}var FT,LT;class uF extends(LT=Et,FT=ye,LT){constructor(e,n){super(e,"string","PgBinaryVector"),this.config.dimensions=n.dimensions}build(e){return new hF(e,this.config)}}H(uF,FT,"PgBinaryVectorBuilder");var UT,VT;class hF extends(VT=xt,UT=ye,VT){constructor(){super(...arguments);H(this,"dimensions",this.config.dimensions)}getSQLType(){return`bit(${this.dimensions})`}}H(hF,UT,"PgBinaryVector");function mJ(t,e){const{name:n,config:r}=Hn(t,e);return new uF(n,r)}var $T,zT;class mF extends(zT=Et,$T=ye,zT){constructor(e,n){super(e,"array","PgHalfVector"),this.config.dimensions=n.dimensions}build(e){return new fF(e,this.config)}}H(mF,$T,"PgHalfVectorBuilder");var BT,qT;class fF extends(qT=xt,BT=ye,qT){constructor(){super(...arguments);H(this,"dimensions",this.config.dimensions)}getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(n){return JSON.stringify(n)}mapFromDriverValue(n){return n.slice(1,-1).split(",").map(r=>Number.parseFloat(r))}}H(fF,BT,"PgHalfVector");function fJ(t,e){const{name:n,config:r}=Hn(t,e);return new mF(n,r)}var HT,WT;class pF extends(WT=Et,HT=ye,WT){constructor(e,n){super(e,"string","PgSparseVector"),this.config.dimensions=n.dimensions}build(e){return new gF(e,this.config)}}H(pF,HT,"PgSparseVectorBuilder");var KT,GT;class gF extends(GT=xt,KT=ye,GT){constructor(){super(...arguments);H(this,"dimensions",this.config.dimensions)}getSQLType(){return`sparsevec(${this.dimensions})`}}H(gF,KT,"PgSparseVector");function pJ(t,e){const{name:n,config:r}=Hn(t,e);return new pF(n,r)}var QT,YT;class xF extends(YT=Et,QT=ye,YT){constructor(e,n){super(e,"array","PgVector"),this.config.dimensions=n.dimensions}build(e){return new yF(e,this.config)}}H(xF,QT,"PgVectorBuilder");var XT,ZT;class yF extends(ZT=xt,XT=ye,ZT){constructor(){super(...arguments);H(this,"dimensions",this.config.dimensions)}getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(n){return JSON.stringify(n)}mapFromDriverValue(n){return n.slice(1,-1).split(",").map(r=>Number.parseFloat(r))}}H(yF,XT,"PgVector");function gJ(t,e){const{name:n,config:r}=Hn(t,e);return new xF(n,r)}function xJ(){return{bigint:WZ,bigserial:KZ,boolean:Cn,char:GZ,cidr:QZ,customType:YZ,date:XZ,doublePrecision:ZZ,inet:JZ,integer:zs,interval:eJ,json:tJ,jsonb:Xa,line:nJ,macaddr:sJ,macaddr8:rJ,numeric:M3,point:iJ,geometry:oJ,real:lJ,serial:cJ,smallint:dJ,smallserial:uJ,text:dt,time:hJ,timestamp:Ae,uuid:We,varchar:ne,bit:mJ,halfvec:fJ,sparsevec:pJ,vector:gJ}}const $v=Symbol.for("drizzle:PgInlineForeignKeys"),XS=Symbol.for("drizzle:EnableRLS");var JT,eE,tE,nE,sE;class vu extends(sE=ps,nE=ye,tE=$v,eE=XS,JT=ps.Symbol.ExtraConfigBuilder,sE){constructor(){super(...arguments);H(this,tE,[]);H(this,eE,!1);H(this,JT)}}H(vu,nE,"PgTable"),H(vu,"Symbol",Object.assign({},ps.Symbol,{InlineForeignKeys:$v,EnableRLS:XS}));function yJ(t,e,n,r,i=t){const a=new vu(t,r,i),o=typeof e=="function"?e(xJ()):e,l=Object.fromEntries(Object.entries(o).map(([h,p])=>{const f=p;f.setName(h);const v=f.build(a);return a[$v].push(...f.buildForeignKeys(v,a)),[h,v]})),c=Object.fromEntries(Object.entries(o).map(([h,p])=>{const f=p;f.setName(h);const v=f.buildExtraConfigColumn(a);return[h,v]})),u=Object.assign(a,l);return u[ps.Symbol.Columns]=l,u[ps.Symbol.ExtraConfigColumns]=c,n&&(u[vu.Symbol.ExtraConfigBuilder]=n),Object.assign(u,{enableRLS:()=>(u[vu.Symbol.EnableRLS]=!0,u)})}const Bt=(t,e,n)=>yJ(t,e,n,void 0);var rE;rE=ye;class vF{constructor(e,n){this.unique=e,this.name=n}on(...e){return new lf(e.map(n=>{if(En(n,gn))return n;n=n;const r=new of(n.name,!!n.keyAsName,n.columnType,n.indexConfig);return n.indexConfig=JSON.parse(JSON.stringify(n.defaultConfig)),r}),this.unique,!1,this.name)}onOnly(...e){return new lf(e.map(n=>{if(En(n,gn))return n;n=n;const r=new of(n.name,!!n.keyAsName,n.columnType,n.indexConfig);return n.indexConfig=n.defaultConfig,r}),this.unique,!0,this.name)}using(e,...n){return new lf(n.map(r=>{if(En(r,gn))return r;r=r;const i=new of(r.name,!!r.keyAsName,r.columnType,r.indexConfig);return r.indexConfig=JSON.parse(JSON.stringify(r.defaultConfig)),i}),this.unique,!0,this.name,e)}}H(vF,rE,"PgIndexBuilderOn");var iE;iE=ye;class lf{constructor(e,n,r,i,a="btree"){H(this,"config");this.config={name:i,columns:e,unique:n,only:r,method:a}}concurrently(){return this.config.concurrently=!0,this}with(e){return this.config.with=e,this}where(e){return this.config.where=e,this}build(e){return new jF(this.config,e)}}H(lf,iE,"PgIndexBuilder");var aE;aE=ye;class jF{constructor(e,n){H(this,"config");this.config={...e,table:n}}}H(jF,aE,"PgIndex");function vJ(t){return new vF(!1,t)}const rn={INT8_MIN:-128,INT8_MAX:127,INT8_UNSIGNED_MAX:255,INT16_MIN:-32768,INT16_MAX:32767,INT16_UNSIGNED_MAX:65535,INT24_MIN:-8388608,INT24_MAX:8388607,INT24_UNSIGNED_MAX:16777215,INT32_MIN:-2147483648,INT32_MAX:2147483647,INT32_UNSIGNED_MAX:4294967295,INT48_MIN:-0x800000000000,INT48_MAX:0x7fffffffffff,INT48_UNSIGNED_MAX:0xffffffffffff,INT64_MIN:-9223372036854775808n,INT64_MAX:9223372036854775807n,INT64_UNSIGNED_MAX:18446744073709551615n};function jn(t,e){return e.includes(t.columnType)}function jJ(t){return"enumValues"in t&&Array.isArray(t.enumValues)&&t.enumValues.length>0}const wJ=G.union([G.string(),G.number(),G.boolean(),G.null()]),bJ=G.union([wJ,G.record(G.any()),G.array(G.any())]),NJ=G.custom(t=>t instanceof Buffer);function wF(t,e){const n=(e==null?void 0:e.zodInstance)??G,r=(e==null?void 0:e.coerce)??{};let i;return jJ(t)&&(i=t.enumValues.length?n.enum(t.enumValues):n.string()),i||(jn(t,["PgGeometry","PgPointTuple"])?i=n.tuple([n.number(),n.number()]):jn(t,["PgGeometryObject","PgPointObject"])?i=n.object({x:n.number(),y:n.number()}):jn(t,["PgHalfVector","PgVector"])?(i=n.array(n.number()),i=t.dimensions?i.length(t.dimensions):i):jn(t,["PgLine"])?i=n.tuple([n.number(),n.number(),n.number()]):jn(t,["PgLineABC"])?i=n.object({a:n.number(),b:n.number(),c:n.number()}):jn(t,["PgArray"])?(i=n.array(wF(t.baseColumn,n)),i=t.size?i.length(t.size):i):t.dataType==="array"?i=n.array(n.any()):t.dataType==="number"?i=SJ(t,n,r):t.dataType==="bigint"?i=_J(t,n,r):t.dataType==="boolean"?i=r===!0||r.boolean?n.coerce.boolean():n.boolean():t.dataType==="date"?i=r===!0||r.date?n.coerce.date():n.date():t.dataType==="string"?i=CJ(t,n,r):t.dataType==="json"?i=bJ:t.dataType==="custom"?i=n.any():t.dataType==="buffer"&&(i=NJ)),i||(i=n.any()),i}function SJ(t,e,n){let r=t.getSQLType().includes("unsigned"),i,a,o=!1;jn(t,["MySqlTinyInt","SingleStoreTinyInt"])?(i=r?0:rn.INT8_MIN,a=r?rn.INT8_UNSIGNED_MAX:rn.INT8_MAX,o=!0):jn(t,["PgSmallInt","PgSmallSerial","MySqlSmallInt","SingleStoreSmallInt"])?(i=r?0:rn.INT16_MIN,a=r?rn.INT16_UNSIGNED_MAX:rn.INT16_MAX,o=!0):jn(t,["PgReal","MySqlFloat","MySqlMediumInt","SingleStoreMediumInt","SingleStoreFloat"])?(i=r?0:rn.INT24_MIN,a=r?rn.INT24_UNSIGNED_MAX:rn.INT24_MAX,o=jn(t,["MySqlMediumInt","SingleStoreMediumInt"])):jn(t,["PgInteger","PgSerial","MySqlInt","SingleStoreInt"])?(i=r?0:rn.INT32_MIN,a=r?rn.INT32_UNSIGNED_MAX:rn.INT32_MAX,o=!0):jn(t,["PgDoublePrecision","MySqlReal","MySqlDouble","SingleStoreReal","SingleStoreDouble","SQLiteReal"])?(i=r?0:rn.INT48_MIN,a=r?rn.INT48_UNSIGNED_MAX:rn.INT48_MAX):jn(t,["PgBigInt53","PgBigSerial53","MySqlBigInt53","MySqlSerial","SingleStoreBigInt53","SingleStoreSerial","SQLiteInteger"])?(r=r||jn(t,["MySqlSerial","SingleStoreSerial"]),i=r?0:Number.MIN_SAFE_INTEGER,a=Number.MAX_SAFE_INTEGER,o=!0):jn(t,["MySqlYear","SingleStoreYear"])?(i=1901,a=2155,o=!0):(i=Number.MIN_SAFE_INTEGER,a=Number.MAX_SAFE_INTEGER);let l=n===!0||n!=null&&n.number?e.coerce.number():e.number();return l=l.min(i).max(a),o?l.int():l}function _J(t,e,n){const r=t.getSQLType().includes("unsigned"),i=r?0n:rn.INT64_MIN,a=r?rn.INT64_UNSIGNED_MAX:rn.INT64_MAX;return(n===!0||n!=null&&n.bigint?e.coerce.bigint():e.bigint()).min(i).max(a)}function CJ(t,e,n){if(jn(t,["PgUUID"]))return e.string().uuid();let r,i,a=!1;jn(t,["PgVarchar","SQLiteText"])?r=t.length:jn(t,["MySqlVarChar","SingleStoreVarChar"])?r=t.length??rn.INT16_UNSIGNED_MAX:jn(t,["MySqlText","SingleStoreText"])&&(t.textType==="longtext"?r=rn.INT32_UNSIGNED_MAX:t.textType==="mediumtext"?r=rn.INT24_UNSIGNED_MAX:t.textType==="text"?r=rn.INT16_UNSIGNED_MAX:r=rn.INT8_UNSIGNED_MAX),jn(t,["PgChar","MySqlChar","SingleStoreChar"])&&(r=t.length,a=!0),jn(t,["PgBinaryVector"])&&(i=/^[01]+$/,r=t.dimensions);let o=n===!0||n!=null&&n.string?e.coerce.string():e.string();return o=i?o.regex(i):o,r&&a?o.length(r):r?o.max(r):o}function bF(t){return zO(t)?qZ(t):HZ(t)}function NF(t,e,n,r){const i={};for(const[a,o]of Object.entries(t)){if(!En(o,Zc)&&!En(o,gn)&&!En(o,gn.Aliased)&&typeof o=="object"){const p=zO(o)||BZ(o)?bF(o):o;i[a]=NF(p,e[a]??{},n,r);continue}const l=e[a];if(l!==void 0&&typeof l!="function"){i[a]=l;continue}const c=En(o,Zc)?o:void 0,u=c?wF(c,r):G.any(),h=typeof l=="function"?l(u):u;n.never(c)||(i[a]=h,c&&(n.nullable(c)&&(i[a]=i[a].nullable()),n.optional(c)&&(i[a]=i[a].optional())))}return G.object(i)}const TJ={never:t=>{var e,n;return((e=t==null?void 0:t.generated)==null?void 0:e.type)==="always"||((n=t==null?void 0:t.generatedIdentity)==null?void 0:n.type)==="always"},optional:t=>!t.notNull||t.notNull&&t.hasDefault,nullable:t=>!t.notNull},sn=(t,e)=>{const n=bF(t);return NF(n,{},TJ)};Bt("sessions",{sid:ne("sid").primaryKey(),sess:Xa("sess").notNull(),expire:Ae("expire").notNull()},t=>[vJ("IDX_session_expire").on(t.expire)]);const nn=Bt("users",{id:ne("id").primaryKey().notNull(),email:ne("email").unique(),firstName:ne("first_name"),lastName:ne("last_name"),profileImageUrl:ne("profile_image_url"),passwordHash:ne("password_hash"),isActive:Cn("is_active").default(!0),lastLoginAt:Ae("last_login_at"),role:ne("role").notNull().default("resident"),mustChangePassword:Cn("must_change_password").default(!1),createdAt:Ae("created_at").defaultNow(),updatedAt:Ae("updated_at").defaultNow()}),Vn=Bt("strata",{id:We("id").primaryKey().defaultRandom(),name:ne("name",{length:255}).notNull(),address:dt("address").notNull(),city:ne("city",{length:100}),province:ne("province",{length:50}),postalCode:ne("postal_code",{length:20}),country:ne("country",{length:50}).default("Canada"),phoneNumber:ne("phone_number",{length:20}),email:ne("email",{length:255}),unitCount:zs("unit_count").notNull(),corporationNumber:ne("corporation_number",{length:100}),incorporationDate:Ae("incorporation_date"),managementCompany:ne("management_company",{length:255}),managementContactName:ne("management_contact_name",{length:255}),managementContactEmail:ne("management_contact_email",{length:255}),managementContactPhone:ne("management_contact_phone",{length:20}),bylawsUrl:ne("bylaws_url"),feeStructure:Xa("fee_structure"),status:ne("status",{length:50}).notNull().default("active"),notes:dt("notes"),subscriptionStatus:ne("subscription_status",{length:50}).notNull().default("trial"),subscriptionTier:ne("subscription_tier",{length:50}).notNull().default("standard"),monthlyRate:Xs("monthly_rate",{precision:10,scale:2}).default("79.95"),trialStartDate:Ae("trial_start_date"),trialEndDate:Ae("trial_end_date"),subscriptionStartDate:Ae("subscription_start_date"),subscriptionEndDate:Ae("subscription_end_date"),lastPaymentDate:Ae("last_payment_date"),nextPaymentDate:Ae("next_payment_date"),isFreeForever:Cn("is_free_forever").default(!1),createdBy:ne("created_by"),createdAt:Ae("created_at").defaultNow(),updatedAt:Ae("updated_at").defaultNow()}),Sw=Bt("units",{id:We("id").primaryKey().defaultRandom(),strataId:We("strata_id").notNull().references(()=>Vn.id),unitNumber:ne("unit_number",{length:50}).notNull(),unitType:ne("unit_type",{length:50}),feeTierId:ne("fee_tier_id",{length:255}),ownerId:ne("owner_id").references(()=>nn.id),ownerName:ne("owner_name",{length:255}),ownerEmail:ne("owner_email",{length:255}),ownerPhone:ne("owner_phone",{length:50}),squareFootage:zs("square_footage"),balconySize:zs("balcony_size"),parkingSpaces:zs("parking_spaces").default(0),createdAt:Ae("created_at").defaultNow(),updatedAt:Ae("updated_at").defaultNow()}),EJ=Bt("user_strata_access",{id:We("id").primaryKey().defaultRandom(),userId:ne("user_id").notNull().references(()=>nn.id),strataId:We("strata_id").notNull().references(()=>Vn.id),role:ne("role").notNull(),canPostAnnouncements:Cn("can_post_announcements").default(!1),createdAt:Ae("created_at").defaultNow()}),Jc=Bt("vendors",{id:We("id").primaryKey().defaultRandom(),strataId:We("strata_id").notNull().references(()=>Vn.id),name:ne("name",{length:255}).notNull(),contactInfo:Xa("contact_info"),serviceCategories:dt("service_categories").array(),rating:Xs("rating",{precision:3,scale:2}),businessLicense:ne("business_license"),insurance:Xa("insurance"),emergencyContact:ne("emergency_contact"),isPreferred:Cn("is_preferred").default(!1),notes:dt("notes"),createdAt:Ae("created_at").defaultNow(),updatedAt:Ae("updated_at").defaultNow()}),PJ=Bt("vendor_contracts",{id:We("id").primaryKey().defaultRandom(),vendorId:We("vendor_id").notNull().references(()=>Jc.id),strataId:We("strata_id").notNull().references(()=>Vn.id),contractName:ne("contract_name",{length:255}).notNull(),description:dt("description"),contractDocument:ne("contract_document"),startDate:Ae("start_date").notNull(),endDate:Ae("end_date"),autoRenew:Cn("auto_renew").default(!1),renewalTerms:dt("renewal_terms"),costAmount:Xs("cost_amount",{precision:10,scale:2}).notNull(),costFrequency:ne("cost_frequency",{length:20}).notNull(),paymentTerms:ne("payment_terms",{length:100}),serviceScope:dt("service_scope"),status:ne("status",{length:50}).notNull().default("active"),createdBy:ne("created_by").notNull().references(()=>nn.id),createdAt:Ae("created_at").defaultNow(),updatedAt:Ae("updated_at").defaultNow()}),kJ=Bt("vendor_history",{id:We("id").primaryKey().defaultRandom(),vendorId:We("vendor_id").notNull().references(()=>Jc.id),strataId:We("strata_id").notNull().references(()=>Vn.id),eventType:ne("event_type",{length:50}).notNull(),title:ne("title",{length:255}).notNull(),description:dt("description"),rating:zs("rating"),cost:Xs("cost",{precision:10,scale:2}),attachments:dt("attachments").array(),recordedBy:ne("recorded_by").notNull().references(()=>nn.id),eventDate:Ae("event_date").notNull(),createdAt:Ae("created_at").defaultNow()}),_w=Bt("expenses",{id:We("id").primaryKey().defaultRandom(),strataId:We("strata_id").notNull().references(()=>Vn.id),vendorId:We("vendor_id").references(()=>Jc.id),amount:Xs("amount",{precision:10,scale:2}).notNull(),description:dt("description").notNull(),category:ne("category",{length:100}),isRecurring:Cn("is_recurring").notNull().default(!1),expenseDate:Ae("expense_date").defaultNow().notNull(),recurringFrequency:ne("recurring_frequency",{length:20}),status:ne("status",{length:50}).notNull().default("pending"),attachedReceipts:dt("attached_receipts").array(),submittedBy:ne("submitted_by").notNull().references(()=>nn.id),approvedBy:ne("approved_by").references(()=>nn.id),createdAt:Ae("created_at").defaultNow(),updatedAt:Ae("updated_at").defaultNow()}),AJ=Bt("quotes",{id:We("id").primaryKey().defaultRandom(),strataId:We("strata_id").notNull().references(()=>Vn.id),vendorId:We("vendor_id").references(()=>Jc.id),expenseId:We("expense_id").references(()=>_w.id),requesterId:ne("requester_id").notNull().references(()=>nn.id),projectTitle:ne("project_title",{length:255}).notNull(),projectType:ne("project_type",{length:100}).notNull(),description:dt("description").notNull(),scope:dt("scope"),amount:Xs("amount",{precision:10,scale:2}).notNull(),vendorName:ne("vendor_name",{length:255}),vendorEmail:ne("vendor_email",{length:255}),vendorPhone:ne("vendor_phone",{length:50}),vendorAddress:dt("vendor_address"),vendorWebsite:ne("vendor_website",{length:255}),vendorLicense:ne("vendor_license",{length:100}),vendorInsurance:Cn("vendor_insurance").default(!1),status:ne("status",{length:50}).notNull().default("submitted"),priority:ne("priority",{length:20}).notNull().default("normal"),submittedAt:Ae("submitted_at").defaultNow(),reviewedAt:Ae("reviewed_at"),approvedAt:Ae("approved_at"),rejectedAt:Ae("rejected_at"),approvedBy:ne("approved_by").references(()=>nn.id),rejectedBy:ne("rejected_by").references(()=>nn.id),rejectionReason:dt("rejection_reason"),validUntil:Ae("valid_until"),startDate:Ae("start_date"),estimatedCompletion:Ae("estimated_completion"),warranty:ne("warranty",{length:255}),paymentTerms:dt("payment_terms"),notes:dt("notes"),internalNotes:dt("internal_notes"),attachments:dt("attachments").array(),contractDocument:ne("contract_document"),documentFolderId:We("document_folder_id").references(()=>Cw.id),convertedToVendor:Cn("converted_to_vendor").default(!1),createdVendorId:We("created_vendor_id").references(()=>Jc.id),createdAt:Ae("created_at").defaultNow(),updatedAt:Ae("updated_at").defaultNow()}),SF=Bt("meetings",{id:We("id").primaryKey().defaultRandom(),strataId:We("strata_id").notNull().references(()=>Vn.id),title:ne("title",{length:255}).notNull(),description:dt("description"),meetingType:ne("meeting_type",{length:50}).notNull().default("board_meeting"),meetingDate:Ae("meeting_date").notNull(),location:ne("location",{length:255}),chairperson:ne("chairperson",{length:255}),agenda:dt("agenda"),scheduledAt:Ae("scheduled_at").notNull(),audioUrl:ne("audio_url"),transcriptUrl:ne("transcript_url"),minutesUrl:ne("minutes_url"),minutes:dt("minutes"),transcription:dt("transcription"),reviewerId:ne("reviewer_id").references(()=>nn.id),status:ne("status",{length:50}).notNull().default("scheduled"),createdAt:Ae("created_at").defaultNow(),updatedAt:Ae("updated_at").defaultNow()}),IJ=Bt("meeting_invitees",{id:We("id").primaryKey().defaultRandom(),meetingId:We("meeting_id").notNull().references(()=>SF.id,{onDelete:"cascade"}),userId:ne("user_id").notNull().references(()=>nn.id),invitedBy:ne("invited_by").notNull().references(()=>nn.id),responseStatus:ne("response_status",{length:20}).notNull().default("pending"),respondedAt:Ae("responded_at"),notificationSent:Cn("notification_sent").default(!1),createdAt:Ae("created_at").defaultNow()}),Cw=Bt("document_folders",{id:We("id").primaryKey().defaultRandom(),strataId:We("strata_id").notNull().references(()=>Vn.id),name:ne("name",{length:255}).notNull(),description:dt("description"),parentFolderId:We("parent_folder_id"),path:ne("path",{length:500}).notNull(),createdBy:ne("created_by").notNull().references(()=>nn.id),createdAt:Ae("created_at").defaultNow(),updatedAt:Ae("updated_at").defaultNow()}),RJ=Bt("documents",{id:We("id").primaryKey().defaultRandom(),strataId:We("strata_id").notNull().references(()=>Vn.id),folderId:We("folder_id").references(()=>Cw.id),title:ne("title",{length:255}).notNull(),description:dt("description"),type:ne("type",{length:100}).notNull(),fileUrl:ne("file_url").notNull(),fileName:ne("file_name",{length:255}).notNull(),fileSize:zs("file_size"),mimeType:ne("mime_type",{length:100}),version:ne("version",{length:50}).default("1.0"),tags:dt("tags").array(),eSignatureStatus:ne("e_signature_status",{length:50}),uploadedBy:ne("uploaded_by").notNull().references(()=>nn.id),createdAt:Ae("created_at").defaultNow(),updatedAt:Ae("updated_at").defaultNow()}),DJ=Bt("maintenance_requests",{id:We("id").primaryKey().defaultRandom(),strataId:We("strata_id").notNull().references(()=>Vn.id),residentId:ne("resident_id").notNull().references(()=>nn.id),unitId:We("unit_id").references(()=>Sw.id),title:ne("title",{length:255}).notNull(),description:dt("description").notNull(),priority:ne("priority",{length:50}).notNull().default("medium"),status:ne("status",{length:50}).notNull().default("submitted"),assignedTo:ne("assigned_to").references(()=>nn.id),photos:dt("photos").array(),createdAt:Ae("created_at").defaultNow(),updatedAt:Ae("updated_at").defaultNow()}),MJ=Bt("maintenance_projects",{id:We("id").primaryKey().defaultRandom(),strataId:We("strata_id").notNull().references(()=>Vn.id),title:ne("title",{length:255}).notNull(),description:dt("description"),category:ne("category",{length:100}).notNull(),priority:ne("priority",{length:50}).notNull().default("medium"),status:ne("status",{length:50}).notNull().default("planned"),estimatedCost:Xs("estimated_cost",{precision:10,scale:2}).notNull().default("0.00"),actualCost:Xs("actual_cost",{precision:10,scale:2}),scheduledDate:Ae("scheduled_date"),completedDate:Ae("completed_date"),nextServiceDate:Ae("next_service_date"),contractor:ne("contractor",{length:255}),warranty:ne("warranty",{length:255}),notes:dt("notes"),createdAt:Ae("created_at").defaultNow(),updatedAt:Ae("updated_at").defaultNow()}),OJ=Bt("announcements",{id:We("id").primaryKey().defaultRandom(),strataId:We("strata_id").notNull().references(()=>Vn.id),title:ne("title",{length:255}).notNull(),content:dt("content").notNull(),priority:ne("priority",{length:50}).notNull().default("normal"),publishedBy:ne("published_by").notNull().references(()=>nn.id),published:Cn("published").notNull().default(!1),isRecurring:Cn("is_recurring").notNull().default(!1),recurringPattern:ne("recurring_pattern",{length:50}),recurringInterval:zs("recurring_interval").default(1),recurringEndDate:Ae("recurring_end_date"),parentAnnouncementId:We("parent_announcement_id"),createdAt:Ae("created_at").defaultNow(),updatedAt:Ae("updated_at").defaultNow()}),_F=Bt("funds",{id:We("id").primaryKey().defaultRandom(),strataId:We("strata_id").notNull().references(()=>Vn.id),name:ne("name",{length:255}).notNull(),type:ne("type",{length:50}).notNull(),balance:Xs("balance",{precision:10,scale:2}).notNull().default("0"),target:Xs("target",{precision:10,scale:2}),interestRate:Xs("interest_rate",{precision:5,scale:4}),compoundingFrequency:ne("compounding_frequency",{length:20}).default("monthly"),institution:ne("institution",{length:255}),accountNumber:ne("account_number",{length:100}),maturityDate:Ae("maturity_date"),autoRenewal:Cn("auto_renewal").default(!1),notes:dt("notes"),createdAt:Ae("created_at").defaultNow(),updatedAt:Ae("updated_at").defaultNow()}),FJ=Bt("fund_transactions",{id:We("id").primaryKey().defaultRandom(),fundId:We("fund_id").notNull().references(()=>_F.id),type:ne("type",{length:50}).notNull(),amount:Xs("amount",{precision:10,scale:2}).notNull(),description:ne("description",{length:500}),relatedExpenseId:We("related_expense_id").references(()=>_w.id),processedBy:ne("processed_by").notNull().references(()=>nn.id),transactionDate:Ae("transaction_date").notNull(),createdAt:Ae("created_at").defaultNow()}),LJ=Bt("pending_strata_registrations",{id:We("id").primaryKey().defaultRandom(),strataName:ne("strata_name",{length:255}).notNull(),address:ne("address",{length:500}).notNull(),city:ne("city",{length:100}).notNull(),province:ne("province",{length:50}).notNull(),postalCode:ne("postal_code",{length:20}).notNull(),unitCount:zs("unit_count").notNull(),adminFirstName:ne("admin_first_name",{length:100}).notNull(),adminLastName:ne("admin_last_name",{length:100}).notNull(),adminEmail:ne("admin_email",{length:255}).notNull(),adminPhone:ne("admin_phone",{length:20}).notNull(),managementType:ne("management_type",{length:50}).notNull(),managementCompany:ne("management_company",{length:255}),description:dt("description").notNull(),specialRequirements:dt("special_requirements"),status:ne("status",{length:50}).notNull().default("pending"),approvedBy:ne("approved_by").references(()=>nn.id),approvedAt:Ae("approved_at"),rejectionReason:dt("rejection_reason"),createdStrataId:We("created_strata_id").references(()=>Vn.id),createdAt:Ae("created_at").defaultNow(),updatedAt:Ae("updated_at").defaultNow()}),UJ=Bt("messages",{id:We("id").primaryKey().defaultRandom(),strataId:We("strata_id").notNull().references(()=>Vn.id),senderId:ne("sender_id").notNull().references(()=>nn.id),recipientId:ne("recipient_id").references(()=>nn.id),subject:ne("subject",{length:255}),content:dt("content").notNull(),messageType:ne("message_type",{length:50}).notNull().default("private"),isRead:Cn("is_read").default(!1),readAt:Ae("read_at"),parentMessageId:We("parent_message_id"),conversationId:We("conversation_id"),priority:ne("priority",{length:20}).default("normal"),createdAt:Ae("created_at").defaultNow(),updatedAt:Ae("updated_at").defaultNow()}),VJ=Bt("resident_directory",{id:We("id").primaryKey().defaultRandom(),strataId:We("strata_id").notNull().references(()=>Vn.id),userId:ne("user_id").notNull().references(()=>nn.id),dwellingId:We("dwelling_id").references(()=>Sw.id),primaryPhone:ne("primary_phone",{length:20}),secondaryPhone:ne("secondary_phone",{length:20}),workPhone:ne("work_phone",{length:20}),alternateEmail:ne("alternate_email",{length:255}),emergencyContactName:ne("emergency_contact_name",{length:255}),emergencyContactPhone:ne("emergency_contact_phone",{length:20}),emergencyContactRelationship:ne("emergency_contact_relationship",{length:100}),emergencyContactEmail:ne("emergency_contact_email",{length:255}),moveInDate:Ae("move_in_date"),occupancyType:ne("occupancy_type",{length:50}).default("owner"),vehicleInfo:dt("vehicle_info"),petInfo:dt("pet_info"),specialNotes:dt("special_notes"),showInDirectory:Cn("show_in_directory").default(!0),showContactInfo:Cn("show_contact_info").default(!0),showEmergencyContact:Cn("show_emergency_contact").default(!1),createdAt:Ae("created_at").defaultNow(),updatedAt:Ae("updated_at").defaultNow()}),$J=Bt("notifications",{id:We("id").primaryKey().defaultRandom(),userId:ne("user_id").notNull().references(()=>nn.id),strataId:We("strata_id").notNull().references(()=>Vn.id),type:ne("type",{length:50}).notNull(),title:ne("title",{length:255}).notNull(),message:dt("message").notNull(),relatedId:ne("related_id"),isRead:Cn("is_read").default(!1),createdAt:Ae("created_at").defaultNow()}),zJ=Bt("dismissed_notifications",{id:We("id").primaryKey().defaultRandom(),userId:ne("user_id").notNull().references(()=>nn.id),notificationId:ne("notification_id").notNull(),notificationType:ne("notification_type",{length:50}).notNull(),dismissedAt:Ae("dismissed_at").defaultNow()}),BJ=Bt("payment_reminders",{id:We("id").primaryKey().defaultRandom(),strataId:We("strata_id").notNull(),unitId:We("unit_id"),title:ne("title",{length:255}).notNull(),description:dt("description"),reminderType:ne("reminder_type").notNull(),amount:Xs("amount",{precision:10,scale:2}),dueDate:Ae("due_date"),isRecurring:Cn("is_recurring").default(!1),recurringPattern:ne("recurring_pattern"),recurringInterval:zs("recurring_interval").default(1),monthlyType:ne("monthly_type"),monthlyDate:zs("monthly_date"),monthlyWeekday:ne("monthly_weekday"),monthlyWeekPosition:ne("monthly_week_position"),weeklyDays:dt("weekly_days"),yearlyMonth:zs("yearly_month"),recurringEndDate:Ae("recurring_end_date"),nextReminderDate:Ae("next_reminder_date"),lastSentDate:Ae("last_sent_date"),remindersSentCount:zs("reminders_sent_count").default(0),status:ne("status").default("active"),priority:ne("priority").default("normal"),autoSend:Cn("auto_send").default(!1),reminderTime:ne("reminder_time").default("09:00"),emailTemplate:dt("email_template"),createdBy:ne("created_by").notNull(),createdAt:Ae("created_at").defaultNow(),updatedAt:Ae("updated_at").defaultNow()}),qJ=Bt("reports",{id:We("id").primaryKey().defaultRandom(),strataId:We("strata_id").notNull(),reportType:ne("report_type").notNull(),title:ne("title").notNull(),dateRange:Xa("date_range"),filters:Xa("filters"),content:Xa("content"),format:ne("format").default("pdf"),status:ne("status").default("pending"),generatedBy:ne("generated_by").notNull(),generatedAt:Ae("generated_at").defaultNow(),downloadUrl:ne("download_url"),emailedTo:dt("emailed_to").array(),createdAt:Ae("created_at").defaultNow()});sn(Vn).omit({id:!0,createdAt:!0,updatedAt:!0});sn(Sw).omit({id:!0,createdAt:!0,updatedAt:!0});sn(Jc).omit({id:!0,createdAt:!0,updatedAt:!0});sn(_w).omit({id:!0,createdAt:!0,updatedAt:!0});sn(AJ).omit({id:!0,submittedAt:!0,reviewedAt:!0,approvedAt:!0,rejectedAt:!0,convertedToVendor:!0,createdVendorId:!0,documentFolderId:!0,createdAt:!0,updatedAt:!0}).extend({validUntil:G.string().optional().transform(t=>t?new Date(t):void 0),startDate:G.string().optional().transform(t=>t?new Date(t):void 0),estimatedCompletion:G.string().optional().transform(t=>t?new Date(t):void 0)});sn(SF).omit({id:!0,createdAt:!0,updatedAt:!0});sn(DJ).omit({id:!0,createdAt:!0,updatedAt:!0});sn(MJ).omit({id:!0,createdAt:!0,updatedAt:!0});const HJ=sn(OJ).omit({id:!0,createdAt:!0,updatedAt:!0});sn(EJ).omit({id:!0,createdAt:!0});sn(PJ).omit({id:!0,createdAt:!0,updatedAt:!0});sn(kJ).omit({id:!0,createdAt:!0});sn(_F).omit({id:!0,createdAt:!0,updatedAt:!0});sn(FJ).omit({id:!0,createdAt:!0});sn(LJ).omit({id:!0,status:!0,approvedBy:!0,approvedAt:!0,rejectionReason:!0,createdStrataId:!0,createdAt:!0,updatedAt:!0});sn(Cw).omit({id:!0,createdAt:!0,updatedAt:!0});sn(RJ).omit({id:!0,createdAt:!0,updatedAt:!0});const WJ=sn(UJ).omit({id:!0,createdAt:!0,updatedAt:!0}),KJ=sn(VJ).omit({id:!0,createdAt:!0,updatedAt:!0});sn(BJ).omit({id:!0,remindersSentCount:!0,lastSentDate:!0,nextReminderDate:!0,createdAt:!0,updatedAt:!0}).extend({dueDate:G.string().optional().transform(t=>t?new Date(t):void 0),recurringEndDate:G.string().optional().transform(t=>t?new Date(t):void 0),weeklyDays:G.array(G.string()).optional()});sn(qJ).omit({id:!0,createdAt:!0,generatedAt:!0});sn($J).omit({id:!0,createdAt:!0});sn(zJ).omit({id:!0,dismissedAt:!0});sn(IJ).omit({id:!0,createdAt:!0});function GJ(){const[t]=fo(),[e,n]=m.useState("directory"),[r,i]=m.useState(!1),[a,o]=m.useState(!1),[l,c]=m.useState(!1),[u,h]=m.useState(null),[p,f]=m.useState(""),[v,_]=m.useState([]),[j,E]=m.useState(!1),[N,y]=m.useState(""),[w,T]=m.useState(null),[O,U]=m.useState([]),[A,S]=m.useState([]),{user:g}=xr(),{toast:k}=xn(),P=as(),{selectedStrataId:I,selectedStrata:R,isLoading:Q}=ra(),{data:Ne}=ot({queryKey:[`/api/strata/${I}/resident-directory`],enabled:!!I}),{data:de,isLoading:K,error:F,refetch:z}=ot({queryKey:[`/api/strata/${I}/messages`],enabled:!!I,refetchOnWindowFocus:!0,staleTime:0});m.useEffect(()=>{I&&(P.invalidateQueries({queryKey:[`/api/strata/${I}/messages`]}),z())},[I,z]),console.log("🔍 Messages query status:",{messagesLoading:K,messagesError:F==null?void 0:F.message,messagesData:(de==null?void 0:de.length)||0,messagesRaw:de,selectedStrataId:I});const{data:W}=ot({queryKey:[`/api/strata/${I}/announcements`],enabled:!!I}),{data:se}=ot({queryKey:[`/api/strata/${I}/users`],enabled:!!I});m.useEffect(()=>{const J=new URLSearchParams(t.split("?")[1]||"");J.get("action")==="new-announcement"?(c(!0),n("announcements")):J.get("tab")==="messages"&&n("messages")},[t]);const Ce=ze({mutationFn:async J=>Be("POST",`/api/strata/${I}/messages`,J),onSuccess:()=>{P.invalidateQueries({queryKey:[`/api/strata/${I}/messages`]}),X(),i(!1)},onError:J=>{const et=J.message||"Failed to send message";k({title:"Error",description:et.includes("recipient")?"Please select at least one recipient to send the message":et,variant:"destructive"})}}),Me=ze({mutationFn:async J=>Be("POST",`/api/strata/${I}/resident-directory`,J),onSuccess:()=>{P.invalidateQueries({queryKey:[`/api/strata/${I}/resident-directory`]}),k({title:"Directory entry created",description:"Resident information has been added to the directory."}),o(!1)},onError:J=>{k({title:"Error",description:J.message||"Failed to create directory entry",variant:"destructive"})}}),q=ze({mutationFn:async J=>Be("POST",`/api/strata/${I}/announcements`,J),onSuccess:()=>{P.invalidateQueries({queryKey:[`/api/strata/${I}/announcements`]}),k({title:"Announcement posted",description:"Your announcement has been posted to the community."}),c(!1)},onError:J=>{k({title:"Error",description:J.message||"Failed to post announcement",variant:"destructive"})}}),ve=ze({mutationFn:async J=>Be("PATCH",`/api/messages/${J}/read`),onSuccess:()=>{P.invalidateQueries({queryKey:[`/api/strata/${I}/messages`]})}}),Ue=ze({mutationFn:async J=>Be("DELETE",`/api/conversations/${J}`),onSuccess:()=>{P.invalidateQueries({queryKey:[`/api/strata/${I}/messages`]}),k({title:"Conversation deleted",description:"The conversation has been removed successfully."})},onError:J=>{k({title:"Error",description:J.message||"Failed to delete conversation",variant:"destructive"})}}),we=kn({resolver:An(WJ.omit({strataId:!0,senderId:!0})),defaultValues:{recipientId:"",subject:"",content:"",messageType:"private",priority:"normal"}}),fe=we.watch("messageType"),Y=J=>{_(et=>et.includes(J)?et.filter(L=>L!==J):[...et,J])},X=()=>{we.reset(),_([]),E(!1),y(""),T(null)},je=kn({resolver:An(KJ.omit({strataId:!0})),defaultValues:{userId:(g==null?void 0:g.id)||"",dwellingId:"",primaryPhone:"",alternateEmail:"",emergencyContactName:"",emergencyContactPhone:"",occupancyType:"owner",showInDirectory:!0,showContactInfo:!0,showEmergencyContact:!1}}),Oe=kn({resolver:An(HJ.omit({strataId:!0,publishedBy:!0})),defaultValues:{title:"",content:"",type:"general",priority:"normal",isRecurring:!1}}),lt=(Ne==null?void 0:Ne.filter(J=>{var et,L,Z;return((et=J.userName)==null?void 0:et.toLowerCase().includes(p.toLowerCase()))||((L=J.userEmail)==null?void 0:L.toLowerCase().includes(p.toLowerCase()))||((Z=J.unitNumber)==null?void 0:Z.toLowerCase().includes(p.toLowerCase()))}))||[],Dt=J=>{const et=[...new Set(v)],L={...J,recipientIds:fe==="broadcast"?[]:et,isGroupChat:j&&et.length>1,groupChatName:j?N:null,parentMessageId:(w==null?void 0:w.id)||null};console.log("📤 Sending message with recipients:",et),Ce.mutate(L)},yn=J=>{Me.mutate(J)},un=J=>{q.mutate(J)},hn=J=>new Date(J).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),Xt=J=>{const et=new Map;return J==null||J.forEach(L=>{let Z=L.conversationId;if(L.parentMessageId){const ee=J.find(pe=>pe.id===L.parentMessageId);ee&&(Z=ee.conversationId||ee.id)}if(Z||(Z=L.id),!et.has(Z)){const ee=J.find(pe=>(pe.conversationId===Z||pe.id===Z)&&!pe.parentMessageId)||L;et.set(Z,{id:Z,subject:ee.subject,lastMessage:L,participants:new Set([L.senderId,L.recipientId].filter(Boolean)),messages:[],unreadCount:0})}const C=et.get(Z);C.messages.push(L),C.participants.add(L.senderId),L.recipientId&&C.participants.add(L.recipientId),!L.isRead&&L.recipientId===(g==null?void 0:g.id)&&C.unreadCount++,new Date(L.createdAt)>new Date(C.lastMessage.createdAt)&&(C.lastMessage=L)}),Array.from(et.values()).sort((L,Z)=>new Date(Z.lastMessage.createdAt).getTime()-new Date(L.lastMessage.createdAt).getTime())},Ss=()=>{const J=[];return W==null||W.slice(0,3).forEach(et=>{var L;J.push({type:"announcement",title:et.title,description:((L=et.content)==null?void 0:L.substring(0,100))+"...",date:et.createdAt,priority:et.priority,icon:hc})}),de==null||de.slice(0,2).forEach(et=>{J.push({type:"message",title:et.subject||"New Message",description:`From: ${et.senderName||et.senderEmail}`,date:et.createdAt,priority:et.priority,icon:Xl})}),J.sort((et,L)=>new Date(L.date).getTime()-new Date(et.date).getTime())};return Q||!R?s.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-background",children:s.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary"})}):s.jsxs("div",{className:"p-4 lg:p-6 space-y-4 lg:space-y-6",children:[s.jsxs("div",{className:"flex flex-col space-y-2",children:[s.jsx("h1",{className:"text-2xl lg:text-3xl font-bold",children:"Community Hub"}),s.jsx("p",{className:"text-sm lg:text-base text-muted-foreground",children:"Connect with your neighbors and stay informed about community activities"})]}),s.jsxs(ud,{value:e,onValueChange:n,className:"w-full",children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(bl,{className:"grid w-max grid-cols-4 lg:w-full",children:[s.jsxs(Qt,{value:"directory",className:"flex items-center gap-1 lg:gap-2 px-3 lg:px-4 text-xs lg:text-sm",children:[s.jsx($s,{className:"h-3 w-3 lg:h-4 lg:w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Directory"}),s.jsx("span",{className:"sm:hidden",children:"Dir"})]}),s.jsxs(Qt,{value:"messages",className:"flex items-center gap-1 lg:gap-2 px-3 lg:px-4 text-xs lg:text-sm",children:[s.jsx(Xl,{className:"h-3 w-3 lg:h-4 lg:w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Messages"}),s.jsx("span",{className:"sm:hidden",children:"Msg"})]}),s.jsxs(Qt,{value:"announcements",className:"flex items-center gap-1 lg:gap-2 px-3 lg:px-4 text-xs lg:text-sm",children:[s.jsx(hc,{className:"h-3 w-3 lg:h-4 lg:w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Announcements"}),s.jsx("span",{className:"sm:hidden",children:"News"})]}),s.jsxs(Qt,{value:"activity",className:"flex items-center gap-1 lg:gap-2 px-3 lg:px-4 text-xs lg:text-sm",children:[s.jsx(Hs,{className:"h-3 w-3 lg:h-4 lg:w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Activity Feed"}),s.jsx("span",{className:"sm:hidden",children:"Feed"})]})]})}),s.jsxs(Sn,{value:"directory",className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:justify-between sm:items-center",children:[s.jsxs("div",{className:"relative flex-1 max-w-md",children:[s.jsx(Gf,{className:"absolute left-2 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),s.jsx(re,{placeholder:"Search residents...",value:p,onChange:J=>f(J.target.value),className:"pl-8 w-full"})]}),s.jsxs(ut,{open:a,onOpenChange:o,children:[s.jsx(Fn,{asChild:!0,children:s.jsxs($,{className:"w-full sm:w-auto",children:[s.jsx(en,{className:"h-4 w-4 mr-2"}),s.jsx("span",{className:"sm:inline",children:"Add Entry"})]})}),s.jsxs(ct,{className:"max-w-2xl",children:[s.jsxs(ht,{children:[s.jsx(mt,{children:"Add Directory Entry"}),s.jsx(Zt,{children:"Add your information to the resident directory."})]}),s.jsx(ln,{...je,children:s.jsxs("form",{onSubmit:je.handleSubmit(yn),className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(oe,{control:je.control,name:"primaryPhone",render:({field:J})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Primary Phone"}),s.jsx(le,{children:s.jsx(re,{placeholder:"(555) 123-4567",...J})}),s.jsx(ce,{})]})}),s.jsx(oe,{control:je.control,name:"alternateEmail",render:({field:J})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Alternate Email"}),s.jsx(le,{children:s.jsx(re,{placeholder:"alternate@email.com",...J})}),s.jsx(ce,{})]})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(oe,{control:je.control,name:"emergencyContactName",render:({field:J})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Emergency Contact Name"}),s.jsx(le,{children:s.jsx(re,{placeholder:"John Doe",...J})}),s.jsx(ce,{})]})}),s.jsx(oe,{control:je.control,name:"emergencyContactPhone",render:({field:J})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Emergency Contact Phone"}),s.jsx(le,{children:s.jsx(re,{placeholder:"(555) 987-6543",...J})}),s.jsx(ce,{})]})})]}),s.jsx(oe,{control:je.control,name:"occupancyType",render:({field:J})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Occupancy Type"}),s.jsxs(tt,{onValueChange:J.onChange,defaultValue:J.value,children:[s.jsx(le,{children:s.jsx(Ze,{children:s.jsx(nt,{placeholder:"Select occupancy type"})})}),s.jsxs(Je,{children:[s.jsx(V,{value:"owner",children:"Owner"}),s.jsx(V,{value:"tenant",children:"Tenant"}),s.jsx(V,{value:"authorized_occupant",children:"Authorized Occupant"})]})]}),s.jsx(ce,{})]})}),s.jsx($,{type:"submit",disabled:Me.isPending,children:Me.isPending?"Adding...":"Add Entry"})]})})]})]})]}),s.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:lt==null?void 0:lt.map(J=>s.jsxs(ge,{className:"hover:shadow-lg transition-shadow",children:[s.jsxs(Ge,{className:"pb-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Qe,{className:"text-lg",children:J.userName}),s.jsx(He,{variant:J.occupancyType==="owner"?"default":"secondary",children:J.occupancyType})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(Sh,{className:"h-4 w-4"}),"Unit ",J.unitNumber]})]}),s.jsxs(be,{className:"space-y-3",children:[J.showContactInfo&&s.jsxs("div",{className:"space-y-2",children:[J.primaryPhone&&s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(N0,{className:"h-4 w-4"}),J.primaryPhone]}),J.userEmail&&s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(od,{className:"h-4 w-4"}),J.userEmail]})]}),J.showEmergencyContact&&J.emergencyContactName&&s.jsxs("div",{className:"pt-2 border-t",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[s.jsx(Es,{className:"h-4 w-4"}),"Emergency Contact"]}),s.jsx("div",{className:"text-sm",children:J.emergencyContactName}),J.emergencyContactPhone&&s.jsx("div",{className:"text-sm text-muted-foreground",children:J.emergencyContactPhone})]}),s.jsxs($,{variant:"outline",size:"sm",className:"w-full",onClick:()=>{h(J),we.setValue("recipientId",J.userId),i(!0)},children:[s.jsx(Xl,{className:"h-4 w-4 mr-2"}),"Send Message"]})]})]},J.id))})]}),s.jsxs(Sn,{value:"messages",className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:justify-between sm:items-center",children:[s.jsx("h2",{className:"text-xl lg:text-2xl font-semibold",children:"Messages"}),s.jsxs(ut,{open:r,onOpenChange:i,children:[s.jsx(Fn,{asChild:!0,children:s.jsxs($,{className:"w-full sm:w-auto",children:[s.jsx(en,{className:"h-4 w-4 mr-2"}),"New Message"]})}),s.jsxs(ct,{children:[s.jsxs(ht,{children:[s.jsx(mt,{children:"Send Message"}),s.jsx(Zt,{children:"Send a message to a community member or broadcast to all residents."})]}),s.jsx(ln,{...we,children:s.jsxs("form",{onSubmit:we.handleSubmit(Dt),className:"space-y-4",children:[s.jsx(oe,{control:we.control,name:"messageType",render:({field:J})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Message Type"}),s.jsxs(tt,{onValueChange:J.onChange,defaultValue:J.value,children:[s.jsx(le,{children:s.jsx(Ze,{children:s.jsx(nt,{placeholder:"Select message type"})})}),s.jsxs(Je,{children:[s.jsx(V,{value:"private",children:"Private Message"}),s.jsx(V,{value:"broadcast",children:"Broadcast to All"})]})]}),s.jsx(ce,{})]})}),fe==="private"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(me,{className:"text-sm font-medium",children:"Recipients"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(hp,{id:"groupChat",checked:j,onCheckedChange:J=>E(J===!0)}),s.jsx(me,{htmlFor:"groupChat",className:"text-sm",children:"Create Group Chat"})]})]}),j&&s.jsxs("div",{children:[s.jsx(me,{htmlFor:"groupName",className:"text-sm font-medium",children:"Group Chat Name"}),s.jsx(re,{id:"groupName",placeholder:"Enter group chat name",value:N,onChange:J=>y(J.target.value),className:"mt-1"})]}),s.jsxs("div",{className:"border rounded-lg p-3 max-h-48 overflow-y-auto",children:[s.jsx("div",{className:"space-y-2",children:(se==null?void 0:se.filter(J=>J.user.id!==(g==null?void 0:g.id)).length)>0?se==null?void 0:se.filter(J=>J.user.id!==(g==null?void 0:g.id)).map(J=>s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(hp,{id:`recipient-${J.user.id}`,checked:v.includes(J.user.id),onCheckedChange:()=>Y(J.user.id)}),s.jsx(me,{htmlFor:`recipient-${J.user.id}`,className:"flex-1 text-sm cursor-pointer",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-medium",children:J.user.firstName&&J.user.lastName?`${J.user.firstName} ${J.user.lastName}`:J.user.email}),J.user.firstName&&J.user.lastName&&s.jsx("span",{className:"text-xs text-muted-foreground",children:J.user.email})]}),s.jsx("span",{className:"text-muted-foreground text-xs",children:J.role.replace("_"," ").toUpperCase()})]})})]},J.user.id)):s.jsx("div",{className:"text-center py-4 text-muted-foreground",children:s.jsx("p",{className:"text-sm",children:"No other strata members available to message"})})}),v.length>0&&s.jsx("div",{className:"mt-3 pt-2 border-t",children:s.jsxs("p",{className:"text-sm text-muted-foreground",children:[v.length," recipient(s) selected"]})})]})]}),s.jsx(oe,{control:we.control,name:"subject",render:({field:J})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Subject"}),s.jsx(le,{children:s.jsx(re,{placeholder:"Message subject",...J})}),s.jsx(ce,{})]})}),s.jsx(oe,{control:we.control,name:"content",render:({field:J})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Message"}),s.jsx(le,{children:s.jsx($t,{placeholder:"Type your message here...",...J})}),s.jsx(ce,{})]})}),s.jsx(oe,{control:we.control,name:"priority",render:({field:J})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Priority"}),s.jsxs(tt,{onValueChange:J.onChange,defaultValue:J.value,children:[s.jsx(le,{children:s.jsx(Ze,{children:s.jsx(nt,{placeholder:"Select priority"})})}),s.jsxs(Je,{children:[s.jsx(V,{value:"low",children:"Low"}),s.jsx(V,{value:"normal",children:"Normal"}),s.jsx(V,{value:"high",children:"High"}),s.jsx(V,{value:"urgent",children:"Urgent"})]})]}),s.jsx(ce,{})]})}),s.jsxs($,{type:"submit",disabled:Ce.isPending||fe==="private"&&v.length===0||j&&!N.trim(),children:[s.jsx(eR,{className:"h-4 w-4 mr-2"}),Ce.isPending?"Sending...":"Send Message"]}),fe==="private"&&v.length===0&&s.jsx("p",{className:"text-sm text-muted-foreground",children:"Please select at least one recipient to send a private message."}),j&&!N.trim()&&v.length>1&&s.jsx("p",{className:"text-sm text-muted-foreground",children:"Please enter a group chat name."})]})})]})]})]}),s.jsx("div",{className:"space-y-4",children:Xt(de).map(J=>s.jsx(ge,{className:"group cursor-pointer hover:shadow-lg hover:border-primary/20 transition-all duration-200",onClick:()=>{O.includes(J.id)||U(et=>[...et,J.id]),J.messages.filter(et=>!et.isRead&&et.recipientId===(g==null?void 0:g.id)).forEach(et=>{ve.mutate(et.id)})},children:s.jsx(be,{className:"p-4 lg:p-6",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[s.jsx("h3",{className:"font-semibold text-base lg:text-lg text-foreground truncate pr-2",children:J.subject}),s.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[J.unreadCount>0&&s.jsx(He,{variant:"destructive",className:"rounded-full h-5 min-w-[20px] text-xs font-medium",children:J.unreadCount}),s.jsx(He,{variant:J.lastMessage.priority==="urgent"?"destructive":J.lastMessage.priority==="high"?"default":"secondary",className:"text-xs font-medium",children:J.lastMessage.priority})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-2",children:[s.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.jsx("span",{className:"font-medium",children:"From:"})," ",J.lastMessage.senderName||J.lastMessage.senderEmail]}),J.messages.length>1&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.jsx("span",{className:"hidden sm:inline",children:"•"}),s.jsx("span",{className:"font-medium",children:J.messages.length})," messages"]})]}),s.jsx("p",{className:"text-sm text-foreground/80 line-clamp-2 leading-relaxed",children:J.lastMessage.content}),s.jsxs("div",{className:"flex items-center justify-between pt-2",children:[s.jsx("span",{className:"text-xs lg:text-sm text-muted-foreground font-medium",children:hn(J.lastMessage.createdAt)}),s.jsx($,{variant:"destructive",size:"sm",onClick:et=>{et.stopPropagation(),Ue.mutate(J.id)},className:"opacity-0 group-hover:opacity-100 transition-opacity text-xs px-2 py-1 h-7",children:"Delete Conversation"})]})]})})},J.id))})]}),s.jsxs(Sn,{value:"announcements",className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:justify-between sm:items-center",children:[s.jsx("h2",{className:"text-xl lg:text-2xl font-semibold",children:"Community Announcements"}),s.jsxs(ut,{open:l,onOpenChange:c,children:[s.jsx(Fn,{asChild:!0,children:s.jsxs($,{className:"w-full sm:w-auto",children:[s.jsx(en,{className:"h-4 w-4 mr-2"}),"New Announcement"]})}),s.jsxs(ct,{children:[s.jsxs(ht,{children:[s.jsx(mt,{children:"Create Announcement"}),s.jsx(Zt,{children:"Post an announcement to the community."})]}),s.jsx(ln,{...Oe,children:s.jsxs("form",{onSubmit:Oe.handleSubmit(un),className:"space-y-4",children:[s.jsx(oe,{control:Oe.control,name:"title",render:({field:J})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Title"}),s.jsx(le,{children:s.jsx(re,{placeholder:"Announcement title",...J})}),s.jsx(ce,{})]})}),s.jsx(oe,{control:Oe.control,name:"content",render:({field:J})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Content"}),s.jsx(le,{children:s.jsx($t,{placeholder:"Announcement content",...J})}),s.jsx(ce,{})]})}),s.jsx(oe,{control:Oe.control,name:"type",render:({field:J})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Type"}),s.jsxs(tt,{onValueChange:J.onChange,defaultValue:J.value,children:[s.jsx(le,{children:s.jsx(Ze,{children:s.jsx(nt,{placeholder:"Select type"})})}),s.jsxs(Je,{children:[s.jsx(V,{value:"general",children:"General"}),s.jsx(V,{value:"maintenance",children:"Maintenance"}),s.jsx(V,{value:"financial",children:"Financial"}),s.jsx(V,{value:"event",children:"Event"}),s.jsx(V,{value:"emergency",children:"Emergency"})]})]}),s.jsx(ce,{})]})}),s.jsx($,{type:"submit",disabled:q.isPending,children:q.isPending?"Posting...":"Post Announcement"})]})})]})]})]}),s.jsx("div",{className:"space-y-4",children:W==null?void 0:W.map(J=>s.jsxs(ge,{children:[s.jsx(Ge,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Qe,{className:"text-lg",children:J.title}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(He,{variant:J.type==="emergency"?"destructive":"default",children:J.type||"general"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:hn(J.createdAt||new Date().toISOString())})]})]})}),s.jsx(be,{children:s.jsx("p",{className:"text-sm",children:J.content})})]},J.id))})]}),s.jsxs(Sn,{value:"activity",className:"space-y-4",children:[s.jsx("div",{children:s.jsx("h2",{className:"text-xl lg:text-2xl font-semibold",children:"Recent Activity"})}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 lg:gap-6",children:[s.jsxs(ge,{children:[s.jsxs(Ge,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Qe,{className:"text-sm font-medium",children:"Total Residents"}),s.jsx($s,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(be,{children:[s.jsx("div",{className:"text-2xl font-bold",children:(Ne==null?void 0:Ne.length)||0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Active community members"})]})]}),s.jsxs(ge,{children:[s.jsxs(Ge,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Qe,{className:"text-sm font-medium",children:"Recent Messages"}),s.jsx(Xl,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(be,{children:[s.jsx("div",{className:"text-2xl font-bold",children:(de==null?void 0:de.length)||0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Community conversations"})]})]}),s.jsxs(ge,{children:[s.jsxs(Ge,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Qe,{className:"text-sm font-medium",children:"Announcements"}),s.jsx(hc,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(be,{children:[s.jsx("div",{className:"text-2xl font-bold",children:(W==null?void 0:W.length)||0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Community updates"})]})]})]}),s.jsxs(ge,{children:[s.jsx(Ge,{children:s.jsx(Qe,{children:"Activity Timeline"})}),s.jsx(be,{children:s.jsx(bg,{className:"h-96",children:s.jsx("div",{className:"space-y-4",children:Ss().map((J,et)=>s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"mt-1",children:s.jsx(J.icon,{className:"h-4 w-4 text-muted-foreground"})}),s.jsxs("div",{className:"flex-1 space-y-1",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"text-sm font-medium",children:J.title}),s.jsx(He,{variant:J.priority==="urgent"?"destructive":"secondary",children:J.priority})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:J.description}),s.jsx("p",{className:"text-xs text-muted-foreground",children:hn(J.date)})]})]},et))})})})]})]})]}),s.jsx("div",{className:"fixed bottom-0 right-2 lg:right-4 flex gap-1 lg:gap-2 z-50 pb-safe",children:O.map((J,et)=>{const L=Xt(de).find(C=>C.id===J);if(!L)return null;const Z=A.includes(J);return s.jsx(QJ,{conversation:L,isMinimized:Z,position:et,currentUserId:g==null?void 0:g.id,onClose:()=>U(C=>C.filter(ee=>ee!==J)),onMinimize:()=>{S(Z?C=>C.filter(ee=>ee!==J):C=>[...C,J])},onReply:(C,ee)=>{T({id:C,subject:ee}),i(!0)},onMarkAsRead:C=>{ve.mutate(C)},onSendMessage:C=>{const ee=L.messages.flatMap(De=>[De.senderId,De.recipientId]).filter(De=>De&&De!==(g==null?void 0:g.id)),pe=Array.from(new Set(ee)),xe={content:C,subject:L.subject.startsWith("Re:")?L.subject:`Re: ${L.subject}`,recipientIds:pe,parentMessageId:L.lastMessage.id,conversationId:L.id,priority:"normal",messageType:"private"};Ce.mutate(xe)},onAddParticipants:C=>{const ee={content:`Added ${C.length} new participant(s) to the conversation`,subject:L.subject,recipientIds:C,parentMessageId:L.lastMessage.id,conversationId:L.id,priority:"normal",messageType:"private"};Ce.mutate(ee)},availableUsers:se||[]},J)})})]})}function QJ({conversation:t,isMinimized:e,position:n,currentUserId:r,onClose:i,onMinimize:a,onReply:o,onMarkAsRead:l,onSendMessage:c,onAddParticipants:u,availableUsers:h}){var N;const[p,f]=m.useState(""),[v,_]=m.useState(!1);if(!t)return null;const j=Array.from(new Set([...t.messages.map(y=>({id:y.senderId,name:y.senderName,email:y.senderEmail})),...t.messages.map(y=>({id:y.recipientId,name:y.recipientName,email:y.recipientEmail}))].filter(y=>y.id&&y.id!==r))),E=()=>{p.trim()&&(c(p),f(""))};return s.jsxs(ge,{className:`w-72 lg:w-80 ${e?"h-12 lg:h-14":"max-h-[60vh] lg:h-[450px]"} shadow-xl border border-border/50 transition-all duration-300 bg-background flex flex-col`,style:{marginRight:`${n*(window.innerWidth<1024?296:336)}px`,bottom:window.innerWidth<1024?"20px":"0px"},children:[s.jsxs("div",{className:"flex items-center justify-between p-3 lg:p-4 border-b bg-slate-800 text-white cursor-pointer flex-shrink-0",onClick:a,children:[s.jsxs("div",{className:"flex items-center gap-2 lg:gap-3 min-w-0 flex-1",children:[s.jsx("div",{className:"w-7 h-7 lg:w-9 lg:h-9 rounded-full bg-slate-600 flex items-center justify-center flex-shrink-0",children:s.jsx("span",{className:"text-xs lg:text-sm font-semibold text-white",children:((N=t.lastMessage.senderName)==null?void 0:N.charAt(0).toUpperCase())||"U"})}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("h4",{className:"text-xs lg:text-sm font-semibold truncate",children:t.subject}),s.jsx("p",{className:"text-xs opacity-90 truncate hidden lg:block",children:j.length>0?j.map(y=>y.name||y.email).slice(0,2).join(", ")+(j.length>2?"...":""):`${t.messages.length} message${t.messages.length!==1?"s":""}`})]})]}),s.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[s.jsx($,{variant:"ghost",size:"sm",onClick:y=>{y.stopPropagation(),_(!0)},className:"h-6 w-6 lg:h-7 lg:w-7 p-0 text-white hover:bg-white/20 rounded-md text-xs lg:text-sm",children:"+"}),s.jsx($,{variant:"ghost",size:"sm",onClick:y=>{y.stopPropagation(),a()},className:"h-6 w-6 lg:h-7 lg:w-7 p-0 text-white hover:bg-white/20 rounded-md text-xs lg:text-sm",children:e?"□":"_"}),s.jsx($,{variant:"ghost",size:"sm",onClick:y=>{y.stopPropagation(),i()},className:"h-6 w-6 lg:h-7 lg:w-7 p-0 text-white hover:bg-white/20 rounded-md text-xs lg:text-sm",children:"×"})]})]}),!e&&s.jsxs(s.Fragment,{children:[s.jsx(bg,{className:"flex-1 p-3 lg:p-4 min-h-0",style:{maxHeight:"calc(60vh - 120px)"},children:s.jsx("div",{className:"space-y-4",children:t.messages.sort((y,w)=>new Date(y.createdAt).getTime()-new Date(w.createdAt).getTime()).map(y=>{const w=y.senderId===r;return s.jsx("div",{className:`flex ${w?"justify-end":"justify-start"}`,children:s.jsxs("div",{className:`max-w-[75%] ${w?"bg-slate-700 text-white":"bg-slate-100 dark:bg-slate-700 text-slate-900 dark:text-white"} 
                                     rounded-2xl px-3 py-2 text-sm shadow-sm`,children:[s.jsx("p",{className:"text-xs font-medium mb-1 opacity-80",children:w?"You":y.senderName||y.senderEmail}),s.jsx("p",{className:"leading-relaxed",children:y.content}),s.jsxs("p",{className:`text-xs mt-2 ${w?"text-white/60":"text-slate-500 dark:text-slate-400"} text-right`,children:[new Date(y.createdAt).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),!y.isRead&&y.recipientId===r&&s.jsx("span",{className:"ml-1 text-blue-400",children:"•"})]})]})},y.id)})})}),s.jsx("div",{className:"border-t bg-muted/20 p-3 lg:p-4 flex-shrink-0",children:s.jsxs("div",{className:"flex gap-2 lg:gap-3 items-end",children:[s.jsx(re,{placeholder:"Type a message...",value:p,onChange:y=>f(y.target.value),onKeyPress:y=>y.key==="Enter"&&!y.shiftKey&&E(),className:"flex-1 min-h-[36px] lg:min-h-[40px] bg-background border-border/50 focus:border-primary rounded-lg text-sm"}),s.jsx($,{size:"sm",onClick:E,disabled:!p.trim(),className:"h-9 w-9 lg:h-10 lg:w-10 p-0 rounded-lg flex-shrink-0",children:s.jsx(eR,{className:"h-3 w-3 lg:h-4 lg:w-4"})})]})})]}),s.jsx(ut,{open:v,onOpenChange:_,children:s.jsxs(ct,{className:"max-w-md",children:[s.jsxs(ht,{children:[s.jsx(mt,{children:"Add People to Conversation"}),s.jsx(Zt,{children:"Select people to add to this conversation."})]}),s.jsxs("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:[h.filter(y=>!t.messages.some(w=>w.senderId===y.userId||w.recipientId===y.userId)&&y.userId!==r).map(y=>{var w,T,O,U,A,S,g;return s.jsxs("div",{className:"flex items-center space-x-3 p-2 hover:bg-muted rounded-lg cursor-pointer",onClick:()=>{u([y.userId]),_(!1)},children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-600 flex items-center justify-center",children:s.jsx("span",{className:"text-sm font-medium text-white",children:(((T=(w=y.user)==null?void 0:w.firstName)==null?void 0:T.charAt(0))||((U=(O=y.user)==null?void 0:O.email)==null?void 0:U.charAt(0))||"U").toUpperCase()})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium",children:(A=y.user)!=null&&A.firstName&&((S=y.user)!=null&&S.lastName)?`${y.user.firstName} ${y.user.lastName}`:(g=y.user)==null?void 0:g.email}),s.jsx("p",{className:"text-xs text-muted-foreground",children:y.role})]})]},y.userId)}),h.filter(y=>!t.messages.some(w=>w.senderId===y.userId||w.recipientId===y.userId)&&y.userId!==r).length===0&&s.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"All available users are already in this conversation."})]})]})})]})}function Gr(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function fl(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const CF=6048e5,YJ=864e5;let XJ={};function Ng(){return XJ}function rh(t,e){var l,c,u,h;const n=Ng(),r=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((h=(u=n.locale)==null?void 0:u.options)==null?void 0:h.weekStartsOn)??0,i=Gr(t),a=i.getDay(),o=(a<r?7:0)+a-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function wp(t){return rh(t,{weekStartsOn:1})}function TF(t){const e=Gr(t),n=e.getFullYear(),r=fl(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=wp(r),a=fl(t,0);a.setFullYear(n,0,4),a.setHours(0,0,0,0);const o=wp(a);return e.getTime()>=i.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function ZS(t){const e=Gr(t);return e.setHours(0,0,0,0),e}function JS(t){const e=Gr(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function ZJ(t,e){const n=ZS(t),r=ZS(e),i=+n-JS(n),a=+r-JS(r);return Math.round((i-a)/YJ)}function JJ(t){const e=TF(t),n=fl(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),wp(n)}function eee(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function tee(t){if(!eee(t)&&typeof t!="number")return!1;const e=Gr(t);return!isNaN(Number(e))}function nee(t){const e=Gr(t),n=fl(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const see={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},ree=(t,e,n)=>{let r;const i=see[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Yx(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const iee={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},aee={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},oee={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},lee={date:Yx({formats:iee,defaultWidth:"full"}),time:Yx({formats:aee,defaultWidth:"full"}),dateTime:Yx({formats:oee,defaultWidth:"full"})},cee={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},dee=(t,e,n,r)=>cee[t];function $d(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,l=n!=null&&n.width?String(n.width):o;i=t.formattingValues[l]||t.formattingValues[o]}else{const o=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[l]||t.values[o]}const a=t.argumentCallback?t.argumentCallback(e):e;return i[a]}}const uee={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},hee={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},mee={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},fee={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},pee={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},gee={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},xee=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},yee={ordinalNumber:xee,era:$d({values:uee,defaultWidth:"wide"}),quarter:$d({values:hee,defaultWidth:"wide",argumentCallback:t=>t-1}),month:$d({values:mee,defaultWidth:"wide"}),day:$d({values:fee,defaultWidth:"wide"}),dayPeriod:$d({values:pee,defaultWidth:"wide",formattingValues:gee,defaultFormattingWidth:"wide"})};function zd(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],a=e.match(i);if(!a)return null;const o=a[0],l=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?jee(l,p=>p.test(o)):vee(l,p=>p.test(o));let u;u=t.valueCallback?t.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const h=e.slice(o.length);return{value:u,rest:h}}}function vee(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function jee(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function wee(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],a=e.match(t.parsePattern);if(!a)return null;let o=t.valueCallback?t.valueCallback(a[0]):a[0];o=n.valueCallback?n.valueCallback(o):o;const l=e.slice(i.length);return{value:o,rest:l}}}const bee=/^(\d+)(th|st|nd|rd)?/i,Nee=/\d+/i,See={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},_ee={any:[/^b/i,/^(a|c)/i]},Cee={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Tee={any:[/1/i,/2/i,/3/i,/4/i]},Eee={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Pee={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},kee={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Aee={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Iee={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Ree={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Dee={ordinalNumber:wee({matchPattern:bee,parsePattern:Nee,valueCallback:t=>parseInt(t,10)}),era:zd({matchPatterns:See,defaultMatchWidth:"wide",parsePatterns:_ee,defaultParseWidth:"any"}),quarter:zd({matchPatterns:Cee,defaultMatchWidth:"wide",parsePatterns:Tee,defaultParseWidth:"any",valueCallback:t=>t+1}),month:zd({matchPatterns:Eee,defaultMatchWidth:"wide",parsePatterns:Pee,defaultParseWidth:"any"}),day:zd({matchPatterns:kee,defaultMatchWidth:"wide",parsePatterns:Aee,defaultParseWidth:"any"}),dayPeriod:zd({matchPatterns:Iee,defaultMatchWidth:"any",parsePatterns:Ree,defaultParseWidth:"any"})},Mee={code:"en-US",formatDistance:ree,formatLong:lee,formatRelative:dee,localize:yee,match:Dee,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Oee(t){const e=Gr(t);return ZJ(e,nee(e))+1}function Fee(t){const e=Gr(t),n=+wp(e)-+JJ(e);return Math.round(n/CF)+1}function EF(t,e){var h,p,f,v;const n=Gr(t),r=n.getFullYear(),i=Ng(),a=(e==null?void 0:e.firstWeekContainsDate)??((p=(h=e==null?void 0:e.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??i.firstWeekContainsDate??((v=(f=i.locale)==null?void 0:f.options)==null?void 0:v.firstWeekContainsDate)??1,o=fl(t,0);o.setFullYear(r+1,0,a),o.setHours(0,0,0,0);const l=rh(o,e),c=fl(t,0);c.setFullYear(r,0,a),c.setHours(0,0,0,0);const u=rh(c,e);return n.getTime()>=l.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function Lee(t,e){var l,c,u,h;const n=Ng(),r=(e==null?void 0:e.firstWeekContainsDate)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((h=(u=n.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??1,i=EF(t,e),a=fl(t,0);return a.setFullYear(i,0,r),a.setHours(0,0,0,0),rh(a,e)}function Uee(t,e){const n=Gr(t),r=+rh(n,e)-+Lee(n,e);return Math.round(r/CF)+1}function Mt(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const xa={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Mt(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Mt(n+1,2)},d(t,e){return Mt(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Mt(t.getHours()%12||12,e.length)},H(t,e){return Mt(t.getHours(),e.length)},m(t,e){return Mt(t.getMinutes(),e.length)},s(t,e){return Mt(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Mt(i,e.length)}},Dl={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},e_={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return xa.y(t,e)},Y:function(t,e,n,r){const i=EF(t,r),a=i>0?i:1-i;if(e==="YY"){const o=a%100;return Mt(o,2)}return e==="Yo"?n.ordinalNumber(a,{unit:"year"}):Mt(a,e.length)},R:function(t,e){const n=TF(t);return Mt(n,e.length)},u:function(t,e){const n=t.getFullYear();return Mt(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Mt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Mt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return xa.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Mt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=Uee(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):Mt(i,e.length)},I:function(t,e,n){const r=Fee(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Mt(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):xa.d(t,e)},D:function(t,e,n){const r=Oee(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Mt(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return Mt(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return Mt(a,e.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Mt(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=Dl.noon:r===0?i=Dl.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=Dl.evening:r>=12?i=Dl.afternoon:r>=4?i=Dl.morning:i=Dl.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return xa.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):xa.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Mt(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Mt(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):xa.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):xa.s(t,e)},S:function(t,e){return xa.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return n_(r);case"XXXX":case"XX":return To(r);case"XXXXX":case"XXX":default:return To(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return n_(r);case"xxxx":case"xx":return To(r);case"xxxxx":case"xxx":default:return To(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+t_(r,":");case"OOOO":default:return"GMT"+To(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+t_(r,":");case"zzzz":default:return"GMT"+To(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return Mt(r,e.length)},T:function(t,e,n){const r=t.getTime();return Mt(r,e.length)}};function t_(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),a=r%60;return a===0?n+String(i):n+String(i)+e+Mt(a,2)}function n_(t,e){return t%60===0?(t>0?"-":"+")+Mt(Math.abs(t)/60,2):To(t,e)}function To(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Mt(Math.trunc(r/60),2),a=Mt(r%60,2);return n+i+e+a}const s_=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},PF=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Vee=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return s_(t,e);let a;switch(r){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",s_(r,e)).replace("{{time}}",PF(i,e))},$ee={p:PF,P:Vee},zee=/^D+$/,Bee=/^Y+$/,qee=["D","DD","YY","YYYY"];function Hee(t){return zee.test(t)}function Wee(t){return Bee.test(t)}function Kee(t,e,n){const r=Gee(t,e,n);if(console.warn(r),qee.includes(t))throw new RangeError(r)}function Gee(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Qee=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Yee=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Xee=/^'([^]*?)'?$/,Zee=/''/g,Jee=/[a-zA-Z]/;function Ml(t,e,n){var h,p,f,v;const r=Ng(),i=r.locale??Mee,a=r.firstWeekContainsDate??((p=(h=r.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,o=r.weekStartsOn??((v=(f=r.locale)==null?void 0:f.options)==null?void 0:v.weekStartsOn)??0,l=Gr(t);if(!tee(l))throw new RangeError("Invalid time value");let c=e.match(Yee).map(_=>{const j=_[0];if(j==="p"||j==="P"){const E=$ee[j];return E(_,i.formatLong)}return _}).join("").match(Qee).map(_=>{if(_==="''")return{isToken:!1,value:"'"};const j=_[0];if(j==="'")return{isToken:!1,value:ete(_)};if(e_[j])return{isToken:!0,value:_};if(j.match(Jee))throw new RangeError("Format string contains an unescaped latin alphabet character `"+j+"`");return{isToken:!1,value:_}});i.localize.preprocessor&&(c=i.localize.preprocessor(l,c));const u={firstWeekContainsDate:a,weekStartsOn:o,locale:i};return c.map(_=>{if(!_.isToken)return _.value;const j=_.value;(Wee(j)||Hee(j))&&Kee(j,e,String(t));const E=e_[j[0]];return E(l,j,i.localize,u)}).join("")}function ete(t){const e=t.match(Xee);return e?e[1].replace(Zee,"'"):t}const tte=G.object({reportType:G.enum(["financial","meeting-minutes","communications","maintenance","home-sale-package"]),title:G.string().min(1,"Title is required"),format:G.enum(["pdf","excel","html"]).default("pdf"),dateRangeStart:G.string().optional(),dateRangeEnd:G.string().optional(),emailTo:G.string().optional()}),Rm={financial:{icon:dr,label:"Financial Report",description:"Income, expenses, fund balances, and financial summaries",color:"text-green-600"},"meeting-minutes":{icon:$s,label:"Meeting Minutes",description:"All meeting records and minutes for specified period",color:"text-blue-600"},communications:{icon:od,label:"Communications Report",description:"Announcements, messages, and community communications",color:"text-purple-600"},maintenance:{icon:vs,label:"Maintenance Report",description:"Maintenance requests, projects, and vendor activities",color:"text-orange-600"},"home-sale-package":{icon:Vt,label:"Home Sale Package",description:"Complete documentation package required for property sales",color:"text-indigo-600"}};function nte(){var T,O,U,A,S;const{toast:t}=xn(),e=as(),[n,r]=m.useState(!1),[i,a]=m.useState(""),[o,l]=m.useState(!1),[c,u]=m.useState(null),[h,p]=m.useState(null),{data:f}=ot({queryKey:["/api/strata"]});m.useEffect(()=>{if(f&&Array.isArray(f)&&f.length>0){const g=localStorage.getItem("currentStrata");if(g)try{p(JSON.parse(g))}catch{p(f[0])}else p(f[0])}},[f]);const{data:v=[],isLoading:_}=ot({queryKey:[`/api/strata/${h==null?void 0:h.id}/reports`],enabled:!!(h!=null&&h.id)}),j=kn({resolver:An(tte),defaultValues:{reportType:"financial",title:"",format:"pdf",dateRangeStart:"",dateRangeEnd:"",emailTo:""}}),E=g=>{N.mutate(g)},N=ze({mutationFn:async g=>(await Be("POST",`/api/strata/${h==null?void 0:h.id}/reports`,{...g,dateRange:g.dateRangeStart&&g.dateRangeEnd?{start:g.dateRangeStart,end:g.dateRangeEnd}:void 0})).json(),onSuccess:()=>{t({title:"Success",description:"Report generation started"}),e.invalidateQueries({queryKey:[`/api/strata/${h==null?void 0:h.id}/reports`]}),r(!1),j.reset()},onError:()=>{t({title:"Error",description:"Failed to generate report",variant:"destructive"})}}),y=ze({mutationFn:async g=>(await Be("DELETE",`/api/reports/${g}`)).json(),onSuccess:()=>{t({title:"Success",description:"Report deleted successfully"}),e.invalidateQueries({queryKey:[`/api/strata/${h==null?void 0:h.id}/reports`]})},onError:()=>{t({title:"Error",description:"Failed to delete report",variant:"destructive"})}}),w=g=>{switch(g){case"completed":return s.jsx(He,{className:"bg-green-100 text-green-800",children:"Completed"});case"generating":return s.jsx(He,{className:"bg-blue-100 text-blue-800",children:"Generating"});case"failed":return s.jsx(He,{className:"bg-red-100 text-red-800",children:"Failed"});default:return s.jsx(He,{className:"bg-gray-100 text-gray-800",children:"Pending"})}};return h?s.jsxs("div",{className:"container mx-auto px-4 py-6 space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:"Reports"}),s.jsxs("p",{className:"text-muted-foreground mt-1",children:["Generate and manage strata reports for ",h.name]})]}),s.jsxs(ut,{open:n,onOpenChange:r,children:[s.jsx(Fn,{asChild:!0,children:s.jsxs($,{className:"w-full sm:w-auto",children:[s.jsx(en,{className:"h-4 w-4 mr-2"}),"Generate Report"]})}),s.jsxs(ct,{className:"max-w-md max-h-[90vh] overflow-y-auto",children:[s.jsxs(ht,{children:[s.jsx(mt,{children:"Generate New Report"}),s.jsx(Zt,{children:"Select the type of report you want to generate"})]}),s.jsx(ln,{...j,children:s.jsxs("form",{onSubmit:j.handleSubmit(g=>N.mutate(g)),className:"space-y-4",children:[s.jsx(oe,{control:j.control,name:"reportType",render:({field:g})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Report Type"}),s.jsxs(tt,{onValueChange:k=>{g.onChange(k),a(k);const P=Rm[k];P&&j.setValue("title",P.label+" - "+Ml(new Date,"MMM yyyy"))},defaultValue:g.value,children:[s.jsx(le,{children:s.jsx(Ze,{children:s.jsx(nt,{placeholder:"Select report type"})})}),s.jsx(Je,{children:Object.entries(Rm).map(([k,P])=>s.jsx(V,{value:k,children:P.label},k))})]}),s.jsx(ce,{})]})}),s.jsx(oe,{control:j.control,name:"title",render:({field:g})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Report Title"}),s.jsx(le,{children:s.jsx(re,{placeholder:"Enter report title",...g})}),s.jsx(ce,{})]})}),i!=="home-sale-package"&&s.jsxs(s.Fragment,{children:[s.jsx(oe,{control:j.control,name:"dateRangeStart",render:({field:g})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Start Date (Optional)"}),s.jsx(le,{children:s.jsx(re,{type:"date",...g})}),s.jsx(ce,{})]})}),s.jsx(oe,{control:j.control,name:"dateRangeEnd",render:({field:g})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"End Date (Optional)"}),s.jsx(le,{children:s.jsx(re,{type:"date",...g})}),s.jsx(ce,{})]})})]}),s.jsx(oe,{control:j.control,name:"format",render:({field:g})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Format"}),s.jsxs(tt,{onValueChange:g.onChange,defaultValue:g.value,children:[s.jsx(le,{children:s.jsx(Ze,{children:s.jsx(nt,{})})}),s.jsxs(Je,{children:[s.jsx(V,{value:"pdf",children:"PDF Document"}),s.jsx(V,{value:"excel",children:"Excel Spreadsheet"}),s.jsx(V,{value:"html",children:"Web Page"})]})]}),s.jsx(ce,{})]})}),s.jsx(oe,{control:j.control,name:"emailTo",render:({field:g})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Email To (Optional)"}),s.jsx(le,{children:s.jsx(re,{placeholder:"Enter email addresses separated by commas",...g})}),s.jsx(ce,{})]})}),s.jsxs("div",{className:"flex gap-2 pt-4",children:[s.jsx($,{type:"button",variant:"outline",onClick:()=>r(!1),className:"flex-1",children:"Cancel"}),s.jsx($,{type:"submit",disabled:N.isPending,className:"flex-1",children:N.isPending?s.jsxs(s.Fragment,{children:[s.jsx(kx,{className:"h-4 w-4 mr-2 animate-spin"}),"Generating..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Vt,{className:"h-4 w-4 mr-2"}),"Generate"]})})]})]})})]})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Object.entries(Rm).map(([g,k])=>{const P=k.icon;return s.jsx(ge,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>{j.setValue("reportType",g),j.setValue("title",k.label+" - "+Ml(new Date,"MMM yyyy")),a(g),r(!0)},children:s.jsx(be,{className:"p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(P,{className:`h-8 w-8 ${k.color}`}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:k.label}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:k.description})]})]})})},g)})}),s.jsxs(ge,{children:[s.jsxs(Ge,{children:[s.jsx(Qe,{children:"Generated Reports"}),s.jsx(pi,{children:"View and manage your previously generated reports"})]}),s.jsx(be,{children:_?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(kx,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-muted-foreground"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading reports..."})]}):v&&Array.isArray(v)&&v.length>0?s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Ks,{children:[s.jsx(Gs,{children:s.jsxs(Ft,{children:[s.jsx(Ie,{children:"Report"}),s.jsx(Ie,{className:"hidden sm:table-cell",children:"Type"}),s.jsx(Ie,{className:"hidden md:table-cell",children:"Date Range"}),s.jsx(Ie,{children:"Status"}),s.jsx(Ie,{className:"hidden sm:table-cell",children:"Generated"}),s.jsx(Ie,{children:"Actions"})]})}),s.jsx(Qs,{children:v.map(g=>{const k=Rm[g.reportType],P=(k==null?void 0:k.icon)||Vt;return s.jsxs(Ft,{className:g.status==="completed"?"cursor-pointer hover:bg-muted/50":"",children:[s.jsx(Ee,{onClick:()=>{g.status==="completed"&&(u(g),l(!0))},children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(P,{className:`h-4 w-4 ${(k==null?void 0:k.color)||"text-gray-600"}`}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:g.title}),s.jsxs("div",{className:"text-sm text-muted-foreground capitalize",children:[g.format," format",g.status==="completed"&&s.jsx("span",{className:"ml-2 text-blue-600",children:"• Click to view"})]})]})]})}),s.jsx(Ee,{className:"hidden sm:table-cell",children:s.jsx(He,{variant:"outline",children:(k==null?void 0:k.label)||g.reportType})}),s.jsx(Ee,{className:"hidden md:table-cell",children:g.dateRange?s.jsxs("div",{className:"text-sm",children:[Ml(new Date(g.dateRange.start),"MMM d")," - ",Ml(new Date(g.dateRange.end),"MMM d, yyyy")]}):s.jsx("span",{className:"text-muted-foreground",children:"All time"})}),s.jsx(Ee,{children:w(g.status)}),s.jsx(Ee,{className:"hidden sm:table-cell",children:s.jsx("div",{className:"text-sm text-muted-foreground",children:Ml(new Date(g.generatedAt),"MMM d, yyyy")})}),s.jsx(Ee,{children:s.jsxs("div",{className:"flex items-center gap-1",children:[g.status==="completed"&&g.downloadUrl&&s.jsx($,{size:"sm",variant:"ghost",asChild:!0,children:s.jsx("a",{href:g.downloadUrl,download:!0,children:s.jsx(Hc,{className:"h-4 w-4"})})}),s.jsx($,{size:"sm",variant:"ghost",onClick:()=>y.mutate(g.id),disabled:y.isPending,children:s.jsx(Un,{className:"h-4 w-4"})})]})})]},g.id)})})]})}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(j0,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Reports Generated"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Generate your first report to get started"}),s.jsxs($,{onClick:()=>r(!0),children:[s.jsx(en,{className:"h-4 w-4 mr-2"}),"Generate Report"]})]})})]}),s.jsx(ut,{open:n,onOpenChange:r,children:s.jsxs(ct,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[s.jsxs(ht,{children:[s.jsx(mt,{children:"Generate Report"}),s.jsx(Zt,{children:"Create a new report for your strata community"})]}),s.jsx(ln,{...j,children:s.jsxs("form",{onSubmit:j.handleSubmit(E),className:"space-y-4",children:[s.jsx(oe,{control:j.control,name:"title",render:({field:g})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Report Title"}),s.jsx(le,{children:s.jsx(re,{placeholder:"Financial Report - July 2025",...g})}),s.jsx(ce,{})]})}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(oe,{control:j.control,name:"dateRangeStart",render:({field:g})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Start Date"}),s.jsx(le,{children:s.jsx(re,{type:"date",...g})}),s.jsx(ce,{})]})}),s.jsx(oe,{control:j.control,name:"dateRangeEnd",render:({field:g})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"End Date"}),s.jsx(le,{children:s.jsx(re,{type:"date",...g})}),s.jsx(ce,{})]})})]}),s.jsx(oe,{control:j.control,name:"format",render:({field:g})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Format"}),s.jsxs(tt,{onValueChange:g.onChange,defaultValue:g.value,children:[s.jsx(le,{children:s.jsx(Ze,{children:s.jsx(nt,{placeholder:"Select format"})})}),s.jsxs(Je,{children:[s.jsx(V,{value:"pdf",children:"PDF"}),s.jsx(V,{value:"excel",children:"Excel"}),s.jsx(V,{value:"html",children:"HTML"})]})]}),s.jsx(ce,{})]})}),s.jsx(oe,{control:j.control,name:"emailTo",render:({field:g})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Email To (Optional)"}),s.jsx(le,{children:s.jsx(re,{type:"email",placeholder:"recipient@example.com",...g})}),s.jsx(LD,{children:"Leave empty to only generate the report without emailing"}),s.jsx(ce,{})]})}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx($,{type:"button",variant:"outline",onClick:()=>r(!1),children:"Cancel"}),s.jsx($,{type:"submit",disabled:N.isPending,children:N.isPending?s.jsxs(s.Fragment,{children:[s.jsx(kx,{className:"h-4 w-4 mr-2 animate-spin"}),"Generating..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Vt,{className:"h-4 w-4 mr-2"}),"Generate Report"]})})]})]})})]})}),s.jsx(ut,{open:o,onOpenChange:l,children:s.jsxs(ct,{className:"sm:max-w-[800px] max-h-[90vh] overflow-y-auto",children:[s.jsxs(ht,{children:[s.jsx(mt,{children:c==null?void 0:c.title}),s.jsxs(Zt,{children:["Generated on ",c&&Ml(new Date(c.generatedAt),"MMM d, yyyy")]})]}),s.jsx("div",{className:"mt-4",children:c!=null&&c.content?s.jsxs("div",{className:"space-y-4",children:[c.reportType==="financial"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(ge,{children:s.jsxs(be,{className:"p-4",children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Monthly Income"}),s.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["$",((T=c.content.monthlyIncome)==null?void 0:T.toLocaleString())||"0"]})]})}),s.jsx(ge,{children:s.jsxs(be,{className:"p-4",children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Expenses"}),s.jsxs("div",{className:"text-2xl font-bold text-red-600",children:["$",((O=c.content.totalExpenses)==null?void 0:O.toLocaleString())||"0"]})]})}),s.jsx(ge,{children:s.jsxs(be,{className:"p-4",children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Fund Balance"}),s.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:["$",((U=c.content.funds)==null?void 0:U.reduce((g,k)=>g+parseFloat(k.balance||0),0).toLocaleString())||"0"]})]})})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Recent Expenses"}),((A=c.content.expenses)==null?void 0:A.length)>0?s.jsx("div",{className:"space-y-2",children:c.content.expenses.slice(0,5).map(g=>s.jsxs("div",{className:"flex justify-between items-center p-2 bg-muted rounded",children:[s.jsx("span",{children:g.description}),s.jsxs("span",{className:"font-medium",children:["$",parseFloat(g.amount).toLocaleString()]})]},g.id))}):s.jsx("p",{className:"text-muted-foreground",children:"No expenses in this period"})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Fund Information"}),((S=c.content.funds)==null?void 0:S.length)>0?s.jsx("div",{className:"space-y-2",children:c.content.funds.map(g=>s.jsxs("div",{className:"flex justify-between items-center p-2 bg-muted rounded",children:[s.jsxs("span",{children:[g.name," (",g.type,")"]}),s.jsxs("span",{className:"font-medium",children:["$",parseFloat(g.balance).toLocaleString()]})]},g.id))}):s.jsx("p",{className:"text-muted-foreground",children:"No funds configured"})]})]}),c.reportType!=="financial"&&s.jsx("div",{className:"p-4 bg-muted rounded",children:s.jsx("pre",{className:"whitespace-pre-wrap text-sm",children:JSON.stringify(c.content,null,2)})})]}):s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-muted-foreground",children:"Report content not available"})})}),s.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[(c==null?void 0:c.downloadUrl)&&s.jsx($,{variant:"outline",asChild:!0,children:s.jsxs("a",{href:c.downloadUrl,download:!0,children:[s.jsx(Hc,{className:"h-4 w-4 mr-2"}),"Download"]})}),s.jsx($,{onClick:()=>l(!1),children:"Close"})]})]})})]}):s.jsx("div",{className:"container mx-auto px-4 py-8",children:s.jsx(ge,{children:s.jsxs(be,{className:"text-center py-12",children:[s.jsx(Vt,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),s.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No Strata Selected"}),s.jsx("p",{className:"text-muted-foreground",children:"Please select a strata to view and generate reports."})]})})})}const ste=G.object({name:G.string().min(1,"Name is required"),address:G.string().min(1,"Address is required"),city:G.string().optional(),province:G.string().optional(),postalCode:G.string().optional(),country:G.string().optional(),phoneNumber:G.string().optional(),email:G.string().email().optional().or(G.literal("")),unitCount:G.number().min(1,"Unit count must be at least 1"),corporationNumber:G.string().optional(),incorporationDate:G.string().optional(),managementCompany:G.string().optional(),managementContactName:G.string().optional(),managementContactEmail:G.string().email().optional().or(G.literal("")),managementContactPhone:G.string().optional(),status:G.string().optional(),notes:G.string().optional()}),rte=G.object({userId:G.string().min(1,"User is required"),strataId:G.string().min(1,"Strata is required"),role:G.string().min(1,"Role is required")}),ite=G.object({email:G.string().email("Valid email is required"),firstName:G.string().optional(),lastName:G.string().optional(),role:G.string().optional(),temporaryPassword:G.string().min(6,"Password must be at least 6 characters")}),ate=G.object({email:G.string().email("Valid email is required"),firstName:G.string().optional(),lastName:G.string().optional(),role:G.string().optional(),isActive:G.boolean().optional(),resetPassword:G.boolean().optional(),newPassword:G.string().optional()}).refine(t=>!(t.resetPassword&&!t.newPassword||t.newPassword&&t.newPassword.length<6),{message:"Password must be at least 6 characters when resetting",path:["newPassword"]}),kF=G.object({subscriptionTier:G.enum(["trial","free","standard","premium"]),monthlyRate:G.number().min(0),isFreeForever:G.boolean()});function ote({userId:t}){const{toast:e}=xn(),n=as(),{data:r,isLoading:i}=ot({queryKey:[`/api/get-user-assignments/${t}`],retry:!1}),a=ze({mutationFn:async o=>{await Be("DELETE",`/api/admin/user-strata-access/${o}`)},onSuccess:()=>{e({title:"Success",description:"User unassigned from strata successfully"}),n.invalidateQueries({queryKey:[`/api/admin/users/${t}/strata-assignments`]})},onError:o=>{e({title:"Error",description:o.message,variant:"destructive"})}});return i?s.jsx("div",{className:"text-sm text-muted-foreground",children:"Loading..."}):r!=null&&r.length?s.jsx("div",{className:"space-y-1",children:r.map(o=>{var l;return s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(He,{variant:"outline",className:"text-xs",children:((l=o.strata)==null?void 0:l.name)||"Unknown Strata"}),s.jsx($,{variant:"ghost",size:"sm",onClick:()=>a.mutate(o.id),disabled:a.isPending,className:"h-6 w-6 p-0 text-red-600 hover:text-red-700 hover:bg-red-50",children:s.jsx(mi,{className:"h-3 w-3"})})]},o.id)})}):s.jsx("div",{className:"text-sm text-muted-foreground",children:"No assignments"})}function lte(){const{toast:t}=xn(),e=as(),[n,r]=m.useState(!1),[i,a]=m.useState(null),o=kn({resolver:An(kF),defaultValues:{subscriptionTier:"trial",monthlyRate:0,isFreeForever:!1}}),{data:l=[],isLoading:c}=ot({queryKey:["/api/admin/pending-registrations"]}),u=ze({mutationFn:async v=>{await Be("POST",`/api/admin/pending-registrations/${v.registrationId}/approve`,v.subscriptionData)},onSuccess:()=>{e.invalidateQueries({queryKey:["/api/admin/pending-registrations"]}),e.invalidateQueries({queryKey:["/api/admin/strata"]}),r(!1),t({title:"Registration Approved",description:"The strata registration has been approved with subscription settings."})},onError:v=>{t({title:"Error",description:v.message||"Failed to approve registration",variant:"destructive"})}}),h=ze({mutationFn:async v=>{await Be("POST",`/api/admin/pending-registrations/${v}/reject`)},onSuccess:()=>{e.invalidateQueries({queryKey:["/api/admin/pending-registrations"]}),t({title:"Registration Rejected",description:"The strata registration has been rejected."})},onError:v=>{t({title:"Error",description:v.message||"Failed to reject registration",variant:"destructive"})}}),p=v=>{a(v);const _=v.unitCount<=100?79.95:129.95,j=v.unitCount<=100?"standard":"premium";o.reset({subscriptionTier:j,monthlyRate:_,isFreeForever:!1}),r(!0)},f=v=>{i&&u.mutate({registrationId:i.id,subscriptionData:v})};return c?s.jsx("div",{className:"text-center py-8",children:"Loading pending registrations..."}):!l||l.length===0?s.jsx(ge,{children:s.jsxs(be,{className:"text-center py-8",children:[s.jsx(vs,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Pending Registrations"}),s.jsx("p",{className:"text-muted-foreground",children:"All strata registration requests have been processed."})]})}):s.jsxs("div",{className:"space-y-4",children:[l.map(v=>s.jsxs(ge,{children:[s.jsx(Ge,{children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx(Qe,{className:"text-lg",children:v.strataName}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mt-1",children:[s.jsx(Xp,{className:"h-4 w-4"}),v.address,", ",v.city,", ",v.province]})]}),s.jsx(He,{variant:"outline",children:new Date(v.createdAt).toLocaleDateString()})]})}),s.jsxs(be,{children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 lg:gap-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-xs lg:text-sm text-muted-foreground",children:"Contact Information"}),s.jsxs("div",{className:"mt-1 text-xs lg:text-sm space-y-1",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Name:"})," ",v.adminFirstName," ",v.adminLastName]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Email:"})," ",s.jsx("span",{className:"break-all",children:v.adminEmail})]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Phone:"})," ",v.adminPhone]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-xs lg:text-sm text-muted-foreground",children:"Organization Details"}),s.jsxs("div",{className:"mt-1 text-xs lg:text-sm space-y-1",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Units:"})," ",v.unitCount]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Management:"})," ",v.managementType==="self_managed"?"Self-Managed":"Professionally Managed"]}),v.managementCompany&&s.jsxs("p",{children:[s.jsx("strong",{children:"Company:"})," ",v.managementCompany]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-xs lg:text-sm text-muted-foreground",children:"Pricing"}),s.jsxs("div",{className:"mt-1 text-xs lg:text-sm space-y-1",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Monthly Rate:"})," $",v.unitCount<=100?"79.95":"129.95"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Tier:"})," ",v.unitCount<=100?"Standard (≤100 units)":"Premium (>100 units)"]})]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-xs lg:text-sm text-muted-foreground",children:"Description"}),s.jsx("p",{className:"mt-1 text-xs lg:text-sm",children:v.description})]}),v.specialRequirements&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-xs lg:text-sm text-muted-foreground",children:"Special Requirements"}),s.jsx("p",{className:"mt-1 text-xs lg:text-sm",children:v.specialRequirements})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-xs lg:text-sm text-muted-foreground",children:"Complete Address"}),s.jsxs("p",{className:"mt-1 text-xs lg:text-sm",children:[v.address,s.jsx("br",{}),v.city,", ",v.province," ",v.postalCode]})]})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-end gap-2 mt-4 lg:mt-6 pt-3 lg:pt-4 border-t",children:[s.jsxs($,{variant:"outline",onClick:()=>h.mutate(v.id),disabled:h.isPending||u.isPending,className:"text-red-600 hover:text-red-700 text-sm h-8 lg:h-9",children:[s.jsx(mi,{className:"h-3 w-3 lg:h-4 lg:w-4 mr-2"}),h.isPending?"Rejecting...":"Reject"]}),s.jsxs($,{onClick:()=>p(v),disabled:u.isPending||h.isPending,className:"bg-green-600 hover:bg-green-700 text-white text-sm h-8 lg:h-9",children:[s.jsx(Ts,{className:"h-3 w-3 lg:h-4 lg:w-4 mr-2"}),u.isPending?"Approving...":"Approve"]})]})]})]},v.id)),s.jsx(ut,{open:n,onOpenChange:r,children:s.jsxs(ct,{className:"max-w-md mx-4 lg:mx-auto",children:[s.jsx(ht,{children:s.jsx(mt,{className:"text-lg lg:text-xl",children:"Approve Registration"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Setting subscription for: ",s.jsx("strong",{children:i==null?void 0:i.name})]}),s.jsx(ln,{...o,children:s.jsxs("form",{onSubmit:o.handleSubmit(f),className:"space-y-4",children:[s.jsx(oe,{control:o.control,name:"subscriptionTier",render:({field:v})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Subscription Tier"}),s.jsxs(tt,{onValueChange:_=>{v.onChange(_);const j=_==="standard"?79.95:_==="premium"?129.95:0;o.setValue("monthlyRate",j),o.setValue("isFreeForever",_==="free")},value:v.value,children:[s.jsx(le,{children:s.jsx(Ze,{children:s.jsx(nt,{placeholder:"Select subscription tier"})})}),s.jsxs(Je,{children:[s.jsx(V,{value:"trial",children:"Trial (30 days)"}),s.jsx(V,{value:"free",children:"Free"}),s.jsx(V,{value:"standard",children:"Standard (≤100 units)"}),s.jsx(V,{value:"premium",children:"Premium (100+ units)"})]})]}),s.jsx(ce,{})]})}),s.jsx(oe,{control:o.control,name:"monthlyRate",render:({field:v})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Monthly Rate ($)"}),s.jsx(le,{children:s.jsx(re,{type:"number",step:"0.01",...v,onChange:_=>v.onChange(parseFloat(_.target.value)||0)})}),s.jsx(ce,{})]})}),s.jsx(oe,{control:o.control,name:"isFreeForever",render:({field:v})=>s.jsxs(ie,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(ae,{className:"text-base",children:"Free Forever"}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Override with permanent free access"})]}),s.jsx(le,{children:s.jsx(Gt,{checked:v.value,onCheckedChange:_=>{v.onChange(_),_&&o.setValue("monthlyRate",0)}})})]})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx($,{type:"button",variant:"outline",onClick:()=>r(!1),className:"flex-1",children:"Cancel"}),s.jsx($,{type:"submit",disabled:u.isPending,className:"flex-1 bg-green-600 hover:bg-green-700",children:u.isPending?"Approving...":"Approve & Create"})]})]})})]})]})})]})}function cte(){const{user:t,isAuthenticated:e}=xr(),{toast:n}=xn(),r=as(),[i,a]=m.useState(!1),[o,l]=m.useState(!1),[c,u]=m.useState(null),[h,p]=m.useState(!1),[f,v]=m.useState(null),[_,j]=m.useState(!1),[E,N]=m.useState(!1),[y,w]=m.useState(null),[T,O]=m.useState(null),[U,A]=m.useState(!1),[S,g]=m.useState(null),[k,P]=m.useState(!1),[I,R]=m.useState(null);m.useState(!1),m.useState(null);const[Q,Ne]=m.useState("strata");if(!e||(t==null?void 0:t.email)!=="rfinnbogason@gmail.com")return s.jsx("div",{className:"container mx-auto px-4 py-8",children:s.jsx(ge,{children:s.jsxs(be,{className:"text-center py-12",children:[s.jsx(ai,{className:"h-12 w-12 mx-auto mb-4 text-red-500"}),s.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Access Denied"}),s.jsx("p",{className:"text-muted-foreground",children:"You don't have permission to access the admin panel."})]})})});const{data:de,isLoading:K}=ot({queryKey:["/api/admin/strata"],retry:!1}),{data:F,isLoading:z}=ot({queryKey:["/api/admin/users"],retry:!1});ot({queryKey:[`/api/admin/strata/${f==null?void 0:f.id}/users`],enabled:!!(f!=null&&f.id),retry:!1,refetchOnMount:!0});const W=kn({resolver:An(ste),defaultValues:{name:"",address:"",city:"",province:"",postalCode:"",country:"Canada",phoneNumber:"",email:"",unitCount:1,corporationNumber:"",managementCompany:"",managementContactName:"",managementContactEmail:"",managementContactPhone:"",status:"active",notes:""}}),se=kn({resolver:An(rte),defaultValues:{userId:"",strataId:"",role:"resident"},mode:"onChange"}),Ce=kn({resolver:An(ite),defaultValues:{email:"",firstName:"",lastName:"",role:"resident",temporaryPassword:""}}),Me=kn({resolver:An(ate),defaultValues:{email:"",firstName:"",lastName:"",role:"resident",isActive:!0,resetPassword:!1,newPassword:""}}),q=kn({resolver:An(kF),defaultValues:{subscriptionTier:"trial",monthlyRate:0,isFreeForever:!1}}),ve=ze({mutationFn:async C=>{const ee=await fetch("/api/admin/strata",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(C)});if(!ee.ok)throw new Error("Failed to create strata");return ee.json()},onSuccess:()=>{n({title:"Success",description:"Strata created successfully"}),r.invalidateQueries({queryKey:["/api/admin/strata"]}),r.invalidateQueries({queryKey:["/api/strata"]}),a(!1),W.reset()},onError:()=>{n({title:"Error",description:"Failed to create strata",variant:"destructive"})}}),Ue=ze({mutationFn:async C=>{if(!c)throw new Error("No strata selected");const ee=await fetch(`/api/admin/strata/${c.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(C)});if(!ee.ok)throw new Error("Failed to update strata");return ee.json()},onSuccess:()=>{n({title:"Success",description:"Strata updated successfully"}),r.invalidateQueries({queryKey:["/api/admin/strata"]}),r.invalidateQueries({queryKey:["/api/strata"]}),l(!1),u(null),W.reset()},onError:()=>{n({title:"Error",description:"Failed to update strata",variant:"destructive"})}}),we=ze({mutationFn:async C=>{console.log("🔥 MUTATION EXECUTING - Assigning user with data:",C),console.log("📡 Making API request to:",`/api/admin/strata/${C.strataId}/users`);try{const ee=await Be("POST","/api/assign-user-to-strata",C);return console.log("✅ API request successful:",ee),ee}catch(ee){throw console.error("❌ API request failed:",ee),ee}},onSuccess:()=>{console.log("🎉 Assignment successful! Updating UI..."),n({title:"Success",description:"User assigned to strata successfully"}),r.invalidateQueries({queryKey:["/api/admin/users"]}),r.invalidateQueries({queryKey:["/api/admin/strata"]}),T!=null&&T.id&&r.invalidateQueries({queryKey:[`/api/get-user-assignments/${T.id}`]}),r.invalidateQueries({queryKey:["/api/admin"]}),p(!1),se.reset(),O(null)},onError:C=>{console.error("💥 Assignment error:",C),console.error("Error details:",{message:C.message,stack:C.stack,name:C.name}),n({title:"Error",description:C.message||"Failed to assign user",variant:"destructive"})}});ze({mutationFn:async C=>{await Be("DELETE",`/api/admin/user-access/${C}`)},onSuccess:()=>{n({title:"Success",description:"User access removed successfully"}),r.invalidateQueries({queryKey:[`/api/admin/strata/${f==null?void 0:f.id}/users`]})},onError:()=>{n({title:"Error",description:"Failed to remove user access",variant:"destructive"})}});const fe=ze({mutationFn:async C=>Be("POST","/api/admin/users",C),onSuccess:()=>{n({title:"Success",description:"User created successfully"}),r.invalidateQueries({queryKey:["/api/admin/users"]}),j(!1),Ce.reset()},onError:C=>{n({title:"Error",description:C.message,variant:"destructive"})}}),Y=ze({mutationFn:async C=>{if(!y)throw new Error("No user selected");const ee=await fetch(`/api/admin/users/${y.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(C)});if(!ee.ok){const pe=await ee.json();throw new Error(pe.message||"Failed to update user")}return ee.json()},onSuccess:()=>{n({title:"Success",description:"User updated successfully"}),r.invalidateQueries({queryKey:["/api/admin/users"]}),N(!1),w(null),Me.reset()},onError:C=>{n({title:"Error",description:C.message,variant:"destructive"})}}),X=ze({mutationFn:async C=>Be("DELETE",`/api/admin/users/${C}`,{}),onSuccess:()=>{n({title:"Success",description:"User deleted successfully"}),r.invalidateQueries({queryKey:["/api/admin/users"]})},onError:C=>{n({title:"Error",description:C.message,variant:"destructive"})}}),je=ze({mutationFn:async C=>Be("POST",`/api/migration/migrate-user/${C}`,{}),onSuccess:C=>{var ee;n({title:"Success",description:`User migrated to Firebase successfully. Temporary password: ${((ee=C.firebaseResult)==null?void 0:ee.tempPassword)||"VibeStrat2025!"}`}),r.invalidateQueries({queryKey:["/api/admin/users"]})},onError:C=>{n({title:"Error",description:C.message,variant:"destructive"})}}),Oe=ze({mutationFn:async C=>{const ee=await fetch(`/api/admin/strata/${C.strataId}/subscription`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(C.subscriptionData)});if(!ee.ok){const pe=await ee.json();throw new Error(pe.message||"Failed to update subscription")}return ee.json()},onSuccess:()=>{n({title:"Success",description:"Subscription updated successfully"}),r.invalidateQueries({queryKey:["/api/admin/strata"]}),A(!1)},onError:C=>{n({title:"Error",description:C.message,variant:"destructive"})}}),lt=ze({mutationFn:async C=>{const ee=await fetch(`/api/admin/strata/${C}`,{method:"DELETE"});if(!ee.ok){const pe=await ee.json();throw new Error(pe.message||"Failed to delete strata organization")}return ee.json()},onSuccess:()=>{n({title:"Success",description:"Strata organization and all associated data deleted successfully"}),r.invalidateQueries({queryKey:["/api/admin/strata"]}),r.invalidateQueries({queryKey:["/api/admin/users"]}),r.invalidateQueries({queryKey:["/api/strata"]}),P(!1),R(null)},onError:C=>{n({title:"Error",description:C.message||"Failed to delete strata organization",variant:"destructive"})}}),Dt=C=>{R(C),P(!0)},yn=()=>{I&&lt.mutate(I.id)},un=C=>{u(C),W.reset({name:C.name,address:C.address,city:C.city||"",province:C.province||"",postalCode:C.postalCode||"",country:C.country||"Canada",phoneNumber:C.phoneNumber||"",email:C.email||"",unitCount:C.unitCount,corporationNumber:C.corporationNumber||"",managementCompany:C.managementCompany||"",managementContactName:C.managementContactName||"",managementContactEmail:C.managementContactEmail||"",managementContactPhone:C.managementContactPhone||"",status:C.status,notes:C.notes||""}),l(!0)},hn=C=>new Date(C).toLocaleDateString(),Xt=C=>{switch(C){case"active":return"bg-green-100 text-green-800";case"inactive":return"bg-yellow-100 text-yellow-800";case"archived":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},Ss=C=>{switch(C){case"active":return s.jsx(Ur,{className:"h-4 w-4"});case"inactive":return s.jsx(Hs,{className:"h-4 w-4"});case"archived":return s.jsx(ai,{className:"h-4 w-4"});default:return s.jsx(ai,{className:"h-4 w-4"})}},J=C=>{w(C),Me.reset({email:C.email||"",firstName:C.firstName||"",lastName:C.lastName||"",role:C.role||"resident",isActive:C.isActive??!0,resetPassword:!1,newPassword:""}),N(!0)},et=C=>{window.confirm(`Are you sure you want to delete user: ${C.email}?`)&&X.mutate(C.id)},L=C=>{g(C);const ee=C.subscriptionTier==="standard"?79.95:C.subscriptionTier==="premium"?129.95:0;q.reset({subscriptionTier:C.subscriptionTier||"trial",monthlyRate:C.monthlyRate||ee,isFreeForever:C.isFreeForever||!1}),A(!0)},Z=C=>{S&&Oe.mutate({strataId:S.id,subscriptionData:C})};return s.jsxs("div",{className:"container mx-auto px-3 sm:px-4 lg:px-6 py-4 lg:py-8",children:[s.jsxs("div",{className:"mb-6 lg:mb-8",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2 lg:mb-4",children:[s.jsx(Mo,{className:"h-5 w-5 lg:h-6 lg:w-6"}),s.jsx("h1",{className:"text-xl lg:text-2xl font-bold",children:"System Administration"})]}),s.jsx("p",{className:"text-sm lg:text-base text-muted-foreground",children:"Manage all strata organizations and users in the system"})]}),s.jsx("div",{className:"mb-6",children:s.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-2 lg:pb-0 scrollbar-none",children:[s.jsxs($,{variant:Q==="strata"?"default":"outline",onClick:()=>Ne("strata"),className:"flex items-center gap-2 whitespace-nowrap text-xs lg:text-sm px-3 lg:px-4 py-2 h-8 lg:h-10",children:[s.jsx(xv,{className:"h-3 w-3 lg:h-4 lg:w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Strata Organizations"}),s.jsx("span",{className:"sm:hidden",children:"Strata"})]}),s.jsxs($,{variant:Q==="users"?"default":"outline",onClick:()=>Ne("users"),className:"flex items-center gap-2 whitespace-nowrap text-xs lg:text-sm px-3 lg:px-4 py-2 h-8 lg:h-10",children:[s.jsx($s,{className:"h-3 w-3 lg:h-4 lg:w-4"}),"Users"]}),s.jsxs($,{variant:Q==="registrations"?"default":"outline",onClick:()=>Ne("registrations"),className:"flex items-center gap-2 whitespace-nowrap text-xs lg:text-sm px-3 lg:px-4 py-2 h-8 lg:h-10",children:[s.jsx(vs,{className:"h-3 w-3 lg:h-4 lg:w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Pending Registrations"}),s.jsx("span",{className:"sm:hidden",children:"Pending"})]})]})}),Q==="strata"&&s.jsxs("div",{className:"space-y-4 lg:space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-3",children:[s.jsx("h2",{className:"text-lg lg:text-xl font-semibold",children:"Strata Organizations"}),s.jsxs($,{onClick:()=>a(!0),className:"w-full sm:w-auto text-sm",children:[s.jsx(en,{className:"h-3 w-3 lg:h-4 lg:w-4 mr-2"}),s.jsx("span",{className:"hidden sm:inline",children:"Create New Strata"}),s.jsx("span",{className:"sm:hidden",children:"Create Strata"})]})]}),K?s.jsx(ge,{children:s.jsxs(be,{className:"text-center py-12",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900 mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading strata..."})]})}):s.jsxs("div",{className:"grid gap-4",children:[de==null?void 0:de.map(C=>s.jsx(ge,{children:s.jsxs(be,{className:"p-4 lg:p-6",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row lg:justify-between lg:items-start gap-3 lg:gap-4 mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-3 mb-3",children:[s.jsx("h3",{className:"text-base lg:text-lg font-semibold",children:C.name}),s.jsxs(He,{className:`flex items-center gap-1 w-fit ${Xt(C.status)}`,children:[Ss(C.status),s.jsx("span",{className:"text-xs",children:C.status})]})]}),s.jsxs("div",{className:"space-y-2 text-xs lg:text-sm text-muted-foreground",children:[s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(Xp,{className:"h-3 w-3 lg:h-4 lg:w-4 mt-0.5 flex-shrink-0"}),s.jsxs("span",{className:"break-words",children:[C.address,C.city&&C.province&&s.jsxs("span",{children:[", ",C.city,", ",C.province]})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-x-4 gap-y-1",children:[C.email&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(od,{className:"h-3 w-3 lg:h-4 lg:w-4"}),s.jsx("span",{className:"truncate max-w-[150px] lg:max-w-none",children:C.email})]}),C.phoneNumber&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(N0,{className:"h-3 w-3 lg:h-4 lg:w-4"}),s.jsx("span",{children:C.phoneNumber})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-x-4 gap-y-1",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(vs,{className:"h-3 w-3 lg:h-4 lg:w-4"}),s.jsxs("span",{children:[C.unitCount," units"]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(ss,{className:"h-3 w-3 lg:h-4 lg:w-4"}),s.jsx("span",{children:hn(C.createdAt)})]})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-3 pt-2 border-t border-gray-100",children:[s.jsx(He,{variant:C.subscriptionStatus==="trial"?"secondary":C.subscriptionStatus==="active"?"default":C.isFreeForever?"outline":"destructive",children:s.jsx("span",{className:"text-xs",children:C.isFreeForever?"Free Forever":C.subscriptionStatus||"Not Set"})}),s.jsxs("span",{className:"text-xs",children:["$",C.monthlyRate||0,"/month (",C.subscriptionTier||"trial",")"]})]})]})]}),s.jsxs("div",{className:"flex flex-row lg:flex-col gap-2 w-full lg:w-auto",children:[s.jsxs($,{variant:"outline",size:"sm",onClick:()=>un(C),className:"flex-1 lg:flex-none text-xs lg:text-sm h-8 lg:h-9",children:[s.jsx(gs,{className:"h-3 w-3 lg:h-4 lg:w-4 mr-1 lg:mr-2"}),"Edit"]}),s.jsxs($,{variant:"outline",size:"sm",onClick:()=>L(C),className:"flex-1 lg:flex-none text-xs lg:text-sm h-8 lg:h-9",children:[s.jsx(ss,{className:"h-3 w-3 lg:h-4 lg:w-4 mr-1 lg:mr-2"}),s.jsx("span",{className:"hidden sm:inline",children:"Subscription"}),s.jsx("span",{className:"sm:hidden",children:"Sub"})]}),s.jsxs($,{variant:"outline",size:"sm",onClick:()=>Dt(C),className:"flex-1 lg:flex-none text-xs lg:text-sm h-8 lg:h-9 text-red-600 hover:text-red-700 border-red-200 hover:border-red-300",children:[s.jsx(Un,{className:"h-3 w-3 lg:h-4 lg:w-4 mr-1 lg:mr-2"}),s.jsx("span",{className:"hidden sm:inline",children:"Delete"}),s.jsx("span",{className:"sm:hidden",children:"Del"})]})]})]}),C.managementCompany&&s.jsxs("div",{className:"border-t pt-3 lg:pt-4 mt-3 lg:mt-4",children:[s.jsx("h4",{className:"font-medium text-xs lg:text-sm mb-2",children:"Management"}),s.jsxs("div",{className:"text-xs lg:text-sm text-muted-foreground space-y-1",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Company:"})," ",C.managementCompany]}),C.managementContactName&&s.jsxs("p",{children:[s.jsx("strong",{children:"Contact:"})," ",C.managementContactName]}),C.managementContactEmail&&s.jsxs("p",{children:[s.jsx("strong",{children:"Email:"})," ",s.jsx("span",{className:"break-all",children:C.managementContactEmail})]})]})]})]})},C.id)),(de==null?void 0:de.length)===0&&s.jsx(ge,{children:s.jsxs(be,{className:"text-center py-12",children:[s.jsx(xv,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground opacity-50"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Strata Organizations"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Get started by creating your first strata organization."}),s.jsxs($,{onClick:()=>a(!0),children:[s.jsx(en,{className:"h-4 w-4 mr-2"}),"Create First Strata"]})]})})]})]}),Q==="users"&&s.jsxs("div",{className:"space-y-4 lg:space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-3",children:[s.jsx("h2",{className:"text-lg lg:text-xl font-semibold",children:"System Users"}),s.jsxs($,{onClick:()=>j(!0),className:"w-full sm:w-auto text-sm",children:[s.jsx(en,{className:"h-3 w-3 lg:h-4 lg:w-4 mr-2"}),"Create User"]})]}),z?s.jsx(ge,{children:s.jsxs(be,{className:"text-center py-12",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900 mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading users..."})]})}):s.jsx(ge,{children:s.jsxs(be,{className:"p-0",children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Ks,{className:"min-w-[760px] text-xs",children:[s.jsx(Gs,{children:s.jsxs(Ft,{children:[s.jsx(Ie,{className:"w-[120px]",children:"User"}),s.jsx(Ie,{className:"w-[160px]",children:"Email"}),s.jsx(Ie,{className:"w-[90px]",children:"Role"}),s.jsx(Ie,{className:"w-[120px]",children:"Strata"}),s.jsx(Ie,{className:"w-[70px]",children:"Status"}),s.jsx(Ie,{className:"w-[80px]",children:"Joined"}),s.jsx(Ie,{className:"w-[120px]",children:"Actions"})]})}),s.jsx(Qs,{children:F==null?void 0:F.map(C=>s.jsxs(Ft,{children:[s.jsx(Ee,{className:"w-[120px]",children:s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-xs truncate",children:C.firstName||C.lastName?`${C.firstName||""} ${C.lastName||""}`.trim():"No name set"}),s.jsxs("p",{className:"text-xs text-muted-foreground truncate",children:["ID: ",C.id.split("-")[0],"..."]})]})}),s.jsx(Ee,{className:"w-[160px]",children:s.jsx("span",{className:"text-xs truncate block",title:C.email,children:C.email})}),s.jsx(Ee,{className:"w-[90px]",children:s.jsx(He,{variant:"secondary",className:"text-xs",children:C.role})}),s.jsx(Ee,{className:"w-[120px]",children:s.jsx(ote,{userId:C.id})}),s.jsx(Ee,{className:"w-[70px]",children:s.jsx(He,{variant:C.isActive?"default":"destructive",className:"text-xs",children:C.isActive?"Active":"Inactive"})}),s.jsx(Ee,{className:"w-[80px]",children:s.jsx("span",{className:"text-xs",children:hn(C.createdAt)})}),s.jsx(Ee,{className:"w-[120px]",children:s.jsxs(Jd,{children:[s.jsx(eu,{asChild:!0,children:s.jsx($,{variant:"outline",size:"sm",className:"h-6 w-6 p-0",children:s.jsx(Gd,{className:"h-3 w-3"})})}),s.jsxs(Jl,{align:"end",className:"w-40",children:[s.jsxs(us,{onClick:()=>J(C),children:[s.jsx(gs,{className:"mr-2 h-3 w-3"}),"Edit User"]}),s.jsxs(us,{onClick:()=>{O({id:C.id,email:C.email,firstName:C.firstName,lastName:C.lastName,role:C.role});const ee=de==null?void 0:de[0];ee&&(v(ee),se.setValue("strataId",ee.id)),se.setValue("userId",C.id),se.setValue("role",C.role),p(!0)},children:[s.jsx(tR,{className:"mr-2 h-3 w-3"}),"Assign to Strata"]}),s.jsxs(us,{onClick:()=>je.mutate(C.id),disabled:je.isPending,children:[s.jsx(yq,{className:"mr-2 h-3 w-3"}),"Migrate to Firebase"]}),s.jsx(vO,{}),s.jsxs(us,{onClick:()=>et(C),className:"text-red-600 focus:text-red-600",children:[s.jsx(Un,{className:"mr-2 h-3 w-3"}),"Delete User"]})]})]})})]},C.id))})]})}),(F==null?void 0:F.length)===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx($s,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground opacity-50"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Users Found"}),s.jsx("p",{className:"text-muted-foreground",children:"Users will appear here as they register for the system."})]})]})})]}),Q==="registrations"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Pending Strata Registrations"}),s.jsx(He,{variant:"secondary",children:"Requires Approval"})]}),s.jsx(lte,{})]}),s.jsx(ut,{open:i,onOpenChange:a,children:s.jsxs(ct,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(ht,{children:s.jsx(mt,{children:"Create New Strata Organization"})}),s.jsx(ln,{...W,children:s.jsxs("form",{onSubmit:W.handleSubmit(C=>ve.mutate(C)),className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(oe,{control:W.control,name:"name",render:({field:C})=>s.jsxs(ie,{className:"col-span-2",children:[s.jsx(ae,{children:"Organization Name"}),s.jsx(le,{children:s.jsx(re,{placeholder:"Sunset Gardens Strata",...C})}),s.jsx(ce,{})]})}),s.jsx(oe,{control:W.control,name:"address",render:({field:C})=>s.jsxs(ie,{className:"col-span-2",children:[s.jsx(ae,{children:"Address"}),s.jsx(le,{children:s.jsx(re,{placeholder:"123 Main Street",...C})}),s.jsx(ce,{})]})}),s.jsx(oe,{control:W.control,name:"city",render:({field:C})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"City"}),s.jsx(le,{children:s.jsx(re,{placeholder:"Vancouver",...C})}),s.jsx(ce,{})]})}),s.jsx(oe,{control:W.control,name:"province",render:({field:C})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Province"}),s.jsx(le,{children:s.jsx(re,{placeholder:"BC",...C})}),s.jsx(ce,{})]})}),s.jsx(oe,{control:W.control,name:"postalCode",render:({field:C})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Postal Code"}),s.jsx(le,{children:s.jsx(re,{placeholder:"V6K 2P4",...C})}),s.jsx(ce,{})]})}),s.jsx(oe,{control:W.control,name:"unitCount",render:({field:C})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Number of Units"}),s.jsx(le,{children:s.jsx(re,{type:"number",min:"1",...C,onChange:ee=>C.onChange(parseInt(ee.target.value)||0)})}),s.jsx(ce,{})]})}),s.jsx(oe,{control:W.control,name:"email",render:({field:C})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Email"}),s.jsx(le,{children:s.jsx(re,{type:"email",placeholder:"contact@strata.com",...C})}),s.jsx(ce,{})]})}),s.jsx(oe,{control:W.control,name:"phoneNumber",render:({field:C})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Phone Number"}),s.jsx(le,{children:s.jsx(re,{placeholder:"(604) 555-0123",...C})}),s.jsx(ce,{})]})}),s.jsx(oe,{control:W.control,name:"corporationNumber",render:({field:C})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Corporation Number"}),s.jsx(le,{children:s.jsx(re,{placeholder:"BCS12345",...C})}),s.jsx(ce,{})]})}),s.jsx(oe,{control:W.control,name:"managementCompany",render:({field:C})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Management Company"}),s.jsx(le,{children:s.jsx(re,{placeholder:"ABC Property Management",...C})}),s.jsx(ce,{})]})}),s.jsx(oe,{control:W.control,name:"managementContactName",render:({field:C})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Management Contact"}),s.jsx(le,{children:s.jsx(re,{placeholder:"John Smith",...C})}),s.jsx(ce,{})]})}),s.jsx(oe,{control:W.control,name:"managementContactEmail",render:({field:C})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Management Email"}),s.jsx(le,{children:s.jsx(re,{type:"email",placeholder:"manager@company.com",...C})}),s.jsx(ce,{})]})}),s.jsx(oe,{control:W.control,name:"status",render:({field:C})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Status"}),s.jsxs(tt,{onValueChange:C.onChange,defaultValue:C.value,children:[s.jsx(le,{children:s.jsx(Ze,{children:s.jsx(nt,{placeholder:"Select status"})})}),s.jsxs(Je,{children:[s.jsx(V,{value:"active",children:"Active"}),s.jsx(V,{value:"inactive",children:"Inactive"}),s.jsx(V,{value:"archived",children:"Archived"})]})]}),s.jsx(ce,{})]})})]}),s.jsx(oe,{control:W.control,name:"notes",render:({field:C})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Notes"}),s.jsx(le,{children:s.jsx($t,{placeholder:"Additional notes about this strata organization...",className:"min-h-[80px]",...C})}),s.jsx(ce,{})]})}),s.jsxs("div",{className:"flex gap-2 justify-end",children:[s.jsx($,{type:"button",variant:"outline",onClick:()=>a(!1),children:"Cancel"}),s.jsx($,{type:"submit",disabled:ve.isPending,children:ve.isPending?"Creating...":"Create Strata"})]})]})})]})}),s.jsx(ut,{open:o,onOpenChange:l,children:s.jsxs(ct,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(ht,{children:s.jsx(mt,{children:"Edit Strata Organization"})}),s.jsx(ln,{...W,children:s.jsxs("form",{onSubmit:W.handleSubmit(C=>Ue.mutate(C)),className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(oe,{control:W.control,name:"name",render:({field:C})=>s.jsxs(ie,{className:"col-span-2",children:[s.jsx(ae,{children:"Organization Name"}),s.jsx(le,{children:s.jsx(re,{placeholder:"Sunset Gardens Strata",...C})}),s.jsx(ce,{})]})}),s.jsx(oe,{control:W.control,name:"address",render:({field:C})=>s.jsxs(ie,{className:"col-span-2",children:[s.jsx(ae,{children:"Address"}),s.jsx(le,{children:s.jsx(re,{placeholder:"123 Main Street",...C})}),s.jsx(ce,{})]})}),s.jsx(oe,{control:W.control,name:"city",render:({field:C})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"City"}),s.jsx(le,{children:s.jsx(re,{placeholder:"Vancouver",...C})}),s.jsx(ce,{})]})}),s.jsx(oe,{control:W.control,name:"province",render:({field:C})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Province"}),s.jsx(le,{children:s.jsx(re,{placeholder:"BC",...C})}),s.jsx(ce,{})]})}),s.jsx(oe,{control:W.control,name:"postalCode",render:({field:C})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Postal Code"}),s.jsx(le,{children:s.jsx(re,{placeholder:"V6K 2P4",...C})}),s.jsx(ce,{})]})}),s.jsx(oe,{control:W.control,name:"unitCount",render:({field:C})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Number of Units"}),s.jsx(le,{children:s.jsx(re,{type:"number",min:"1",...C,onChange:ee=>C.onChange(parseInt(ee.target.value)||0)})}),s.jsx(ce,{})]})}),s.jsx(oe,{control:W.control,name:"email",render:({field:C})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Email"}),s.jsx(le,{children:s.jsx(re,{type:"email",placeholder:"contact@strata.com",...C})}),s.jsx(ce,{})]})}),s.jsx(oe,{control:W.control,name:"phoneNumber",render:({field:C})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Phone Number"}),s.jsx(le,{children:s.jsx(re,{placeholder:"(604) 555-0123",...C})}),s.jsx(ce,{})]})}),s.jsx(oe,{control:W.control,name:"corporationNumber",render:({field:C})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Corporation Number"}),s.jsx(le,{children:s.jsx(re,{placeholder:"BCS12345",...C})}),s.jsx(ce,{})]})}),s.jsx(oe,{control:W.control,name:"managementCompany",render:({field:C})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Management Company"}),s.jsx(le,{children:s.jsx(re,{placeholder:"ABC Property Management",...C})}),s.jsx(ce,{})]})}),s.jsx(oe,{control:W.control,name:"managementContactName",render:({field:C})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Management Contact"}),s.jsx(le,{children:s.jsx(re,{placeholder:"John Smith",...C})}),s.jsx(ce,{})]})}),s.jsx(oe,{control:W.control,name:"managementContactEmail",render:({field:C})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Management Email"}),s.jsx(le,{children:s.jsx(re,{type:"email",placeholder:"manager@company.com",...C})}),s.jsx(ce,{})]})}),s.jsx(oe,{control:W.control,name:"status",render:({field:C})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Status"}),s.jsxs(tt,{onValueChange:C.onChange,value:C.value,children:[s.jsx(le,{children:s.jsx(Ze,{children:s.jsx(nt,{placeholder:"Select status"})})}),s.jsxs(Je,{children:[s.jsx(V,{value:"active",children:"Active"}),s.jsx(V,{value:"inactive",children:"Inactive"}),s.jsx(V,{value:"archived",children:"Archived"})]})]}),s.jsx(ce,{})]})})]}),s.jsx(oe,{control:W.control,name:"notes",render:({field:C})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Notes"}),s.jsx(le,{children:s.jsx($t,{placeholder:"Additional notes about this strata organization...",className:"min-h-[80px]",...C})}),s.jsx(ce,{})]})}),s.jsxs("div",{className:"flex gap-2 justify-end",children:[s.jsx($,{type:"button",variant:"outline",onClick:()=>l(!1),children:"Cancel"}),s.jsx($,{type:"submit",disabled:Ue.isPending,children:Ue.isPending?"Updating...":"Update Strata"})]})]})})]})}),s.jsx(ut,{open:h,onOpenChange:p,children:s.jsxs(ct,{className:"max-w-md",children:[s.jsx(ht,{children:s.jsx(mt,{children:"Assign User to Strata"})}),s.jsx(ln,{...se,children:s.jsxs("form",{onSubmit:async C=>{C.preventDefault(),console.log("🚀 Form submitted via onSubmit event!");const ee=se.getValues();if(console.log("Form values:",ee),console.log("Form errors:",se.formState.errors),console.log("Is form valid:",se.formState.isValid),!ee.userId||!ee.strataId||!ee.role){console.error("❌ Missing required fields:",ee);return}console.log("✅ All fields valid, executing mutation..."),we.mutate(ee)},className:"space-y-4",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium mb-2",children:"Strata Organization:"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:f==null?void 0:f.name})]}),s.jsx(oe,{control:se.control,name:"strataId",render:({field:C})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Strata Organization"}),s.jsxs(tt,{onValueChange:ee=>{C.onChange(ee);const pe=de==null?void 0:de.find(xe=>xe.id===ee);pe&&v(pe)},value:C.value,children:[s.jsx(le,{children:s.jsx(Ze,{children:s.jsx(nt,{placeholder:"Select strata organization"})})}),s.jsx(Je,{children:de==null?void 0:de.map(ee=>s.jsx(V,{value:ee.id,children:ee.name},ee.id))})]}),s.jsx(ce,{})]})}),s.jsx(oe,{control:se.control,name:"userId",render:({field:C})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Select User"}),s.jsxs(tt,{onValueChange:C.onChange,value:C.value,children:[s.jsx(le,{children:s.jsx(Ze,{children:s.jsx(nt,{placeholder:"Choose a user to assign"})})}),s.jsx(Je,{children:F==null?void 0:F.map(ee=>s.jsxs(V,{value:ee.id,children:[ee.email,(ee.firstName||ee.lastName)&&` (${ee.firstName||""} ${ee.lastName||""}`.trim()+")"]},ee.id))})]}),s.jsx(ce,{})]})}),s.jsx(oe,{control:se.control,name:"role",render:({field:C})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Role"}),s.jsxs(tt,{onValueChange:C.onChange,defaultValue:C.value,children:[s.jsx(le,{children:s.jsx(Ze,{children:s.jsx(nt,{placeholder:"Select user role"})})}),s.jsxs(Je,{children:[s.jsx(V,{value:"resident",children:"Resident"}),s.jsx(V,{value:"council_member",children:"Council Member"}),s.jsx(V,{value:"secretary",children:"Secretary"}),s.jsx(V,{value:"treasurer",children:"Treasurer"}),s.jsx(V,{value:"chairperson",children:"Chairperson"}),s.jsx(V,{value:"property_manager",children:"Property Manager"})]})]}),s.jsx(ce,{})]})})]}),s.jsxs("div",{className:"flex gap-2 justify-end",children:[s.jsx($,{type:"button",variant:"outline",onClick:()=>{p(!1),se.reset()},children:"Cancel"}),s.jsx($,{type:"submit",disabled:we.isPending,children:we.isPending?"Assigning...":"Assign User"})]})]})})]})}),s.jsx(ut,{open:_,onOpenChange:j,children:s.jsxs(ct,{className:"max-w-md",children:[s.jsx(ht,{children:s.jsx(mt,{children:"Create New User"})}),s.jsx(ln,{...Ce,children:s.jsxs("form",{onSubmit:Ce.handleSubmit(C=>fe.mutate(C)),className:"space-y-4",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx(oe,{control:Ce.control,name:"email",render:({field:C})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Email Address"}),s.jsx(le,{children:s.jsx(re,{placeholder:"user@example.com",...C})}),s.jsx(ce,{})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(oe,{control:Ce.control,name:"firstName",render:({field:C})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"First Name"}),s.jsx(le,{children:s.jsx(re,{placeholder:"John",...C})}),s.jsx(ce,{})]})}),s.jsx(oe,{control:Ce.control,name:"lastName",render:({field:C})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Last Name"}),s.jsx(le,{children:s.jsx(re,{placeholder:"Doe",...C})}),s.jsx(ce,{})]})})]}),s.jsx(oe,{control:Ce.control,name:"role",render:({field:C})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Default Role"}),s.jsxs(tt,{onValueChange:C.onChange,defaultValue:C.value,children:[s.jsx(le,{children:s.jsx(Ze,{children:s.jsx(nt,{placeholder:"Select default role"})})}),s.jsxs(Je,{children:[s.jsx(V,{value:"resident",children:"Resident"}),s.jsx(V,{value:"council_member",children:"Council Member"}),s.jsx(V,{value:"secretary",children:"Secretary"}),s.jsx(V,{value:"treasurer",children:"Treasurer"}),s.jsx(V,{value:"chairperson",children:"Chairperson"}),s.jsx(V,{value:"property_manager",children:"Property Manager"})]})]}),s.jsx(ce,{})]})}),s.jsx(oe,{control:Ce.control,name:"temporaryPassword",render:({field:C})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Temporary Password"}),s.jsx(le,{children:s.jsx(re,{type:"password",placeholder:"Temporary password (min 6 characters)",...C})}),s.jsx(ce,{}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"User will be prompted to change this password on first login."})]})})]}),s.jsxs("div",{className:"flex gap-2 justify-end",children:[s.jsx($,{type:"button",variant:"outline",onClick:()=>{j(!1),Ce.reset()},children:"Cancel"}),s.jsx($,{type:"submit",disabled:fe.isPending,children:fe.isPending?"Creating...":"Create User"})]})]})})]})}),s.jsx(ut,{open:E,onOpenChange:N,children:s.jsxs(ct,{className:"max-w-md",children:[s.jsx(ht,{children:s.jsx(mt,{children:"Edit User"})}),s.jsx(ln,{...Me,children:s.jsxs("form",{onSubmit:Me.handleSubmit(C=>Y.mutate(C)),className:"space-y-4",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx(oe,{control:Me.control,name:"email",render:({field:C})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Email Address"}),s.jsx(le,{children:s.jsx(re,{placeholder:"user@example.com",...C})}),s.jsx(ce,{})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(oe,{control:Me.control,name:"firstName",render:({field:C})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"First Name"}),s.jsx(le,{children:s.jsx(re,{placeholder:"John",...C})}),s.jsx(ce,{})]})}),s.jsx(oe,{control:Me.control,name:"lastName",render:({field:C})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Last Name"}),s.jsx(le,{children:s.jsx(re,{placeholder:"Doe",...C})}),s.jsx(ce,{})]})})]}),s.jsx(oe,{control:Me.control,name:"role",render:({field:C})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Role"}),s.jsxs(tt,{onValueChange:C.onChange,defaultValue:C.value,children:[s.jsx(le,{children:s.jsx(Ze,{children:s.jsx(nt,{placeholder:"Select role"})})}),s.jsxs(Je,{children:[s.jsx(V,{value:"resident",children:"Resident"}),s.jsx(V,{value:"council_member",children:"Council Member"}),s.jsx(V,{value:"secretary",children:"Secretary"}),s.jsx(V,{value:"treasurer",children:"Treasurer"}),s.jsx(V,{value:"chairperson",children:"Chairperson"}),s.jsx(V,{value:"property_manager",children:"Property Manager"})]})]}),s.jsx(ce,{})]})}),s.jsx(oe,{control:Me.control,name:"isActive",render:({field:C})=>s.jsxs(ie,{className:"flex flex-row items-center justify-between rounded-lg border p-3 shadow-sm",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(ae,{children:"Account Status"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Active users can log in and access the system"})]}),s.jsx(le,{children:s.jsx(Gt,{checked:C.value,onCheckedChange:C.onChange})})]})}),s.jsx(oe,{control:Me.control,name:"resetPassword",render:({field:C})=>s.jsxs(ie,{className:"flex flex-row items-center justify-between rounded-lg border p-3 shadow-sm",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(ae,{children:"Reset Password"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Set a new temporary password for this user"})]}),s.jsx(le,{children:s.jsx(Gt,{checked:C.value,onCheckedChange:C.onChange})})]})}),Me.watch("resetPassword")&&s.jsx(oe,{control:Me.control,name:"newPassword",render:({field:C})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"New Temporary Password"}),s.jsx(le,{children:s.jsx(re,{type:"password",placeholder:"New temporary password (min 6 characters)",...C})}),s.jsx(ce,{}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"User will be prompted to change this password on next login."})]})})]}),s.jsxs("div",{className:"flex gap-2 justify-end",children:[s.jsx($,{type:"button",variant:"outline",onClick:()=>{N(!1),w(null),Me.reset()},children:"Cancel"}),s.jsx($,{type:"submit",disabled:Y.isPending,children:Y.isPending?"Updating...":"Update User"})]})]})})]})}),s.jsx(ut,{open:h,onOpenChange:p,children:s.jsxs(ct,{className:"max-w-md",children:[s.jsx(ht,{children:s.jsx(mt,{children:"Assign User to Strata"})}),s.jsx(ln,{...se,children:s.jsxs("form",{onSubmit:se.handleSubmit(C=>{const ee={...C,userId:(T==null?void 0:T.id)||C.userId};console.log("Form submission data:",ee),console.log("Form errors:",se.formState.errors),we.mutate(ee)}),className:"space-y-4",children:[s.jsxs("div",{className:"space-y-4",children:[T&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium mb-2",children:"Selected User:"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:T.firstName||T.lastName?`${T.firstName||""} ${T.lastName||""}`.trim():T.email})]}),s.jsx(oe,{control:se.control,name:"strataId",render:({field:C})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Strata Organization"}),s.jsxs(tt,{onValueChange:C.onChange,value:C.value,children:[s.jsx(le,{children:s.jsx(Ze,{children:s.jsx(nt,{placeholder:"Choose a strata organization"})})}),s.jsx(Je,{children:de==null?void 0:de.map(ee=>s.jsx(V,{value:ee.id,children:ee.name},ee.id))})]}),s.jsx(ce,{})]})}),s.jsx(oe,{control:se.control,name:"role",render:({field:C})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Role"}),s.jsxs(tt,{onValueChange:C.onChange,value:C.value,children:[s.jsx(le,{children:s.jsx(Ze,{children:s.jsx(nt,{placeholder:"Select role"})})}),s.jsxs(Je,{children:[s.jsx(V,{value:"resident",children:"Resident"}),s.jsx(V,{value:"council_member",children:"Council Member"}),s.jsx(V,{value:"secretary",children:"Secretary"}),s.jsx(V,{value:"treasurer",children:"Treasurer"}),s.jsx(V,{value:"chairperson",children:"Chairperson"}),s.jsx(V,{value:"property_manager",children:"Property Manager"})]})]}),s.jsx(ce,{})]})})]}),s.jsxs("div",{className:"flex gap-2 justify-end",children:[s.jsx($,{type:"button",variant:"outline",onClick:()=>{p(!1),O(null),se.reset()},children:"Cancel"}),s.jsx($,{type:"submit",disabled:we.isPending,onClick:C=>{console.log("Assign User button clicked!"),console.log("Form values:",se.getValues()),console.log("Form errors:",se.formState.errors),console.log("Is form valid:",se.formState.isValid)},children:we.isPending?"Assigning...":"Assign User"})]})]})})]})}),s.jsx(ut,{open:U,onOpenChange:A,children:s.jsxs(ct,{className:"max-w-md",children:[s.jsx(ht,{children:s.jsx(mt,{children:"Manage Subscription"})}),s.jsx(ln,{...q,children:s.jsxs("form",{onSubmit:q.handleSubmit(Z),className:"space-y-4",children:[s.jsx(oe,{control:q.control,name:"subscriptionTier",render:({field:C})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Subscription Tier"}),s.jsxs(tt,{onValueChange:ee=>{C.onChange(ee);const pe=ee==="standard"?79.95:ee==="premium"?129.95:0;q.setValue("monthlyRate",pe),q.setValue("isFreeForever",ee==="free")},value:C.value,children:[s.jsx(le,{children:s.jsx(Ze,{children:s.jsx(nt,{placeholder:"Select subscription tier"})})}),s.jsxs(Je,{children:[s.jsx(V,{value:"trial",children:"Trial (30 days)"}),s.jsx(V,{value:"free",children:"Free"}),s.jsx(V,{value:"standard",children:"Standard (≤100 units)"}),s.jsx(V,{value:"premium",children:"Premium (100+ units)"})]})]}),s.jsx(ce,{})]})}),s.jsx(oe,{control:q.control,name:"monthlyRate",render:({field:C})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Monthly Rate ($)"}),s.jsx(le,{children:s.jsx(re,{type:"number",step:"0.01",...C,onChange:ee=>C.onChange(parseFloat(ee.target.value)||0)})}),s.jsx(ce,{})]})}),s.jsx(oe,{control:q.control,name:"isFreeForever",render:({field:C})=>s.jsxs(ie,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(ae,{className:"text-base",children:"Free Forever"}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Override subscription with permanent free access"})]}),s.jsx(le,{children:s.jsx(Gt,{checked:C.value,onCheckedChange:ee=>{C.onChange(ee),ee&&q.setValue("monthlyRate",0)}})})]})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx($,{type:"button",variant:"outline",onClick:()=>A(!1),className:"flex-1",children:"Cancel"}),s.jsx($,{type:"submit",disabled:Oe.isPending,className:"flex-1",children:Oe.isPending?"Updating...":"Update"})]})]})})]})}),s.jsx(ut,{open:k,onOpenChange:P,children:s.jsxs(ct,{className:"max-w-md mx-4 lg:mx-auto",children:[s.jsx(ht,{children:s.jsx(mt,{className:"text-lg lg:text-xl text-red-600",children:"Delete Strata Organization"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(ai,{className:"h-5 w-5 text-red-600 mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-red-800 mb-2",children:"Warning: This action cannot be undone"}),s.jsxs("p",{className:"text-sm text-red-700",children:["This will permanently delete ",s.jsx("strong",{children:I==null?void 0:I.name})," and all associated data including:"]}),s.jsxs("ul",{className:"text-sm text-red-700 mt-2 space-y-1 ml-4",children:[s.jsx("li",{children:"• All user accounts associated only with this strata"}),s.jsx("li",{children:"• All financial records and expenses"}),s.jsx("li",{children:"• All documents and meetings"}),s.jsx("li",{children:"• All vendor information and quotes"}),s.jsx("li",{children:"• All units and maintenance requests"}),s.jsx("li",{children:"• All messages and notifications"})]})]})]})}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Users who are assigned to other strata organizations will not be deleted."}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx($,{type:"button",variant:"outline",onClick:()=>P(!1),className:"flex-1",disabled:lt.isPending,children:"Cancel"}),s.jsx($,{onClick:yn,disabled:lt.isPending,className:"flex-1 bg-red-600 hover:bg-red-700 text-white",children:lt.isPending?"Deleting...":"Delete Permanently"})]})]})]})})]})}const dte=G.object({email:G.string().email("Invalid email address"),firstName:G.string().min(1,"First name is required"),lastName:G.string().min(1,"Last name is required"),role:G.enum(["chairperson","treasurer","secretary","council_member","property_manager","resident"]),temporaryPassword:G.string().min(6,"Password must be at least 6 characters")}),ute=G.object({role:G.enum(["chairperson","treasurer","secretary","council_member","property_manager","resident"]),canPostAnnouncements:G.boolean().default(!1)}),hte=G.object({firstName:G.string().min(1,"First name is required"),lastName:G.string().min(1,"Last name is required"),email:G.string().email("Invalid email address"),role:G.enum(["chairperson","treasurer","secretary","council_member","property_manager","resident"]),isActive:G.boolean().default(!0),newPassword:G.string().optional()});function mte(){const{data:t}=ot({queryKey:["/api/strata"]});return!t||t.length===0?s.jsx(ge,{children:s.jsxs(be,{className:"text-center py-8",children:[s.jsx(vs,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Properties Found"}),s.jsx("p",{className:"text-muted-foreground",children:"You are not currently assigned to manage any strata properties."})]})}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(e=>s.jsxs(ge,{className:"hover:shadow-lg transition-shadow",children:[s.jsx(Ge,{children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsxs(Qe,{className:"text-lg flex items-center gap-2",children:[s.jsx(vs,{className:"h-5 w-5"}),e.name]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mt-1",children:[s.jsx(Xp,{className:"h-4 w-4"}),e.city,", ",e.province]})]}),s.jsxs(He,{variant:"outline",children:[e.unitCount," units"]})]})}),s.jsx(be,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:"Address"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e.address})]}),e.managementCompany&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:"Management Company"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e.managementCompany})]}),s.jsxs("div",{className:"flex justify-between items-center pt-2",children:[s.jsx(He,{variant:e.status==="active"?"default":"secondary",children:e.status}),s.jsx($,{size:"sm",asChild:!0,children:s.jsx("a",{href:`/?strata=${e.id}`,children:"Switch to Property"})})]})]})})]},e.id))})}function fte(){var de;const{user:t,isAuthenticated:e}=xr(),{toast:n}=xn(),r=as(),[i,a]=m.useState("users"),[o,l]=m.useState(!1),[c,u]=m.useState(!1),[h,p]=m.useState(null),[f,v]=m.useState(!1),[_,j]=m.useState(null),{data:E}=ot({queryKey:["/api/strata"]}),N=Array.isArray(E)&&E.length>0?(de=E[0])==null?void 0:de.id:void 0,y=t&&["chairperson","property_manager","treasurer","secretary"].includes(t.role),w=kn({resolver:An(dte),defaultValues:{email:"",firstName:"",lastName:"",role:"resident",temporaryPassword:""}}),T=kn({resolver:An(hte),defaultValues:{firstName:"",lastName:"",email:"",role:"resident",isActive:!0,newPassword:""}}),O=kn({resolver:An(ute),defaultValues:{role:"resident",canPostAnnouncements:!1}}),{data:U,isLoading:A}=ot({queryKey:[`/api/strata/${N}/users`],enabled:!!N}),S=ze({mutationFn:async K=>{await Be("POST","/api/strata-admin/users",{...K,strataId:N})},onSuccess:()=>{r.invalidateQueries({queryKey:[`/api/strata/${N}/users`]}),l(!1),w.reset(),n({title:"User Created",description:"New user has been created successfully with temporary password."})},onError:K=>{n({title:"Error",description:K.message||"Failed to create user",variant:"destructive"})}}),g=ze({mutationFn:async K=>{await Be("PATCH",`/api/strata-admin/users/${h==null?void 0:h.id}`,K)},onSuccess:()=>{r.invalidateQueries({queryKey:[`/api/strata/${N}/users`]}),u(!1),p(null),T.reset(),n({title:"User Updated",description:"User information has been updated successfully."})},onError:K=>{n({title:"Error",description:K.message||"Failed to update user",variant:"destructive"})}}),k=ze({mutationFn:async K=>{const F=`/api/strata-admin/role/${_==null?void 0:_.id}`;console.log("Making PATCH request to:",F),console.log("With data:",K),await Be("PATCH",F,K)},onSuccess:()=>{r.invalidateQueries({queryKey:[`/api/strata/${N}/users`]}),v(!1),j(null),O.reset(),n({title:"Role Updated",description:"User role has been updated successfully."})},onError:K=>{n({title:"Error",description:K.message||"Failed to update role",variant:"destructive"})}}),P=ze({mutationFn:async K=>{await Be("DELETE",`/api/strata-admin/users/${K}`)},onSuccess:()=>{r.invalidateQueries({queryKey:[`/api/strata/${N}/users`]}),n({title:"User Removed",description:"User has been removed from the strata."})},onError:K=>{n({title:"Error",description:K.message||"Failed to remove user",variant:"destructive"})}}),I=K=>{K.user&&(p(K.user),T.reset({firstName:K.user.firstName||"",lastName:K.user.lastName||"",email:K.user.email,role:K.role,isActive:K.user.isActive??!0,newPassword:""}),u(!0))},R=K=>{j(K),O.reset({role:K.role,canPostAnnouncements:K.canPostAnnouncements}),v(!0)},Q=K=>{switch(K){case"chairperson":return s.jsx(Z1,{className:"h-4 w-4"});case"treasurer":case"secretary":case"council_member":return s.jsx(Es,{className:"h-4 w-4"});case"property_manager":return s.jsx(Mo,{className:"h-4 w-4"});default:return s.jsx($s,{className:"h-4 w-4"})}},Ne=K=>{switch(K){case"chairperson":return"default";case"treasurer":case"secretary":case"council_member":return"secondary";case"property_manager":return"outline";default:return"outline"}};return!e||!y?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx(ge,{className:"w-full max-w-md",children:s.jsx(be,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Mo,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"Access Denied"}),s.jsx("p",{className:"text-muted-foreground",children:"You need admin permissions to access this page."})]})})})}):N?s.jsxs("div",{className:"container mx-auto py-8 space-y-6",children:[s.jsx("div",{className:"flex justify-between items-center",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Strata Administration"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage users and roles for your strata organization"})]})}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs($,{variant:i==="users"?"default":"outline",onClick:()=>a("users"),className:"flex items-center gap-2",children:[s.jsx($s,{className:"h-4 w-4"}),"User Management"]}),s.jsxs($,{variant:i==="roles"?"default":"outline",onClick:()=>a("roles"),className:"flex items-center gap-2",children:[s.jsx(Es,{className:"h-4 w-4"}),"Role Assignments"]}),(t==null?void 0:t.role)==="property_manager"&&s.jsxs($,{variant:i==="strata"?"default":"outline",onClick:()=>a("strata"),className:"flex items-center gap-2",children:[s.jsx(vs,{className:"h-4 w-4"}),"Manage Properties"]})]}),i==="users"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"User Management"}),s.jsxs($,{onClick:()=>l(!0),children:[s.jsx(en,{className:"h-4 w-4 mr-2"}),"Add New User"]})]}),s.jsx(ge,{children:s.jsx(be,{children:A?s.jsx("div",{className:"text-center py-8",children:"Loading users..."}):s.jsxs(Ks,{children:[s.jsx(Gs,{children:s.jsxs(Ft,{children:[s.jsx(Ie,{children:"Name"}),s.jsx(Ie,{children:"Email"}),s.jsx(Ie,{children:"Role"}),s.jsx(Ie,{children:"Status"}),s.jsx(Ie,{children:"Actions"})]})}),s.jsx(Qs,{children:U==null?void 0:U.map(K=>{var F,z,W,se,Ce;return s.jsxs(Ft,{children:[s.jsx(Ee,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[Q(K.role),(F=K.user)==null?void 0:F.firstName," ",(z=K.user)==null?void 0:z.lastName]})}),s.jsx(Ee,{children:(W=K.user)==null?void 0:W.email}),s.jsx(Ee,{children:s.jsx(He,{variant:Ne(K.role),children:K.role.replace("_"," ")})}),s.jsx(Ee,{children:s.jsx(He,{variant:(se=K.user)!=null&&se.isActive?"default":"destructive",children:(Ce=K.user)!=null&&Ce.isActive?"Active":"Inactive"})}),s.jsx(Ee,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx($,{variant:"outline",size:"sm",onClick:()=>I(K),children:s.jsx(gs,{className:"h-4 w-4"})}),s.jsx($,{variant:"outline",size:"sm",onClick:()=>R(K),children:s.jsx(tR,{className:"h-4 w-4"})}),s.jsx($,{variant:"outline",size:"sm",onClick:()=>P.mutate(K.userId),disabled:P.isPending,children:s.jsx(Un,{className:"h-4 w-4"})})]})})]},K.id)})})]})})})]}),i==="roles"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Role Assignments"}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Manage user permissions and roles"})]}),s.jsxs(ge,{children:[s.jsx(Ge,{children:s.jsx(Qe,{children:"Role Definitions & Permissions"})}),s.jsx(be,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Z1,{className:"h-5 w-5 text-yellow-600"}),s.jsx("h3",{className:"font-semibold",children:"Chairperson"})]}),s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Highest authority in strata management"}),s.jsxs("ul",{className:"text-xs space-y-1",children:[s.jsx("li",{children:"• Full access to all modules"}),s.jsx("li",{children:"• Approve major expenses"}),s.jsx("li",{children:"• Manage user roles"}),s.jsx("li",{children:"• Post announcements"}),s.jsx("li",{children:"• Schedule meetings"})]})]}),s.jsxs("div",{className:"p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Es,{className:"h-5 w-5 text-green-600"}),s.jsx("h3",{className:"font-semibold",children:"Treasurer"})]}),s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Financial oversight and management"}),s.jsxs("ul",{className:"text-xs space-y-1",children:[s.jsx("li",{children:"• Manage finances & budgets"}),s.jsx("li",{children:"• Track expenses & income"}),s.jsx("li",{children:"• Generate financial reports"}),s.jsx("li",{children:"• Approve vendor payments"}),s.jsx("li",{children:"• Manage fund allocations"})]})]}),s.jsxs("div",{className:"p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Es,{className:"h-5 w-5 text-blue-600"}),s.jsx("h3",{className:"font-semibold",children:"Secretary"})]}),s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Documentation and communication"}),s.jsxs("ul",{className:"text-xs space-y-1",children:[s.jsx("li",{children:"• Manage meeting minutes"}),s.jsx("li",{children:"• Handle correspondence"}),s.jsx("li",{children:"• Post announcements"}),s.jsx("li",{children:"• Manage documents"}),s.jsx("li",{children:"• Coordinate communications"})]})]}),s.jsxs("div",{className:"p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Es,{className:"h-5 w-5 text-purple-600"}),s.jsx("h3",{className:"font-semibold",children:"Council Member"})]}),s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"General strata council duties"}),s.jsxs("ul",{className:"text-xs space-y-1",children:[s.jsx("li",{children:"• Participate in decisions"}),s.jsx("li",{children:"• Review maintenance requests"}),s.jsx("li",{children:"• Access reports & documents"}),s.jsx("li",{children:"• Attend council meetings"}),s.jsx("li",{children:"• Represent owner interests"})]})]}),s.jsxs("div",{className:"p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Mo,{className:"h-5 w-5 text-orange-600"}),s.jsx("h3",{className:"font-semibold",children:"Property Manager"})]}),s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Professional management services"}),s.jsxs("ul",{className:"text-xs space-y-1",children:[s.jsx("li",{children:"• Manage multiple properties"}),s.jsx("li",{children:"• Coordinate maintenance"}),s.jsx("li",{children:"• Vendor management"}),s.jsx("li",{children:"• Financial oversight"}),s.jsx("li",{children:"• Daily operations"})]})]}),s.jsxs("div",{className:"p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx($s,{className:"h-5 w-5 text-gray-600"}),s.jsx("h3",{className:"font-semibold",children:"Resident"})]}),s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Property owner or tenant"}),s.jsxs("ul",{className:"text-xs space-y-1",children:[s.jsx("li",{children:"• View announcements"}),s.jsx("li",{children:"• Submit maintenance requests"}),s.jsx("li",{children:"• Access documents"}),s.jsx("li",{children:"• View meeting schedules"}),s.jsx("li",{children:"• Contact strata council"})]})]})]})})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Current Role Assignments"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:U==null?void 0:U.map(K=>{var F,z,W;return s.jsxs(ge,{children:[s.jsx(Ge,{children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsxs(Qe,{className:"text-lg flex items-center gap-2",children:[Q(K.role),(F=K.user)==null?void 0:F.firstName," ",(z=K.user)==null?void 0:z.lastName]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:(W=K.user)==null?void 0:W.email})]}),s.jsx($,{variant:"outline",size:"sm",onClick:()=>R(K),children:s.jsx(gs,{className:"h-4 w-4"})})]})}),s.jsx(be,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm",children:"Role:"}),s.jsx(He,{variant:Ne(K.role),children:K.role.replace("_"," ")})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm",children:"Announcements:"}),s.jsx(He,{variant:K.canPostAnnouncements?"default":"outline",children:K.canPostAnnouncements?"Can Post":"Cannot Post"})]})]})})]},K.id)})})]}),s.jsxs(ge,{children:[s.jsxs(Ge,{children:[s.jsxs(Qe,{className:"flex items-center gap-2",children:[s.jsx(Es,{className:"h-5 w-5"}),"Visual Permissions & Tab Access"]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage what each user can see and access in the application"})]}),s.jsxs(be,{children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full border-collapse",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b",children:[s.jsx("th",{className:"text-left p-3 font-medium",children:"User"}),s.jsx("th",{className:"text-center p-3 font-medium",children:s.jsxs("div",{className:"flex flex-col items-center gap-1",children:[s.jsx(fq,{className:"h-4 w-4"}),s.jsx("span",{className:"text-xs",children:"Dashboard"})]})}),s.jsx("th",{className:"text-center p-3 font-medium",children:s.jsxs("div",{className:"flex flex-col items-center gap-1",children:[s.jsx(dr,{className:"h-4 w-4"}),s.jsx("span",{className:"text-xs",children:"Financial"})]})}),s.jsx("th",{className:"text-center p-3 font-medium",children:s.jsxs("div",{className:"flex flex-col items-center gap-1",children:[s.jsx(Sh,{className:"h-4 w-4"}),s.jsx("span",{className:"text-xs",children:"Dwellings"})]})}),s.jsx("th",{className:"text-center p-3 font-medium",children:s.jsxs("div",{className:"flex flex-col items-center gap-1",children:[s.jsx($s,{className:"h-4 w-4"}),s.jsx("span",{className:"text-xs",children:"Vendors"})]})}),s.jsx("th",{className:"text-center p-3 font-medium",children:s.jsxs("div",{className:"flex flex-col items-center gap-1",children:[s.jsx(Vt,{className:"h-4 w-4"}),s.jsx("span",{className:"text-xs",children:"Quotes"})]})}),s.jsx("th",{className:"text-center p-3 font-medium",children:s.jsxs("div",{className:"flex flex-col items-center gap-1",children:[s.jsx(ss,{className:"h-4 w-4"}),s.jsx("span",{className:"text-xs",children:"Meetings"})]})}),s.jsx("th",{className:"text-center p-3 font-medium",children:s.jsxs("div",{className:"flex flex-col items-center gap-1",children:[s.jsx(Xl,{className:"h-4 w-4"}),s.jsx("span",{className:"text-xs",children:"Community"})]})}),s.jsx("th",{className:"text-center p-3 font-medium",children:s.jsxs("div",{className:"flex flex-col items-center gap-1",children:[s.jsx(oi,{className:"h-4 w-4"}),s.jsx("span",{className:"text-xs",children:"Maintenance"})]})}),s.jsx("th",{className:"text-center p-3 font-medium",children:s.jsxs("div",{className:"flex flex-col items-center gap-1",children:[s.jsx(Es,{className:"h-4 w-4"}),s.jsx("span",{className:"text-xs",children:"Admin"})]})})]})}),s.jsx("tbody",{children:U==null?void 0:U.map(K=>{var Ce,Me,q;const F=["chairperson","property_manager"].includes(K.role),z=["chairperson","treasurer","property_manager"].includes(K.role),W=["chairperson","property_manager"].includes(K.role),se=["chairperson","secretary","council_member","property_manager"].includes(K.role);return s.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[s.jsx("td",{className:"p-3",children:s.jsxs("div",{className:"flex items-center gap-2",children:[Q(K.role),s.jsxs("div",{children:[s.jsxs("div",{className:"font-medium text-sm",children:[(Ce=K.user)==null?void 0:Ce.firstName," ",(Me=K.user)==null?void 0:Me.lastName]}),s.jsx("div",{className:"text-xs text-muted-foreground",children:(q=K.user)==null?void 0:q.email})]})]})}),s.jsx("td",{className:"text-center p-3",children:s.jsx("div",{className:"flex justify-center",children:s.jsx("div",{className:"w-8 h-8 rounded-full bg-green-100 flex items-center justify-center",children:s.jsx(Ts,{className:"h-4 w-4 text-green-600"})})})}),s.jsx("td",{className:"text-center p-3",children:s.jsx("div",{className:"flex justify-center",children:z?s.jsx("div",{className:"w-8 h-8 rounded-full bg-green-100 flex items-center justify-center",children:s.jsx(Ts,{className:"h-4 w-4 text-green-600"})}):s.jsx("div",{className:"w-8 h-8 rounded-full bg-red-100 flex items-center justify-center",children:s.jsx(mi,{className:"h-4 w-4 text-red-600"})})})}),s.jsx("td",{className:"text-center p-3",children:s.jsx("div",{className:"flex justify-center",children:F?s.jsx("div",{className:"w-8 h-8 rounded-full bg-green-100 flex items-center justify-center",children:s.jsx(Ts,{className:"h-4 w-4 text-green-600"})}):s.jsx("div",{className:"w-8 h-8 rounded-full bg-yellow-100 flex items-center justify-center",children:s.jsx(Nn,{className:"h-4 w-4 text-yellow-600"})})})}),s.jsx("td",{className:"text-center p-3",children:s.jsx("div",{className:"flex justify-center",children:F?s.jsx("div",{className:"w-8 h-8 rounded-full bg-green-100 flex items-center justify-center",children:s.jsx(Ts,{className:"h-4 w-4 text-green-600"})}):s.jsx("div",{className:"w-8 h-8 rounded-full bg-yellow-100 flex items-center justify-center",children:s.jsx(Nn,{className:"h-4 w-4 text-yellow-600"})})})}),s.jsx("td",{className:"text-center p-3",children:s.jsx("div",{className:"flex justify-center",children:s.jsx("div",{className:"w-8 h-8 rounded-full bg-green-100 flex items-center justify-center",children:s.jsx(Ts,{className:"h-4 w-4 text-green-600"})})})}),s.jsx("td",{className:"text-center p-3",children:s.jsx("div",{className:"flex justify-center",children:se?s.jsx("div",{className:"w-8 h-8 rounded-full bg-green-100 flex items-center justify-center",children:s.jsx(Ts,{className:"h-4 w-4 text-green-600"})}):s.jsx("div",{className:"w-8 h-8 rounded-full bg-yellow-100 flex items-center justify-center",children:s.jsx(Nn,{className:"h-4 w-4 text-yellow-600"})})})}),s.jsx("td",{className:"text-center p-3",children:s.jsx("div",{className:"flex justify-center",children:s.jsx("div",{className:"w-8 h-8 rounded-full bg-green-100 flex items-center justify-center",children:s.jsx(Ts,{className:"h-4 w-4 text-green-600"})})})}),s.jsx("td",{className:"text-center p-3",children:s.jsx("div",{className:"flex justify-center",children:s.jsx("div",{className:"w-8 h-8 rounded-full bg-green-100 flex items-center justify-center",children:s.jsx(Ts,{className:"h-4 w-4 text-green-600"})})})}),s.jsx("td",{className:"text-center p-3",children:s.jsx("div",{className:"flex justify-center",children:W?s.jsx("div",{className:"w-8 h-8 rounded-full bg-green-100 flex items-center justify-center",children:s.jsx(Ts,{className:"h-4 w-4 text-green-600"})}):s.jsx("div",{className:"w-8 h-8 rounded-full bg-red-100 flex items-center justify-center",children:s.jsx(mi,{className:"h-4 w-4 text-red-600"})})})})]},K.id)})})]})}),s.jsxs("div",{className:"mt-4 flex flex-wrap gap-4 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-green-100 flex items-center justify-center",children:s.jsx(Ts,{className:"h-3 w-3 text-green-600"})}),s.jsx("span",{children:"Full Access"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-yellow-100 flex items-center justify-center",children:s.jsx(Nn,{className:"h-3 w-3 text-yellow-600"})}),s.jsx("span",{children:"View Only"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-red-100 flex items-center justify-center",children:s.jsx(mi,{className:"h-3 w-3 text-red-600"})}),s.jsx("span",{children:"No Access"})]})]}),s.jsx("div",{className:"mt-4 p-3 bg-blue-50 dark:bg-blue-950 rounded-lg",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(ai,{className:"h-4 w-4 text-blue-600 mt-0.5"}),s.jsxs("div",{className:"text-sm",children:[s.jsx("p",{className:"font-medium text-blue-900 dark:text-blue-100",children:"Permission Notes:"}),s.jsxs("ul",{className:"mt-1 text-blue-800 dark:text-blue-200 space-y-1",children:[s.jsx("li",{children:"• Chairpersons and Property Managers have full access to all areas"}),s.jsx("li",{children:"• Treasurers have full financial access but limited admin rights"}),s.jsx("li",{children:"• Secretaries can manage meetings and communications"}),s.jsx("li",{children:"• Council Members can participate in meetings and view most content"}),s.jsx("li",{children:"• Residents have basic access to community features and maintenance requests"})]})]})]})})]})]})]}),i==="strata"&&(t==null?void 0:t.role)==="property_manager"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Manage Properties"}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Switch between different strata organizations you manage"})]}),s.jsx(mte,{})]}),s.jsx(ut,{open:o,onOpenChange:l,children:s.jsxs(ct,{className:"max-w-md",children:[s.jsx(ht,{children:s.jsx(mt,{children:"Add New User"})}),s.jsx(ln,{...w,children:s.jsxs("form",{onSubmit:w.handleSubmit(K=>S.mutate(K)),className:"space-y-4",children:[s.jsx(oe,{control:w.control,name:"email",render:({field:K})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Email"}),s.jsx(le,{children:s.jsx(re,{placeholder:"user@example.com",...K})}),s.jsx(ce,{})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(oe,{control:w.control,name:"firstName",render:({field:K})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"First Name"}),s.jsx(le,{children:s.jsx(re,{placeholder:"John",...K})}),s.jsx(ce,{})]})}),s.jsx(oe,{control:w.control,name:"lastName",render:({field:K})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Last Name"}),s.jsx(le,{children:s.jsx(re,{placeholder:"Doe",...K})}),s.jsx(ce,{})]})})]}),s.jsx(oe,{control:w.control,name:"role",render:({field:K})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Role"}),s.jsxs(tt,{onValueChange:K.onChange,defaultValue:K.value,children:[s.jsx(le,{children:s.jsx(Ze,{children:s.jsx(nt,{placeholder:"Select a role"})})}),s.jsxs(Je,{children:[s.jsx(V,{value:"chairperson",children:"Chairperson"}),s.jsx(V,{value:"treasurer",children:"Treasurer"}),s.jsx(V,{value:"secretary",children:"Secretary"}),s.jsx(V,{value:"council_member",children:"Council Member"}),s.jsx(V,{value:"property_manager",children:"Property Manager"}),s.jsx(V,{value:"resident",children:"Resident"})]})]}),s.jsx(ce,{})]})}),s.jsx(oe,{control:w.control,name:"temporaryPassword",render:({field:K})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Temporary Password"}),s.jsx(le,{children:s.jsx(re,{type:"password",placeholder:"Min 6 characters",...K})}),s.jsx(ce,{})]})}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx($,{type:"button",variant:"outline",onClick:()=>l(!1),children:"Cancel"}),s.jsx($,{type:"submit",disabled:S.isPending,children:S.isPending?"Creating...":"Create User"})]})]})})]})}),s.jsx(ut,{open:c,onOpenChange:u,children:s.jsxs(ct,{className:"max-w-md",children:[s.jsx(ht,{children:s.jsx(mt,{children:"Edit User"})}),s.jsx(ln,{...T,children:s.jsxs("form",{onSubmit:T.handleSubmit(K=>g.mutate(K)),className:"space-y-4",children:[s.jsx(oe,{control:T.control,name:"email",render:({field:K})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Email"}),s.jsx(le,{children:s.jsx(re,{placeholder:"user@example.com",...K})}),s.jsx(ce,{})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(oe,{control:T.control,name:"firstName",render:({field:K})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"First Name"}),s.jsx(le,{children:s.jsx(re,{placeholder:"John",...K})}),s.jsx(ce,{})]})}),s.jsx(oe,{control:T.control,name:"lastName",render:({field:K})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Last Name"}),s.jsx(le,{children:s.jsx(re,{placeholder:"Doe",...K})}),s.jsx(ce,{})]})})]}),s.jsx(oe,{control:T.control,name:"newPassword",render:({field:K})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"New Password (optional)"}),s.jsx(le,{children:s.jsx(re,{type:"password",placeholder:"Leave blank to keep current",...K})}),s.jsx(ce,{})]})}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx($,{type:"button",variant:"outline",onClick:()=>{u(!1),p(null),T.reset()},children:"Cancel"}),s.jsx($,{type:"submit",disabled:g.isPending,children:g.isPending?"Updating...":"Update User"})]})]})})]})}),s.jsx(ut,{open:f,onOpenChange:v,children:s.jsxs(ct,{className:"max-w-md",children:[s.jsx(ht,{children:s.jsx(mt,{children:"Update Role & Permissions"})}),s.jsx(ln,{...O,children:s.jsxs("form",{onSubmit:O.handleSubmit(K=>k.mutate(K)),className:"space-y-4",children:[s.jsx(oe,{control:O.control,name:"role",render:({field:K})=>s.jsxs(ie,{children:[s.jsx(ae,{children:"Role"}),s.jsxs(tt,{onValueChange:K.onChange,defaultValue:K.value,children:[s.jsx(le,{children:s.jsx(Ze,{children:s.jsx(nt,{placeholder:"Select a role"})})}),s.jsxs(Je,{children:[s.jsx(V,{value:"chairperson",children:"Chairperson"}),s.jsx(V,{value:"treasurer",children:"Treasurer"}),s.jsx(V,{value:"secretary",children:"Secretary"}),s.jsx(V,{value:"council_member",children:"Council Member"}),s.jsx(V,{value:"property_manager",children:"Property Manager"}),s.jsx(V,{value:"resident",children:"Resident"})]})]}),s.jsx(ce,{})]})}),s.jsx(oe,{control:O.control,name:"canPostAnnouncements",render:({field:K})=>s.jsxs(ie,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(ae,{className:"text-base",children:"Can Post Announcements"}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Allow this user to post announcements to the community"})]}),s.jsx(le,{children:s.jsx("input",{type:"checkbox",checked:K.value,onChange:K.onChange,className:"w-4 h-4"})})]})}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx($,{type:"button",variant:"outline",onClick:()=>{v(!1),j(null),O.reset()},children:"Cancel"}),s.jsx($,{type:"submit",disabled:k.isPending,children:k.isPending?"Updating...":"Update Role"})]})]})})]})})]}):s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx(ge,{className:"w-full max-w-md",children:s.jsx(be,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Mo,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Strata Access"}),s.jsx("p",{className:"text-muted-foreground",children:"You are not assigned to any strata organization."})]})})})})}function r_(){return s.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:s.jsxs("div",{className:"container mx-auto px-4 lg:px-6 max-w-4xl",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-4",children:[s.jsx("div",{className:"p-2 bg-gradient-to-br from-blue-600 to-purple-600 rounded-lg",children:s.jsx(vs,{className:"h-6 w-6 text-white"})}),s.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"VibeStrat"})]}),s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Terms and Conditions"}),s.jsx("p",{className:"text-gray-600",children:"Last updated: January 5, 2025"})]}),s.jsx(ge,{children:s.jsxs(be,{className:"p-8 space-y-6",children:[s.jsxs("section",{children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"1. Acceptance of Terms"}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:'By accessing and using VibeStrat ("the Service"), you accept and agree to be bound by the terms and provision of this agreement. If you do not agree to abide by the above, please do not use this service.'})]}),s.jsxs("section",{children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"2. Description of Service"}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:"VibeStrat is a comprehensive strata management platform that provides financial tracking, communication tools, meeting management, vendor directory, quote management, and reporting capabilities for strata communities and property managers."})]}),s.jsxs("section",{children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"3. User Accounts and Registration"}),s.jsxs("div",{className:"text-gray-700 leading-relaxed space-y-2",children:[s.jsx("p",{children:"• You must provide accurate and complete registration information"}),s.jsx("p",{children:"• You are responsible for maintaining the confidentiality of your account credentials"}),s.jsx("p",{children:"• You must notify us immediately of any unauthorized use of your account"}),s.jsx("p",{children:"• You must be at least 18 years old to use this service"})]})]}),s.jsxs("section",{children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"4. Subscription Plans and Billing"}),s.jsxs("div",{className:"text-gray-700 leading-relaxed space-y-2",children:[s.jsx("p",{children:"• Standard Plan: $79.95/month for strata communities with up to 100 units"}),s.jsx("p",{children:"• Premium Plan: $129.95/month for strata communities with 100+ units"}),s.jsx("p",{children:"• All plans include a 30-day free trial period"}),s.jsx("p",{children:"• Billing occurs monthly in advance"}),s.jsx("p",{children:"• Prices are subject to change with 30 days notice"})]})]}),s.jsxs("section",{children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"5. Acceptable Use Policy"}),s.jsxs("div",{className:"text-gray-700 leading-relaxed space-y-2",children:[s.jsx("p",{children:"You agree not to:"}),s.jsx("p",{children:"• Use the service for any unlawful purposes"}),s.jsx("p",{children:"• Upload malicious code, viruses, or harmful content"}),s.jsx("p",{children:"• Attempt to gain unauthorized access to our systems"}),s.jsx("p",{children:"• Share your account credentials with unauthorized users"}),s.jsx("p",{children:"• Use the service to harass, abuse, or harm others"})]})]}),s.jsxs("section",{children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"6. Data Protection and Privacy"}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:"We are committed to protecting your privacy and personal data. Please refer to our Privacy Policy for detailed information about how we collect, use, and protect your information."})]}),s.jsxs("section",{children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"7. Intellectual Property"}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:"All content, features, and functionality of VibeStrat are owned by us and are protected by copyright, trademark, and other intellectual property laws. You retain ownership of data you upload to the platform."})]}),s.jsxs("section",{children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"8. Service Availability"}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:"While we strive for 99.9% uptime, we do not guarantee uninterrupted service availability. We may perform maintenance that temporarily affects service availability, with advance notice when possible."})]}),s.jsxs("section",{children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"9. Limitation of Liability"}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:"To the maximum extent permitted by law, VibeStrat shall not be liable for any indirect, incidental, special, consequential, or punitive damages resulting from your use of the service."})]}),s.jsxs("section",{children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"10. Termination"}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:"Either party may terminate this agreement at any time. Upon termination, your access to the service will cease, and you may request data export within 30 days of termination."})]}),s.jsxs("section",{children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"11. Changes to Terms"}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:"We reserve the right to modify these terms at any time. We will notify users of significant changes via email or through the platform. Continued use constitutes acceptance of modified terms."})]}),s.jsxs("section",{children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"12. Contact Information"}),s.jsxs("p",{className:"text-gray-700 leading-relaxed",children:["For questions about these Terms and Conditions, please contact us at:",s.jsx("br",{}),"Email: legal@vibestrat.com",s.jsx("br",{}),"Address: 123 Main Street, Vancouver, BC, Canada V6B 1A1"]})]})]})})]})})}function i_(){return s.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:s.jsxs("div",{className:"container mx-auto px-4 lg:px-6 max-w-4xl",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-4",children:[s.jsx("div",{className:"p-2 bg-gradient-to-br from-blue-600 to-purple-600 rounded-lg",children:s.jsx(vs,{className:"h-6 w-6 text-white"})}),s.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"VibeStrat"})]}),s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Privacy Policy"}),s.jsx("p",{className:"text-gray-600",children:"Last updated: January 5, 2025"})]}),s.jsx("div",{className:"grid gap-6 mb-8",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(ge,{className:"text-center",children:s.jsxs(be,{className:"pt-6",children:[s.jsx(Es,{className:"h-8 w-8 text-green-600 mx-auto mb-2"}),s.jsx("h3",{className:"font-semibold text-gray-900",children:"Bank-Level Security"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Enterprise-grade encryption"})]})}),s.jsx(ge,{className:"text-center",children:s.jsxs(be,{className:"pt-6",children:[s.jsx(Nn,{className:"h-8 w-8 text-blue-600 mx-auto mb-2"}),s.jsx("h3",{className:"font-semibold text-gray-900",children:"Data Transparency"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Clear data usage policies"})]})}),s.jsx(ge,{className:"text-center",children:s.jsxs(be,{className:"pt-6",children:[s.jsx(Vu,{className:"h-8 w-8 text-purple-600 mx-auto mb-2"}),s.jsx("h3",{className:"font-semibold text-gray-900",children:"Your Control"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Full data ownership rights"})]})})]})}),s.jsx(ge,{children:s.jsxs(be,{className:"p-8 space-y-6",children:[s.jsxs("section",{children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"1. Information We Collect"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Personal Information:"}),s.jsxs("div",{className:"text-gray-700 leading-relaxed space-y-1",children:[s.jsx("p",{children:"• Name, email address, phone number"}),s.jsx("p",{children:"• Billing address and payment information"}),s.jsx("p",{children:"• Job title and organization details"}),s.jsx("p",{children:"• Profile information and preferences"})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Strata Management Data:"}),s.jsxs("div",{className:"text-gray-700 leading-relaxed space-y-1",children:[s.jsx("p",{children:"• Property and unit information"}),s.jsx("p",{children:"• Financial records and transactions"}),s.jsx("p",{children:"• Vendor and contractor details"}),s.jsx("p",{children:"• Meeting minutes and documents"}),s.jsx("p",{children:"• Communications and messages"})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Technical Information:"}),s.jsxs("div",{className:"text-gray-700 leading-relaxed space-y-1",children:[s.jsx("p",{children:"• IP address and device information"}),s.jsx("p",{children:"• Browser type and operating system"}),s.jsx("p",{children:"• Usage patterns and feature interactions"}),s.jsx("p",{children:"• Log files and error reports"})]})]})]})]}),s.jsxs("section",{children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"2. How We Use Your Information"}),s.jsxs("div",{className:"text-gray-700 leading-relaxed space-y-2",children:[s.jsx("p",{children:s.jsx("strong",{children:"Service Delivery:"})}),s.jsx("p",{children:"• Provide and maintain VibeStrat platform functionality"}),s.jsx("p",{children:"• Process payments and manage subscriptions"}),s.jsx("p",{children:"• Facilitate communication between strata members"}),s.jsx("p",{children:"• Generate reports and analytics"}),s.jsx("p",{className:"mt-4",children:s.jsx("strong",{children:"Platform Improvement:"})}),s.jsx("p",{children:"• Analyze usage patterns to enhance features"}),s.jsx("p",{children:"• Troubleshoot technical issues"}),s.jsx("p",{children:"• Develop new capabilities and improvements"}),s.jsx("p",{className:"mt-4",children:s.jsx("strong",{children:"Communication:"})}),s.jsx("p",{children:"• Send important service updates and notifications"}),s.jsx("p",{children:"• Provide customer support"}),s.jsx("p",{children:"• Share relevant product updates (with your consent)"})]})]}),s.jsxs("section",{children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"3. AI and Data Processing"}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:"VibeStrat uses AI technology to process documents, transcribe meetings, and extract information from uploaded files. This processing occurs in secure environments, and AI-processed data is subject to the same privacy protections as all other platform data. We do not use your data to train AI models or share it with AI service providers beyond the scope of providing our services."})]}),s.jsxs("section",{children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"4. Data Sharing and Disclosure"}),s.jsxs("div",{className:"text-gray-700 leading-relaxed space-y-2",children:[s.jsx("p",{children:s.jsx("strong",{children:"We DO NOT sell your personal information."})}),s.jsx("p",{className:"mt-4",children:s.jsx("strong",{children:"Limited Sharing Occurs Only:"})}),s.jsx("p",{children:"• With your explicit consent"}),s.jsx("p",{children:"• To comply with legal requirements"}),s.jsx("p",{children:"• With trusted service providers under strict confidentiality agreements"}),s.jsx("p",{children:"• To protect our rights, property, or safety"}),s.jsx("p",{children:"• In connection with business transfers (with notice to you)"}),s.jsx("p",{className:"mt-4",children:s.jsx("strong",{children:"Service Providers:"})}),s.jsx("p",{children:"• Payment processing (Stripe)"}),s.jsx("p",{children:"• Cloud hosting services (secure, encrypted)"}),s.jsx("p",{children:"• AI processing services (OpenAI, with data protection agreements)"})]})]}),s.jsxs("section",{children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"5. Data Security"}),s.jsxs("div",{className:"text-gray-700 leading-relaxed space-y-2",children:[s.jsx("p",{children:"We implement industry-standard security measures:"}),s.jsx("p",{children:"• End-to-end encryption for data transmission"}),s.jsx("p",{children:"• Encrypted storage of all sensitive information"}),s.jsx("p",{children:"• Regular security audits and vulnerability assessments"}),s.jsx("p",{children:"• Access controls and authentication requirements"}),s.jsx("p",{children:"• Employee training on data protection practices"}),s.jsx("p",{children:"• Incident response procedures"})]})]}),s.jsxs("section",{children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"6. Data Retention"}),s.jsxs("div",{className:"text-gray-700 leading-relaxed space-y-2",children:[s.jsx("p",{children:"• Account data: Retained while your account is active"}),s.jsx("p",{children:"• Financial records: Retained for 7 years for legal compliance"}),s.jsx("p",{children:"• Communication logs: Retained for 3 years"}),s.jsx("p",{children:"• Technical logs: Retained for 1 year"}),s.jsx("p",{children:"• Deleted account data: Permanently removed within 30 days"})]})]}),s.jsxs("section",{children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"7. Your Privacy Rights"}),s.jsxs("div",{className:"text-gray-700 leading-relaxed space-y-2",children:[s.jsx("p",{children:"You have the right to:"}),s.jsx("p",{children:"• Access your personal information"}),s.jsx("p",{children:"• Correct inaccurate or incomplete data"}),s.jsx("p",{children:"• Delete your account and associated data"}),s.jsx("p",{children:"• Export your data in a portable format"}),s.jsx("p",{children:"• Opt-out of marketing communications"}),s.jsx("p",{children:"• Restrict processing of your information"}),s.jsx("p",{children:"• File complaints with data protection authorities"})]})]}),s.jsxs("section",{children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"8. Cookies and Tracking"}),s.jsxs("div",{className:"text-gray-700 leading-relaxed space-y-2",children:[s.jsx("p",{children:"We use cookies and similar technologies for:"}),s.jsx("p",{children:"• Authentication and session management"}),s.jsx("p",{children:"• Remembering your preferences"}),s.jsx("p",{children:"• Analytics to improve our service"}),s.jsx("p",{children:"• Security and fraud prevention"}),s.jsx("p",{className:"mt-4",children:"You can control cookie settings through your browser preferences."})]})]}),s.jsxs("section",{children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"9. International Data Transfers"}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:"VibeStrat is hosted in Canada. If you access our services from outside Canada, your information may be transferred to and processed in Canada. We ensure appropriate safeguards are in place for international transfers."})]}),s.jsxs("section",{children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"10. Children's Privacy"}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:"VibeStrat is not intended for use by individuals under 18 years of age. We do not knowingly collect personal information from children under 18."})]}),s.jsxs("section",{children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"11. Changes to This Policy"}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:"We may update this privacy policy periodically. We will notify you of material changes via email or through our platform. Your continued use of VibeStrat after changes indicates acceptance of the updated policy."})]}),s.jsxs("section",{children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"12. Contact Us"}),s.jsxs("div",{className:"text-gray-700 leading-relaxed",children:[s.jsx("p",{children:"For questions about this privacy policy or your data:"}),s.jsxs("p",{className:"mt-2",children:[s.jsx("strong",{children:"Privacy Officer:"})," privacy@vibestrat.com",s.jsx("br",{}),s.jsx("strong",{children:"General Support:"})," support@vibestrat.com",s.jsx("br",{}),s.jsx("strong",{children:"Mailing Address:"}),s.jsx("br",{}),"VibeStrat Privacy Team",s.jsx("br",{}),"123 Main Street",s.jsx("br",{}),"Vancouver, BC V6B 1A1",s.jsx("br",{}),"Canada"]})]})]})]})})]})})}function a_(){return s.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:s.jsxs("div",{className:"container mx-auto px-4 lg:px-6 max-w-4xl",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-4",children:[s.jsx("div",{className:"p-2 bg-gradient-to-br from-blue-600 to-purple-600 rounded-lg",children:s.jsx(vs,{className:"h-6 w-6 text-white"})}),s.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"VibeStrat"})]}),s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Refund Policy"}),s.jsx("p",{className:"text-gray-600",children:"Last updated: January 5, 2025"})]}),s.jsx("div",{className:"grid gap-6 mb-8",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(ge,{className:"text-center",children:s.jsxs(be,{className:"pt-6",children:[s.jsx(Hs,{className:"h-8 w-8 text-blue-600 mx-auto mb-2"}),s.jsx("h3",{className:"font-semibold text-gray-900",children:"30-Day Free Trial"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Try all features risk-free"})]})}),s.jsx(ge,{className:"text-center",children:s.jsxs(be,{className:"pt-6",children:[s.jsx(Es,{className:"h-8 w-8 text-green-600 mx-auto mb-2"}),s.jsx("h3",{className:"font-semibold text-gray-900",children:"14-Day Guarantee"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Full refund within 14 days"})]})}),s.jsx(ge,{className:"text-center",children:s.jsxs(be,{className:"pt-6",children:[s.jsx(vq,{className:"h-8 w-8 text-purple-600 mx-auto mb-2"}),s.jsx("h3",{className:"font-semibold text-gray-900",children:"Easy Process"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Simple refund requests"})]})})]})}),s.jsx(ge,{children:s.jsxs(be,{className:"p-8 space-y-6",children:[s.jsxs("section",{children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"1. 30-Day Free Trial"}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:"All new VibeStrat accounts include a 30-day free trial period. During this time, you have full access to all features and capabilities of your chosen plan without any charges. No credit card is required to start your trial."})]}),s.jsxs("section",{children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"2. 14-Day Money-Back Guarantee"}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:"If you're not completely satisfied with VibeStrat after your trial period, we offer a 14-day money-back guarantee from your first paid billing cycle. You can request a full refund for any reason within this period."})]}),s.jsxs("section",{children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"3. Refund Eligibility"}),s.jsxs("div",{className:"text-gray-700 leading-relaxed space-y-2",children:[s.jsx("p",{children:s.jsx("strong",{children:"Eligible for Refund:"})}),s.jsx("p",{children:"• First-time subscribers within 14 days of initial payment"}),s.jsx("p",{children:"• Service downtime exceeding 48 consecutive hours due to our technical issues"}),s.jsx("p",{children:"• Billing errors or duplicate charges"}),s.jsx("p",{children:"• Unused portions of annual subscriptions (prorated)"}),s.jsx("p",{className:"mt-4",children:s.jsx("strong",{children:"Not Eligible for Refund:"})}),s.jsx("p",{children:"• Refund requests after 14 days of initial payment"}),s.jsx("p",{children:"• Monthly subscriptions beyond the first billing cycle"}),s.jsx("p",{children:"• Services used for illegal activities or policy violations"}),s.jsx("p",{children:"• Accounts terminated for Terms of Service violations"})]})]}),s.jsxs("section",{children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"4. How to Request a Refund"}),s.jsxs("div",{className:"text-gray-700 leading-relaxed space-y-2",children:[s.jsx("p",{children:"To request a refund, please contact our support team with the following information:"}),s.jsx("p",{children:"• Email: support@vibestrat.com"}),s.jsx("p",{children:'• Subject line: "Refund Request"'}),s.jsx("p",{children:"• Your account email and organization name"}),s.jsx("p",{children:"• Reason for refund request"}),s.jsx("p",{children:"• Any relevant details or feedback"})]})]}),s.jsxs("section",{children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"5. Refund Processing"}),s.jsxs("div",{className:"text-gray-700 leading-relaxed space-y-2",children:[s.jsx("p",{children:"• Refund requests are typically processed within 2-3 business days"}),s.jsx("p",{children:"• Approved refunds are credited to the original payment method"}),s.jsx("p",{children:"• Credit card refunds may take 5-10 business days to appear on your statement"}),s.jsx("p",{children:"• You will receive email confirmation once the refund is processed"})]})]}),s.jsxs("section",{children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"6. Cancellation vs. Refund"}),s.jsxs("div",{className:"text-gray-700 leading-relaxed space-y-2",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Cancellation:"})," You can cancel your subscription at any time through your account settings. Cancellation stops future billing but does not provide a refund for the current billing period."]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Refund:"})," A refund returns money already paid, subject to the eligibility requirements outlined above."]})]})]}),s.jsxs("section",{children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"7. Prorated Refunds for Annual Plans"}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:"For annual subscription plans, if you cancel within the 14-day guarantee period, you will receive a full refund. If you cancel after this period, you may be eligible for a prorated refund for the unused portion of your subscription."})]}),s.jsxs("section",{children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"8. Service Credits"}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:"In cases where a refund may not be appropriate, we may offer service credits to your account. These credits can be applied to future billing cycles and do not expire."})]}),s.jsxs("section",{children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"9. Exceptional Circumstances"}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:"We understand that exceptional circumstances may arise. If you have a situation that doesn't fall under our standard refund policy, please contact our support team. We review each case individually and may make exceptions at our discretion."})]}),s.jsxs("section",{children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"10. Changes to This Policy"}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:'We may update this refund policy from time to time. Any changes will be posted on this page with an updated "Last updated" date. We will notify active subscribers of significant changes via email.'})]}),s.jsxs("section",{children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"11. Contact Us"}),s.jsxs("div",{className:"text-gray-700 leading-relaxed",children:[s.jsx("p",{children:"If you have questions about our refund policy or need assistance, please contact us:"}),s.jsxs("p",{className:"mt-2",children:[s.jsx("strong",{children:"Email:"})," support@vibestrat.com",s.jsx("br",{}),s.jsx("strong",{children:"Phone:"})," 1-800-VIBESTRAT",s.jsx("br",{}),s.jsx("strong",{children:"Hours:"})," Monday-Friday, 9 AM - 6 PM PST"]})]})]})]})})]})})}var Tw="Avatar",[pte,yne]=os(Tw),[gte,AF]=pte(Tw),IF=m.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[i,a]=m.useState("idle");return s.jsx(gte,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:a,children:s.jsx(Ye.span,{...r,ref:e})})});IF.displayName=Tw;var RF="AvatarImage",DF=m.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...a}=t,o=AF(RF,n),l=xte(r,a),c=tn(u=>{i(u),o.onImageLoadingStatusChange(u)});return Rn(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?s.jsx(Ye.img,{...a,ref:e,src:r}):null});DF.displayName=RF;var MF="AvatarFallback",OF=m.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...i}=t,a=AF(MF,n),[o,l]=m.useState(r===void 0);return m.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(c)}},[r]),o&&a.imageLoadingStatus!=="loaded"?s.jsx(Ye.span,{...i,ref:e}):null});OF.displayName=MF;function o_(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function xte(t,{referrerPolicy:e,crossOrigin:n}){const r=vte(),i=m.useRef(null),a=r?(i.current||(i.current=new window.Image),i.current):null,[o,l]=m.useState(()=>o_(a,t));return Rn(()=>{l(o_(a,t))},[a,t]),Rn(()=>{const c=p=>()=>{l(p)};if(!a)return;const u=c("loaded"),h=c("error");return a.addEventListener("load",u),a.addEventListener("error",h),e&&(a.referrerPolicy=e),typeof n=="string"&&(a.crossOrigin=n),()=>{a.removeEventListener("load",u),a.removeEventListener("error",h)}},[a,n,e]),o}function yte(){return()=>{}}function vte(){return m.useSyncExternalStore(yte,()=>!0,()=>!1)}var FF=IF,LF=DF,UF=OF;const zv=m.forwardRef(({className:t,...e},n)=>s.jsx(FF,{ref:n,className:Re("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));zv.displayName=FF.displayName;const Bv=m.forwardRef(({className:t,...e},n)=>s.jsx(LF,{ref:n,className:Re("aspect-square h-full w-full",t),...e}));Bv.displayName=LF.displayName;const qv=m.forwardRef(({className:t,...e},n)=>s.jsx(UF,{ref:n,className:Re("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));qv.displayName=UF.displayName;const l_="data:image/svg+xml,%3csvg%20viewBox='0%200%20200%20200'%20xmlns='http://www.w3.org/2000/svg'%3e%3c!--%20Building%20--%3e%3cpath%20d='M60%2040%20L60%20180%20L140%20180%20L140%2040%20Z'%20fill='%232C5F6F'/%3e%3c!--%20Windows%20--%3e%3crect%20x='70'%20y='55'%20width='15'%20height='15'%20fill='white'/%3e%3crect%20x='85'%20y='55'%20width='15'%20height='15'%20fill='white'/%3e%3crect%20x='105'%20y='55'%20width='15'%20height='15'%20fill='white'/%3e%3crect%20x='120'%20y='55'%20width='15'%20height='15'%20fill='white'/%3e%3crect%20x='70'%20y='75'%20width='15'%20height='15'%20fill='white'/%3e%3crect%20x='85'%20y='75'%20width='15'%20height='15'%20fill='white'/%3e%3crect%20x='105'%20y='75'%20width='15'%20height='15'%20fill='white'/%3e%3crect%20x='120'%20y='75'%20width='15'%20height='15'%20fill='white'/%3e%3crect%20x='70'%20y='95'%20width='15'%20height='15'%20fill='white'/%3e%3crect%20x='85'%20y='95'%20width='15'%20height='15'%20fill='white'/%3e%3crect%20x='105'%20y='95'%20width='15'%20height='15'%20fill='white'/%3e%3crect%20x='120'%20y='95'%20width='15'%20height='15'%20fill='white'/%3e%3crect%20x='70'%20y='115'%20width='15'%20height='15'%20fill='white'/%3e%3crect%20x='85'%20y='115'%20width='15'%20height='15'%20fill='white'/%3e%3crect%20x='105'%20y='115'%20width='15'%20height='15'%20fill='white'/%3e%3crect%20x='120'%20y='115'%20width='15'%20height='15'%20fill='white'/%3e%3c!--%20Door%20--%3e%3crect%20x='90'%20y='155'%20width='20'%20height='25'%20fill='white'/%3e%3c!--%20Green%20checkmark%20--%3e%3cpath%20d='M130%20120%20L145%20135%20L175%20105'%20stroke='%234ADE80'%20stroke-width='8'%20fill='none'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",jte={chairperson:["dashboard","financial","quotes","vendors","dwellings","documents","meetings","maintenance","communications","reports","admin"],treasurer:["dashboard","financial","quotes","vendors","dwellings","documents","meetings","reports"],secretary:["dashboard","documents","meetings","communications","dwellings","reports"],council_member:["dashboard","financial","quotes","documents","meetings","maintenance","communications","reports"],property_manager:["dashboard","financial","quotes","vendors","dwellings","documents","meetings","maintenance","communications","reports"],resident:["dashboard","documents","meetings","maintenance","communications"],admin:["dashboard","financial","quotes","vendors","dwellings","documents","meetings","maintenance","communications","reports","admin"],master_admin:["dashboard","financial","quotes","vendors","dwellings","documents","meetings","maintenance","communications","reports","admin","master_admin"]},c_=["dashboard","financial","quotes","vendors","dwellings","documents","meetings","maintenance","communications","reports","admin","master_admin"];function wte(t,e=[]){const r=(jte[t]||[]).concat(e);return r.filter((a,o)=>r.indexOf(a)===o).sort((a,o)=>{const l=c_.indexOf(a),c=c_.indexOf(o);return l-c})}var bte="Separator",d_="horizontal",Nte=["horizontal","vertical"],VF=m.forwardRef((t,e)=>{const{decorative:n,orientation:r=d_,...i}=t,a=Ste(r)?r:d_,l=n?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return s.jsx(Ye.div,{"data-orientation":a,...l,...i,ref:e})});VF.displayName=bte;function Ste(t){return Nte.includes(t)}var $F=VF;const Ew=m.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},i)=>s.jsx($F,{ref:i,decorative:n,orientation:e,className:Re("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));Ew.displayName=$F.displayName;function _te({isOpen:t,onClose:e}){const{user:n}=xr(),{toast:r}=xn(),i=as(),[a,o]=m.useState({emailNotifications:!0,pushNotifications:!0,weeklyReports:!0,maintenanceAlerts:!0,meetingReminders:!0,announcementNotifications:!0,displayName:(n==null?void 0:n.displayName)||"",phoneNumber:"",currentPassword:"",newPassword:"",confirmPassword:""}),[l,c]=m.useState(!1),[u,h]=m.useState(!1),[p,f]=m.useState(!1),v=ze({mutationFn:async w=>(await Be("PATCH","/api/user/profile",w)).json(),onSuccess:()=>{r({title:"Profile Updated",description:"Your profile has been successfully updated."}),i.invalidateQueries({queryKey:["/api/user/profile"]})},onError:w=>{r({title:"Update Failed",description:w.message||"Failed to update profile",variant:"destructive"})}}),_=ze({mutationFn:async w=>(await Be("PATCH","/api/user/notifications",w)).json(),onSuccess:()=>{r({title:"Notifications Updated",description:"Your notification preferences have been saved."}),i.invalidateQueries({queryKey:["/api/user/notifications"]})},onError:w=>{r({title:"Update Failed",description:w.message||"Failed to update notifications",variant:"destructive"})}}),j=ze({mutationFn:async w=>(await Be("POST","/api/user/change-password",w)).json(),onSuccess:()=>{r({title:"Password Changed",description:"Your password has been successfully changed."}),o(w=>({...w,currentPassword:"",newPassword:"",confirmPassword:""}))},onError:w=>{r({title:"Password Change Failed",description:w.message||"Failed to change password",variant:"destructive"})}}),E=()=>{v.mutate({displayName:a.displayName,phoneNumber:a.phoneNumber})},N=()=>{_.mutate({emailNotifications:a.emailNotifications,pushNotifications:a.pushNotifications,weeklyReports:a.weeklyReports,maintenanceAlerts:a.maintenanceAlerts,meetingReminders:a.meetingReminders,announcementNotifications:a.announcementNotifications})},y=()=>{if(a.newPassword!==a.confirmPassword){r({title:"Password Mismatch",description:"New passwords do not match",variant:"destructive"});return}if(a.newPassword.length<8){r({title:"Password Too Short",description:"Password must be at least 8 characters long",variant:"destructive"});return}j.mutate({currentPassword:a.currentPassword,newPassword:a.newPassword})};return s.jsx(ut,{open:t,onOpenChange:e,children:s.jsxs(ct,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(ht,{children:[s.jsx(mt,{children:"Account Settings"}),s.jsx(Zt,{children:"Manage your account preferences and security settings"})]}),s.jsxs(ud,{defaultValue:"profile",className:"w-full",children:[s.jsxs(bl,{className:"grid w-full grid-cols-3",children:[s.jsx(Qt,{value:"profile",children:"Profile"}),s.jsx(Qt,{value:"notifications",children:"Notifications"}),s.jsx(Qt,{value:"security",children:"Security"})]}),s.jsx(Sn,{value:"profile",className:"space-y-4",children:s.jsxs(ge,{children:[s.jsxs(Ge,{children:[s.jsxs(Qe,{className:"flex items-center gap-2",children:[s.jsx(nR,{className:"h-5 w-5"}),"Profile Information"]}),s.jsx(pi,{children:"Update your personal information and contact details"})]}),s.jsxs(be,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(me,{htmlFor:"email",children:"Email Address"}),s.jsx(re,{id:"email",type:"email",value:(n==null?void 0:n.email)||"",disabled:!0,className:"bg-gray-50"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Email cannot be changed"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(me,{htmlFor:"displayName",children:"Display Name"}),s.jsx(re,{id:"displayName",type:"text",value:a.displayName,onChange:w=>o(T=>({...T,displayName:w.target.value})),placeholder:"Enter your display name"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(me,{htmlFor:"phoneNumber",children:"Phone Number"}),s.jsx(re,{id:"phoneNumber",type:"tel",value:a.phoneNumber,onChange:w=>o(T=>({...T,phoneNumber:w.target.value})),placeholder:"Enter your phone number"})]}),s.jsx($,{onClick:E,disabled:v.isPending,className:"w-full",children:v.isPending?"Updating...":s.jsxs(s.Fragment,{children:[s.jsx(yv,{className:"h-4 w-4 mr-2"}),"Update Profile"]})})]})]})}),s.jsx(Sn,{value:"notifications",className:"space-y-4",children:s.jsxs(ge,{children:[s.jsxs(Ge,{children:[s.jsxs(Qe,{className:"flex items-center gap-2",children:[s.jsx(Qo,{className:"h-5 w-5"}),"Notification Preferences"]}),s.jsx(pi,{children:"Choose how you want to receive notifications"})]}),s.jsxs(be,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(me,{htmlFor:"emailNotifications",children:"Email Notifications"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Receive notifications via email"})]}),s.jsx(Gt,{id:"emailNotifications",checked:a.emailNotifications,onCheckedChange:w=>o(T=>({...T,emailNotifications:w}))})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(me,{htmlFor:"pushNotifications",children:"Push Notifications"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Receive browser push notifications"})]}),s.jsx(Gt,{id:"pushNotifications",checked:a.pushNotifications,onCheckedChange:w=>o(T=>({...T,pushNotifications:w}))})]}),s.jsx(Ew,{}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(me,{htmlFor:"weeklyReports",children:"Weekly Reports"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Receive weekly summary reports"})]}),s.jsx(Gt,{id:"weeklyReports",checked:a.weeklyReports,onCheckedChange:w=>o(T=>({...T,weeklyReports:w}))})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(me,{htmlFor:"maintenanceAlerts",children:"Maintenance Alerts"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Get notified about maintenance updates"})]}),s.jsx(Gt,{id:"maintenanceAlerts",checked:a.maintenanceAlerts,onCheckedChange:w=>o(T=>({...T,maintenanceAlerts:w}))})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(me,{htmlFor:"meetingReminders",children:"Meeting Reminders"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Receive reminders for upcoming meetings"})]}),s.jsx(Gt,{id:"meetingReminders",checked:a.meetingReminders,onCheckedChange:w=>o(T=>({...T,meetingReminders:w}))})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(me,{htmlFor:"announcementNotifications",children:"Announcement Notifications"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Get notified about new announcements"})]}),s.jsx(Gt,{id:"announcementNotifications",checked:a.announcementNotifications,onCheckedChange:w=>o(T=>({...T,announcementNotifications:w}))})]})]}),s.jsx($,{onClick:N,disabled:_.isPending,className:"w-full",children:_.isPending?"Updating...":s.jsxs(s.Fragment,{children:[s.jsx(yv,{className:"h-4 w-4 mr-2"}),"Save Notification Preferences"]})})]})]})}),s.jsx(Sn,{value:"security",className:"space-y-4",children:s.jsxs(ge,{children:[s.jsxs(Ge,{children:[s.jsxs(Qe,{className:"flex items-center gap-2",children:[s.jsx(Vu,{className:"h-5 w-5"}),"Security Settings"]}),s.jsx(pi,{children:"Manage your password and security preferences"})]}),s.jsxs(be,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(me,{htmlFor:"currentPassword",children:"Current Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(re,{id:"currentPassword",type:l?"text":"password",value:a.currentPassword,onChange:w=>o(T=>({...T,currentPassword:w.target.value})),placeholder:"Enter current password"}),s.jsx($,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 hover:bg-transparent",onClick:()=>c(!l),children:l?s.jsx(Ex,{className:"h-4 w-4"}):s.jsx(Nn,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(me,{htmlFor:"newPassword",children:"New Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(re,{id:"newPassword",type:u?"text":"password",value:a.newPassword,onChange:w=>o(T=>({...T,newPassword:w.target.value})),placeholder:"Enter new password"}),s.jsx($,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 hover:bg-transparent",onClick:()=>h(!u),children:u?s.jsx(Ex,{className:"h-4 w-4"}):s.jsx(Nn,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(me,{htmlFor:"confirmPassword",children:"Confirm New Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(re,{id:"confirmPassword",type:p?"text":"password",value:a.confirmPassword,onChange:w=>o(T=>({...T,confirmPassword:w.target.value})),placeholder:"Confirm new password"}),s.jsx($,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 hover:bg-transparent",onClick:()=>f(!p),children:p?s.jsx(Ex,{className:"h-4 w-4"}):s.jsx(Nn,{className:"h-4 w-4"})})]})]}),s.jsx("p",{className:"text-sm text-gray-500",children:"Password must be at least 8 characters long and contain a mix of letters, numbers, and symbols."}),s.jsx($,{onClick:y,disabled:j.isPending||!a.currentPassword||!a.newPassword||!a.confirmPassword,className:"w-full",children:j.isPending?"Changing Password...":s.jsxs(s.Fragment,{children:[s.jsx(Vu,{className:"h-4 w-4 mr-2"}),"Change Password"]})})]})]})})]})]})})}function Cte({isOpen:t,onClose:e}){xr();const{toast:n}=xn(),r=as(),{data:i,isLoading:a}=ot({queryKey:["/api/user/notification-settings"],enabled:t}),[o,l]=m.useState({emailNotifications:(i==null?void 0:i.emailNotifications)??!0,pushNotifications:(i==null?void 0:i.pushNotifications)??!0,smsNotifications:(i==null?void 0:i.smsNotifications)??!1,weeklyReports:(i==null?void 0:i.weeklyReports)??!0,maintenanceAlerts:(i==null?void 0:i.maintenanceAlerts)??!0,meetingReminders:(i==null?void 0:i.meetingReminders)??!0,announcementNotifications:(i==null?void 0:i.announcementNotifications)??!0,quoteUpdates:(i==null?void 0:i.quoteUpdates)??!0,paymentReminders:(i==null?void 0:i.paymentReminders)??!0,emergencyAlerts:(i==null?void 0:i.emergencyAlerts)??!0,soundEnabled:(i==null?void 0:i.soundEnabled)??!0,notificationFrequency:(i==null?void 0:i.notificationFrequency)??"immediate",quietHoursEnabled:(i==null?void 0:i.quietHoursEnabled)??!1,quietHoursStart:(i==null?void 0:i.quietHoursStart)??"22:00",quietHoursEnd:(i==null?void 0:i.quietHoursEnd)??"08:00"}),c=ze({mutationFn:async p=>(await Be("PATCH","/api/user/notification-settings",p)).json(),onSuccess:()=>{n({title:"Notifications Updated",description:"Your notification preferences have been saved successfully."}),r.invalidateQueries({queryKey:["/api/user/notification-settings"]}),e()},onError:p=>{n({title:"Update Failed",description:p.message||"Failed to update notification settings",variant:"destructive"})}}),u=()=>{c.mutate(o)},h=ze({mutationFn:async()=>(await Be("POST","/api/user/test-notification")).json(),onSuccess:()=>{n({title:"Test Notification Sent",description:"Check your selected notification channels for the test message."})},onError:p=>{n({title:"Test Failed",description:p.message||"Failed to send test notification",variant:"destructive"})}});return a?s.jsx(ut,{open:t,onOpenChange:e,children:s.jsx(ct,{className:"max-w-2xl",children:s.jsx("div",{className:"flex items-center justify-center p-8",children:s.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full"})})})}):s.jsx(ut,{open:t,onOpenChange:e,children:s.jsxs(ct,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(ht,{children:[s.jsxs(mt,{className:"flex items-center gap-2",children:[s.jsx(Qo,{className:"h-5 w-5"}),"Notification Settings"]}),s.jsx(Zt,{children:"Configure how and when you receive notifications"})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(ge,{children:[s.jsxs(Ge,{children:[s.jsx(Qe,{className:"text-lg",children:"Delivery Methods"}),s.jsx(pi,{children:"Choose how you want to receive notifications"})]}),s.jsxs(be,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(od,{className:"h-4 w-4 text-blue-500"}),s.jsxs("div",{children:[s.jsx(me,{htmlFor:"emailNotifications",children:"Email Notifications"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Receive notifications via email"})]})]}),s.jsx(Gt,{id:"emailNotifications",checked:o.emailNotifications,onCheckedChange:p=>l(f=>({...f,emailNotifications:p}))})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(vv,{className:"h-4 w-4 text-green-500"}),s.jsxs("div",{children:[s.jsx(me,{htmlFor:"pushNotifications",children:"Push Notifications"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Receive browser push notifications"})]})]}),s.jsx(Gt,{id:"pushNotifications",checked:o.pushNotifications,onCheckedChange:p=>l(f=>({...f,pushNotifications:p}))})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(vv,{className:"h-4 w-4 text-purple-500"}),s.jsxs("div",{children:[s.jsx(me,{htmlFor:"smsNotifications",children:"SMS Notifications"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Receive text messages for urgent items"})]})]}),s.jsx(Gt,{id:"smsNotifications",checked:o.smsNotifications,onCheckedChange:p=>l(f=>({...f,smsNotifications:p}))})]})]})]}),s.jsxs(ge,{children:[s.jsxs(Ge,{children:[s.jsx(Qe,{className:"text-lg",children:"Notification Types"}),s.jsx(pi,{children:"Select which types of notifications you want to receive"})]}),s.jsxs(be,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(me,{htmlFor:"weeklyReports",children:"Weekly Reports"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Receive weekly summary reports"})]}),s.jsx(Gt,{id:"weeklyReports",checked:o.weeklyReports,onCheckedChange:p=>l(f=>({...f,weeklyReports:p}))})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(me,{htmlFor:"maintenanceAlerts",children:"Maintenance Alerts"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Get notified about maintenance updates"})]}),s.jsx(Gt,{id:"maintenanceAlerts",checked:o.maintenanceAlerts,onCheckedChange:p=>l(f=>({...f,maintenanceAlerts:p}))})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(me,{htmlFor:"meetingReminders",children:"Meeting Reminders"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Receive reminders for upcoming meetings"})]}),s.jsx(Gt,{id:"meetingReminders",checked:o.meetingReminders,onCheckedChange:p=>l(f=>({...f,meetingReminders:p}))})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(me,{htmlFor:"announcementNotifications",children:"Announcements"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Get notified about new announcements"})]}),s.jsx(Gt,{id:"announcementNotifications",checked:o.announcementNotifications,onCheckedChange:p=>l(f=>({...f,announcementNotifications:p}))})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(me,{htmlFor:"quoteUpdates",children:"Quote Updates"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Receive updates on quote requests and approvals"})]}),s.jsx(Gt,{id:"quoteUpdates",checked:o.quoteUpdates,onCheckedChange:p=>l(f=>({...f,quoteUpdates:p}))})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(me,{htmlFor:"paymentReminders",children:"Payment Reminders"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Get reminded about upcoming payments"})]}),s.jsx(Gt,{id:"paymentReminders",checked:o.paymentReminders,onCheckedChange:p=>l(f=>({...f,paymentReminders:p}))})]}),s.jsx(Ew,{}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(me,{htmlFor:"emergencyAlerts",children:"Emergency Alerts"}),s.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Critical building emergencies (cannot be disabled)"})]}),s.jsx(Gt,{id:"emergencyAlerts",checked:!0,disabled:!0})]})]})]}),s.jsxs(ge,{children:[s.jsxs(Ge,{children:[s.jsx(Qe,{className:"text-lg",children:"Advanced Settings"}),s.jsx(pi,{children:"Configure delivery frequency and quiet hours"})]}),s.jsxs(be,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[o.soundEnabled?s.jsx(sR,{className:"h-4 w-4 text-blue-500"}):s.jsx(Aq,{className:"h-4 w-4 text-gray-400"}),s.jsxs("div",{children:[s.jsx(me,{htmlFor:"soundEnabled",children:"Notification Sounds"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Play sound for notifications"})]})]}),s.jsx(Gt,{id:"soundEnabled",checked:o.soundEnabled,onCheckedChange:p=>l(f=>({...f,soundEnabled:p}))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(me,{htmlFor:"notificationFrequency",children:"Notification Frequency"}),s.jsxs(tt,{value:o.notificationFrequency,onValueChange:p=>l(f=>({...f,notificationFrequency:p})),children:[s.jsx(Ze,{children:s.jsx(nt,{})}),s.jsxs(Je,{children:[s.jsx(V,{value:"immediate",children:"Immediate"}),s.jsx(V,{value:"daily",children:"Daily Summary"}),s.jsx(V,{value:"weekly",children:"Weekly Summary"})]})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(me,{htmlFor:"quietHoursEnabled",children:"Quiet Hours"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Disable non-urgent notifications during specified hours"})]}),s.jsx(Gt,{id:"quietHoursEnabled",checked:o.quietHoursEnabled,onCheckedChange:p=>l(f=>({...f,quietHoursEnabled:p}))})]}),o.quietHoursEnabled&&s.jsxs("div",{className:"grid grid-cols-2 gap-4 ml-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(me,{htmlFor:"quietHoursStart",children:"Start Time"}),s.jsx("input",{id:"quietHoursStart",type:"time",value:o.quietHoursStart,onChange:p=>l(f=>({...f,quietHoursStart:p.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(me,{htmlFor:"quietHoursEnd",children:"End Time"}),s.jsx("input",{id:"quietHoursEnd",type:"time",value:o.quietHoursEnd,onChange:p=>l(f=>({...f,quietHoursEnd:p.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx($,{onClick:u,disabled:c.isPending,className:"flex-1",children:c.isPending?"Saving...":s.jsxs(s.Fragment,{children:[s.jsx(yv,{className:"h-4 w-4 mr-2"}),"Save Settings"]})}),s.jsx($,{variant:"outline",onClick:()=>h.mutate(),disabled:h.isPending,children:h.isPending?"Sending...":"Test Notification"})]})]})]})})}const Tte=[{name:"Dashboard",href:"/",icon:YI},{name:"Financial",href:"/financial",icon:dr},{name:"Quotes & Approvals",href:"/quotes",icon:Vt},{name:"Vendors",href:"/vendors",icon:$s},{name:"Dwellings",href:"/dwellings",icon:vs},{name:"Documents",href:"/documents",icon:Ol},{name:"Meetings",href:"/meetings",icon:ss},{name:"Maintenance",href:"/maintenance",icon:oi},{name:"Community Hub",href:"/communications",icon:hc},{name:"Reports",href:"/reports",icon:j0},{name:"Admin",href:"/strata-admin",icon:Es},{name:"Master Admin",href:"/admin",icon:Mo}];function zF(){var A,S,g,k,P;const[t]=fo(),{user:e}=xr(),{selectedStrataId:n,availableStrata:r,setSelectedStrata:i}=ra(),{toast:a}=xn(),[o,l]=m.useState(!1),[c,u]=m.useState(!1),[h,p]=m.useState(!1),[f,v]=m.useState(!1),_=async()=>{try{await o0(to),a({title:"Signed Out",description:"You have been signed out successfully."}),window.location.href="/"}catch{a({title:"Error",description:"Failed to sign out.",variant:"destructive"})}};m.useEffect(()=>{f&&l(!1)},[f]);const j=r,{data:E,refetch:N}=ot({queryKey:[`/api/strata/${n}/user-role`],enabled:!!e&&!!n,staleTime:0,gcTime:0,refetchOnMount:"always",refetchOnWindowFocus:!0,refetchInterval:5e3});m.useEffect(()=>{e&&n&&N()},[e==null?void 0:e.email,n,N]);const y=()=>e?e.email==="rfinnbogason@gmail.com"?"master_admin":(console.log("🎭 Sidebar getUserRole:",{userEmail:e.email,userRoleData:E==null?void 0:E.role,selectedStrataId:n}),(E==null?void 0:E.role)||"resident"):"resident",w=I=>I.replace("_"," ").replace(/\b\w/g,R=>R.toUpperCase()),T=y(),O=wte(T),U=Tte.filter(I=>{const R=I.href==="/"?"dashboard":I.href==="/strata-admin"?"admin":I.href==="/admin"?"master_admin":I.href.substring(1);return O.includes(R)});return s.jsxs("aside",{className:`${f?"w-12":"w-64"} bg-sidebar-background text-sidebar-foreground flex-shrink-0 flex flex-col h-full transition-all duration-300 relative`,children:[s.jsxs("div",{className:`p-4 m-4 bg-white border border-gray-200 rounded-lg ${f?"mx-1 p-2":""} relative`,children:[f?s.jsx("div",{className:"flex justify-center",children:s.jsx("img",{src:l_,alt:"VibeStrat Logo",className:"h-4 w-4"})}):s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h1",{className:"flex items-center text-gray-700 font-bold text-[14px]",children:[s.jsx("img",{src:l_,alt:"VibeStrat Logo",className:"mr-3 h-6 w-6"}),"VibeStrat"]}),s.jsx($,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-md border border-gray-300 hover:border-gray-400",onClick:()=>v(!f),children:s.jsx(pq,{className:"h-5 w-5"})})]}),f&&s.jsx($,{variant:"ghost",size:"sm",className:"absolute -right-2 top-1/2 -translate-y-1/2 h-6 w-6 p-0 bg-white border border-gray-200 rounded-full shadow-sm hover:bg-gray-50 text-gray-500",onClick:()=>v(!f),children:s.jsx(b0,{className:"h-3 w-3"})})]}),!f&&s.jsx("div",{className:"px-4 mb-4",children:s.jsxs(tt,{value:n||"",onValueChange:i,children:[s.jsx(Ze,{className:"w-full bg-white border-gray-200 text-gray-700 hover:bg-gray-50",children:s.jsx(nt,{placeholder:"Select a strata..."})}),s.jsx(Je,{children:j.map(I=>s.jsxs(V,{value:I.id,children:[I.name," (",I.unitCount," units)"]},I.id))})]})}),s.jsx("div",{className:"flex-1 overflow-y-auto",children:s.jsx("nav",{className:`${f?"p-1":"p-4"}`,children:s.jsx("ul",{className:`${f?"space-y-1 flex flex-col items-center":"space-y-1"}`,children:U.filter(I=>I.name==="Master Admin"?(e==null?void 0:e.email)==="rfinnbogason@gmail.com":I.name==="Admin"?["chairperson","property_manager","treasurer","secretary"].includes(T):!0).map(I=>{const R=I.icon;return s.jsx("li",{children:s.jsxs(Wm,{href:I.href,className:`flex items-center ${f?"justify-center w-8 h-8":"px-4 py-3"} rounded-lg border transition-colors ${t===I.href?"bg-green-500 text-white border-green-500":"bg-white text-gray-700 border-gray-200 hover:bg-gray-50"}`,title:f?I.name:void 0,children:[s.jsx(R,{className:`${f?"":"mr-3"} h-4 w-4 flex-shrink-0`}),!f&&s.jsx("span",{children:I.name})]})},I.name)})})})}),s.jsxs("div",{className:"border-t border-sidebar-border p-0",children:[s.jsx($,{variant:"ghost",className:`w-full inline-flex items-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:text-accent-foreground ${f?"p-2 justify-center":"p-3 justify-start"} h-auto bg-transparent hover:bg-gray-50 text-gray-700 rounded-none border-0`,onClick:()=>l(!o),children:f?s.jsxs(zv,{className:"h-8 w-8",children:[s.jsx(Bv,{src:(e==null?void 0:e.photoURL)||"",alt:(e==null?void 0:e.displayName)||(e==null?void 0:e.email)||"User",className:"object-cover"}),s.jsx(qv,{className:"bg-green-500 text-white text-xs",children:((A=e==null?void 0:e.displayName)==null?void 0:A[0])||((S=e==null?void 0:e.email)==null?void 0:S[0])||"U"})]}):s.jsxs("div",{className:"flex items-center space-x-3 w-full",children:[s.jsxs(zv,{className:"h-10 w-10",children:[s.jsx(Bv,{src:(e==null?void 0:e.photoURL)||"",alt:(e==null?void 0:e.displayName)||(e==null?void 0:e.email)||"User",className:"object-cover"}),s.jsx(qv,{className:"bg-green-500 text-white",children:((g=e==null?void 0:e.displayName)==null?void 0:g[0])||((k=e==null?void 0:e.email)==null?void 0:k[0])||"U"})]}),s.jsxs("div",{className:"flex-1 min-w-0 text-left",children:[s.jsx("p",{className:"text-sm font-medium text-gray-700 truncate",children:(e==null?void 0:e.displayName)||(e==null?void 0:e.email)||"User"}),s.jsx("p",{className:"text-xs text-gray-500 truncate",children:w(T)})]}),o?s.jsx(w0,{className:"h-4 w-4 text-gray-500"}):s.jsx(XI,{className:"h-4 w-4 text-gray-500"})]})}),o&&!f&&s.jsx("div",{className:"px-3 pb-3 border-t border-gray-100",children:s.jsxs("div",{className:"mt-3 space-y-2",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsxs($,{variant:"ghost",size:"sm",className:"w-full justify-start text-xs text-gray-600 hover:text-gray-700 hover:bg-gray-50 h-8",onClick:()=>u(!0),children:[s.jsx(Mo,{className:"h-3 w-3 mr-2"}),"Account Settings"]}),s.jsxs($,{variant:"ghost",size:"sm",className:"w-full justify-start text-xs text-gray-600 hover:text-gray-700 hover:bg-gray-50 h-8",onClick:()=>p(!0),children:[s.jsx(Qo,{className:"h-3 w-3 mr-2"}),"Notification Settings"]})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-2 text-xs text-gray-600 space-y-1",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Role:"}),s.jsx("span",{className:"text-gray-700 font-medium",children:w(T)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Strata:"}),s.jsx("span",{className:"text-gray-700 font-medium truncate ml-2",children:((P=j.find(I=>{var R;return I.id===(n||((R=j[0])==null?void 0:R.id))}))==null?void 0:P.name)||"None"})]})]}),s.jsxs($,{variant:"outline",size:"sm",className:"w-full mt-2 bg-white border-gray-200 text-gray-700 hover:bg-gray-50 h-8",onClick:_,children:[s.jsx(Sq,{className:"h-3 w-3 mr-2"}),"Sign Out"]})]})})]}),s.jsx(_te,{isOpen:c,onClose:()=>u(!1)}),s.jsx(Cte,{isOpen:h,onClose:()=>p(!1)})]})}var Pw="Popover",[BF,vne]=os(Pw,[go]),Vh=go(),[Ete,vo]=BF(Pw),qF=t=>{const{__scopePopover:e,children:n,open:r,defaultOpen:i,onOpenChange:a,modal:o=!1}=t,l=Vh(e),c=m.useRef(null),[u,h]=m.useState(!1),[p=!1,f]=yi({prop:r,defaultProp:i,onChange:a});return s.jsx(O0,{...l,children:s.jsx(Ete,{scope:e,contentId:Vr(),triggerRef:c,open:p,onOpenChange:f,onOpenToggle:m.useCallback(()=>f(v=>!v),[f]),hasCustomAnchor:u,onCustomAnchorAdd:m.useCallback(()=>h(!0),[]),onCustomAnchorRemove:m.useCallback(()=>h(!1),[]),modal:o,children:n})})};qF.displayName=Pw;var HF="PopoverAnchor",Pte=m.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=vo(HF,n),a=Vh(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=i;return m.useEffect(()=>(o(),()=>l()),[o,l]),s.jsx(Ch,{...a,...r,ref:e})});Pte.displayName=HF;var WF="PopoverTrigger",KF=m.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=vo(WF,n),a=Vh(n),o=ft(e,i.triggerRef),l=s.jsx(Ye.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":ZF(i.open),...r,ref:o,onClick:Te(t.onClick,i.onOpenToggle)});return i.hasCustomAnchor?l:s.jsx(Ch,{asChild:!0,...a,children:l})});KF.displayName=WF;var kw="PopoverPortal",[kte,Ate]=BF(kw,{forceMount:void 0}),GF=t=>{const{__scopePopover:e,forceMount:n,children:r,container:i}=t,a=vo(kw,e);return s.jsx(kte,{scope:e,forceMount:n,children:s.jsx(qn,{present:n||a.open,children:s.jsx(ad,{asChild:!0,container:i,children:r})})})};GF.displayName=kw;var ed="PopoverContent",QF=m.forwardRef((t,e)=>{const n=Ate(ed,t.__scopePopover),{forceMount:r=n.forceMount,...i}=t,a=vo(ed,t.__scopePopover);return s.jsx(qn,{present:r||a.open,children:a.modal?s.jsx(Rte,{...i,ref:e}):s.jsx(Dte,{...i,ref:e})})});QF.displayName=ed;var Ite=no("PopoverContent.RemoveScroll"),Rte=m.forwardRef((t,e)=>{const n=vo(ed,t.__scopePopover),r=m.useRef(null),i=ft(e,r),a=m.useRef(!1);return m.useEffect(()=>{const o=r.current;if(o)return cg(o)},[]),s.jsx(Ph,{as:Ite,allowPinchZoom:!0,children:s.jsx(YF,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Te(t.onCloseAutoFocus,o=>{var l;o.preventDefault(),a.current||(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Te(t.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;a.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:Te(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),Dte=m.forwardRef((t,e)=>{const n=vo(ed,t.__scopePopover),r=m.useRef(!1),i=m.useRef(!1);return s.jsx(YF,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=t.onCloseAutoFocus)==null||o.call(t,a),a.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),a.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:a=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),YF=m.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:h,...p}=t,f=vo(ed,n),v=Vh(n);return og(),s.jsx(Eh,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a,children:s.jsx(wl,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:h,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>f.onOpenChange(!1),children:s.jsx(tg,{"data-state":ZF(f.open),role:"dialog",id:f.contentId,...v,...p,ref:e,style:{...p.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),XF="PopoverClose",Mte=m.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=vo(XF,n);return s.jsx(Ye.button,{type:"button",...r,ref:e,onClick:Te(t.onClick,()=>i.onOpenChange(!1))})});Mte.displayName=XF;var Ote="PopoverArrow",Fte=m.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=Vh(n);return s.jsx(ng,{...i,...r,ref:e})});Fte.displayName=Ote;function ZF(t){return t?"open":"closed"}var Lte=qF,Ute=KF,Vte=GF,JF=QF;const $te=Lte,zte=Ute,eL=m.forwardRef(({className:t,align:e="center",sideOffset:n=4,...r},i)=>s.jsx(Vte,{children:s.jsx(JF,{ref:i,align:e,sideOffset:n,className:Re("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",t),...r})}));eL.displayName=JF.displayName;const Bte=H0,qte=W0,Hte=K0,tL=m.forwardRef(({className:t,...e},n)=>s.jsx(kh,{className:Re("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));tL.displayName=kh.displayName;const Wte=Nh("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),nL=m.forwardRef(({side:t="right",className:e,children:n,...r},i)=>s.jsxs(Hte,{children:[s.jsx(tL,{}),s.jsxs(Ah,{ref:i,className:Re(Wte({side:t}),e),...r,children:[n,s.jsxs(dg,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[s.jsx(mi,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));nL.displayName=Ah.displayName;const Kte=m.forwardRef(({className:t,...e},n)=>s.jsx(Ih,{ref:n,className:Re("text-lg font-semibold text-foreground",t),...e}));Kte.displayName=Ih.displayName;const Gte=m.forwardRef(({className:t,...e},n)=>s.jsx(Rh,{ref:n,className:Re("text-sm text-muted-foreground",t),...e}));Gte.displayName=Rh.displayName;function Qte(){const t=as(),{user:e}=xr(),{toast:n}=xn(),[r,i]=m.useState(null),[a,o]=m.useState(!1),[,l]=fo(),{data:c}=ot({queryKey:["/api/strata"]}),u=Array.isArray(c)?c[0]:null,{data:h=[]}=ot({queryKey:[`/api/strata/${u==null?void 0:u.id}/messages`],enabled:!!(u!=null&&u.id)}),{data:p=[]}=ot({queryKey:[`/api/strata/${u==null?void 0:u.id}/notifications`],enabled:!!(u!=null&&u.id)}),{data:f=[]}=ot({queryKey:["/api/strata",u==null?void 0:u.id,"announcements"],enabled:!!(u!=null&&u.id)}),{data:v=[]}=ot({queryKey:["/api/strata",u==null?void 0:u.id,"meetings"],enabled:!!(u!=null&&u.id)}),{data:_=[]}=ot({queryKey:["/api/strata",u==null?void 0:u.id,"quotes"],enabled:!!(u!=null&&u.id)}),{data:j=[]}=ot({queryKey:["/api/dismissed-notifications"]}),E=ze({mutationFn:async g=>(await Be("POST","/api/dismissed-notifications",g)).json(),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/dismissed-notifications"]})}});ze({mutationFn:async g=>Be("PATCH",`/api/messages/${g}/read`),onSuccess:()=>{t.invalidateQueries({queryKey:[`/api/strata/${u==null?void 0:u.id}/messages`]})}});const N=async()=>{try{await o0(to),n({title:"Signed Out",description:"You have been signed out successfully."}),window.location.href="/"}catch{n({title:"Error",description:"Failed to sign out.",variant:"destructive"})}},y=ze({mutationFn:async g=>(await Be("PATCH",`/api/notifications/${g}/read`)).json(),onSuccess:()=>{t.invalidateQueries({queryKey:[`/api/strata/${u==null?void 0:u.id}/notifications`]})}}),w=async g=>{try{if(g.isFirebaseNotification){if(await y.mutateAsync(g.id),g.type==="meeting_invitation"){i(g),o(!0);return}g.type==="meeting"?window.location.href="/meetings":window.location.href="/dashboard";return}E.mutate({notificationId:g.id,notificationType:g.type}),g.type==="message"?l("/communications"):g.link&&(window.location.href=g.link)}catch(k){console.error("Error handling notification click:",k)}},T=[...p.filter(g=>!g.isRead).map(g=>({id:g.id,type:g.type,title:g.title,description:g.message,time:new Date(g.createdAt).toLocaleDateString(),icon:g.type==="meeting_invitation"?ss:Qo,priority:g.priority||"normal",category:g.type==="meeting_invitation"?"Meeting Invitation":g.type==="message"?"New Message":"Notification",link:g.type==="message"?"/communications":"/dashboard",isFirebaseNotification:!0,metadata:g.metadata})),...f.filter(g=>{const k=new Date(g.createdAt||""),P=new Date;return P.setDate(P.getDate()-7),k>P}).map(g=>{var k;return{id:`announcement-${g.id}`,type:"announcement",title:g.title,description:`${((k=g.content)==null?void 0:k.substring(0,60))||""}...`,time:new Date(g.createdAt||"").toLocaleDateString(),icon:hc,priority:g.priority,category:"Community Announcement",link:"/communications"}}),...v.filter(g=>{const k=new Date(g.scheduledAt),P=new Date,I=new Date;return I.setDate(P.getDate()+30),k>P&&k<I}).map(g=>({id:`meeting-${g.id}`,type:"meeting",title:g.title,description:`Strata Meeting - ${new Date(g.scheduledAt).toLocaleDateString()} at ${new Date(g.scheduledAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}`,time:new Date(g.scheduledAt).toLocaleDateString(),icon:Hs,priority:"normal",category:"Upcoming Meeting",link:"/meetings"})),..._.filter(g=>g.status==="pending").map(g=>({id:`quote-${g.id}`,type:"quote",title:"Quote Pending Approval",description:`${g.description} - $${parseFloat(g.amount||"0").toLocaleString()}`,time:new Date(g.createdAt||"").toLocaleDateString(),icon:Ur,priority:"high",category:"Pending Approval",link:"/quotes"}))].slice(0,10),O=(j==null?void 0:j.map(g=>g.notificationId))||[],U=T.filter(g=>!O.includes(g.id)),A=U.length,S=(e==null?void 0:e.email)||"master-admin";return(()=>{if(!h||!S)return console.log("🔍 Unread count debug: no messages or user",{messages:!!h,currentUserId:S}),0;let g=0;return h.forEach(k=>{!k.isRead&&k.recipientId===S&&(g++,console.log("📬 Found unread message:",{messageId:k.id,subject:k.subject}))}),console.log("📬 Total unread count:",g,"for user:",S),g})(),s.jsxs("header",{className:"bg-white border-b border-border px-4 lg:px-6 py-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs(Bte,{children:[s.jsx(qte,{asChild:!0,children:s.jsx($,{variant:"ghost",size:"icon",className:"lg:hidden",children:s.jsx(_q,{className:"h-5 w-5"})})}),s.jsx(nL,{side:"left",className:"p-0 w-auto [&>button]:hidden",children:s.jsx(zF,{})})]}),s.jsx("div",{className:"hidden lg:block",children:s.jsx("p",{className:"text-muted-foreground text-sm",children:"Welcome back! Here's what's happening with your properties."})}),s.jsx("div",{className:"lg:hidden",children:s.jsx("h1",{className:"text-lg font-semibold text-gray-700",children:"VibeStrat"})})]}),s.jsxs("div",{className:"flex items-center space-x-2 lg:space-x-4",children:[s.jsxs($te,{children:[s.jsx(zte,{asChild:!0,children:s.jsxs($,{variant:"ghost",size:"icon",className:"relative",children:[s.jsx(Qo,{className:"h-5 w-5"}),A>0&&s.jsx(He,{variant:"destructive",className:"absolute -top-1 -right-1 h-5 w-5 rounded-full p-0 flex items-center justify-center text-xs",children:A})]})}),s.jsxs(eL,{className:"w-80 sm:w-96 p-0 mx-4 sm:mx-0",align:"end",children:[s.jsxs("div",{className:"p-4 border-b",children:[s.jsx("h3",{className:"font-semibold",children:"Notifications"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[A," new notifications"]})]}),s.jsx(bg,{className:"h-80",children:U.length===0?s.jsxs("div",{className:"p-4 text-center text-muted-foreground",children:[s.jsx(Qo,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"No new notifications"})]}):s.jsx("div",{className:"p-2",children:U.map(g=>{const k=g.icon;return s.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg hover:bg-gray-50 cursor-pointer transition-colors group border-b border-gray-100 last:border-b-0",onClick:()=>w(g),children:[s.jsx(k,{className:`h-4 w-4 mt-1 flex-shrink-0 ${g.priority==="urgent"?"text-red-600":g.priority==="high"?"text-orange-600":"text-blue-600"}`}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"font-medium text-sm text-gray-900",children:g.title}),s.jsx(JI,{className:"h-3 w-3 text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity"})]}),g.category&&s.jsx("p",{className:"text-xs text-blue-600 mt-1 font-medium",children:g.category}),s.jsx("p",{className:"text-xs text-gray-600 mt-1",children:g.description}),s.jsx("p",{className:"text-xs text-gray-400 mt-2",children:g.time})]})]},g.id)})})})]})]}),s.jsx($,{variant:"outline",onClick:N,children:"Sign Out"})]})]}),s.jsx(ut,{open:a,onOpenChange:o,children:s.jsxs(ct,{className:"max-w-2xl",children:[s.jsx(ht,{children:s.jsxs(mt,{className:"flex items-center space-x-2",children:[s.jsx(ss,{className:"h-5 w-5 text-blue-600"}),s.jsx("span",{children:"Meeting Invitation"})]})}),r&&r.metadata&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 p-6 rounded-lg border border-blue-100",children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:r.metadata.meetingTitle}),s.jsx("p",{className:"text-sm text-gray-600",children:"You're invited to this strata meeting"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-gray-50 rounded-lg",children:[s.jsx(ss,{className:"h-5 w-5 text-blue-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:"Date & Time"}),s.jsx("p",{className:"text-sm text-gray-600",children:new Date(r.metadata.meetingDate).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),s.jsx("p",{className:"text-sm text-gray-600",children:new Date(r.metadata.meetingDate).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})})]})]}),s.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-gray-50 rounded-lg",children:[s.jsx(Xp,{className:"h-5 w-5 text-blue-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:"Location"}),s.jsx("p",{className:"text-sm text-gray-600",children:r.metadata.location||"To be determined"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-gray-50 rounded-lg",children:[s.jsx(nR,{className:"h-5 w-5 text-blue-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:"Organizer"}),s.jsx("p",{className:"text-sm text-gray-600",children:r.metadata.organizer})]})]}),s.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-gray-50 rounded-lg",children:[s.jsx(Vt,{className:"h-5 w-5 text-blue-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:"Meeting Type"}),s.jsx("p",{className:"text-sm text-gray-600 capitalize",children:(r.metadata.type||"general_meeting").replace("_"," ")})]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[s.jsx($,{variant:"outline",onClick:()=>o(!1),children:"Close"}),s.jsx($,{onClick:()=>{o(!1),window.location.href="/meetings"},className:"bg-blue-600 hover:bg-blue-700",children:"View Meeting Details"})]})]})]})})]})}function Yte({children:t}){return s.jsxs("div",{className:"flex h-screen overflow-hidden",children:[s.jsx("div",{className:"hidden lg:block",children:s.jsx(zF,{})}),s.jsxs("main",{className:"flex-1 overflow-auto w-full lg:w-auto",children:[s.jsx(Qte,{}),s.jsx("div",{className:"p-3 sm:p-4 lg:p-6 max-w-full overflow-x-hidden",children:t})]})]})}function Xte(){return s.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:s.jsx(ge,{className:"w-full max-w-md mx-4",children:s.jsxs(be,{className:"pt-6",children:[s.jsxs("div",{className:"flex mb-4 gap-2",children:[s.jsx(ai,{className:"h-8 w-8 text-red-500"}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),s.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function Zte(){return s.jsx("footer",{className:"border-t bg-gray-50 py-4 mt-auto",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center text-xs text-gray-500 space-y-2 sm:space-y-0",children:[s.jsx("div",{children:"© 2025 VibeStrat. All rights reserved."}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsx(Wm,{href:"/terms",className:"hover:text-gray-700 transition-colors",children:"Terms & Conditions"}),s.jsx(Wm,{href:"/privacy-policy",className:"hover:text-gray-700 transition-colors",children:"Privacy Policy"}),s.jsx(Wm,{href:"/refund-policy",className:"hover:text-gray-700 transition-colors",children:"Refund Policy"})]})]})})})}function Jte(){const{isAuthenticated:t,isLoading:e}=xr();return e?s.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-background",children:s.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary"})}):s.jsxs("div",{className:"min-h-screen flex flex-col",children:[s.jsx("div",{className:"flex-1",children:s.jsxs(C9,{children:[t?s.jsx($W,{children:s.jsxs(Yte,{children:[s.jsx(mn,{path:"/",component:tK}),s.jsx(mn,{path:"/financial",component:IY}),s.jsx(mn,{path:"/quotes",component:UY}),s.jsx(mn,{path:"/vendors",component:BY}),s.jsx(mn,{path:"/dwellings",component:sX}),s.jsx(mn,{path:"/documents",component:jZ}),s.jsx(mn,{path:"/meetings",component:wZ}),s.jsx(mn,{path:"/maintenance",component:bZ}),s.jsx(mn,{path:"/communications",component:GJ}),s.jsx(mn,{path:"/reports",component:nte}),s.jsx(mn,{path:"/admin",component:cte}),s.jsx(mn,{path:"/strata-admin",component:fte}),s.jsx(mn,{path:"/terms",component:r_}),s.jsx(mn,{path:"/privacy-policy",component:i_}),s.jsx(mn,{path:"/refund-policy",component:a_})]})}):s.jsxs(s.Fragment,{children:[s.jsx(mn,{path:"/",component:qW}),s.jsx(mn,{path:"/login",component:HW}),s.jsx(mn,{path:"/change-password",component:WW}),s.jsx(mn,{path:"/terms",component:r_}),s.jsx(mn,{path:"/privacy-policy",component:i_}),s.jsx(mn,{path:"/refund-policy",component:a_})]}),s.jsx(mn,{component:Xte})]})}),s.jsx(Zte,{})]})}function ene(){return s.jsx(W9,{client:uc,children:s.jsx(VW,{children:s.jsxs(LW,{children:[s.jsx(mH,{}),s.jsx(Jte,{})]})})})}wk(document.getElementById("root")).render(s.jsx(ene,{}));
